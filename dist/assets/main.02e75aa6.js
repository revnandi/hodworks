var rs=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function P0(a){if(a.__esModule)return a;var h=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(a).forEach(function(s){var f=Object.getOwnPropertyDescriptor(a,s);Object.defineProperty(h,s,f.get?f:{enumerable:!0,get:function(){return a[s]}})}),h}function L0(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Cf={exports:{}};(function(a){(function(h,s){var f=s(h,h.document,Date);h.lazySizes=f,a.exports&&(a.exports=f)})(typeof window!="undefined"?window:{},function(s,f,T){var p,k;if(function(){var Re,Ie={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};k=s.lazySizesConfig||s.lazysizesConfig||{};for(Re in Ie)Re in k||(k[Re]=Ie[Re])}(),!f||!f.getElementsByClassName)return{init:function(){},cfg:k,noSupport:!0};var D=f.documentElement,X=s.HTMLPictureElement,te="addEventListener",ne="getAttribute",ue=s[te].bind(s),H=s.setTimeout,z=s.requestAnimationFrame||H,K=s.requestIdleCallback,V=/^picture$/i,ee=["load","error","lazyincluded","_lazyloaded"],se={},de=Array.prototype.forEach,ce=function(Re,Ie){return se[Ie]||(se[Ie]=new RegExp("(\\s|^)"+Ie+"(\\s|$)")),se[Ie].test(Re[ne]("class")||"")&&se[Ie]},me=function(Re,Ie){ce(Re,Ie)||Re.setAttribute("class",(Re[ne]("class")||"").trim()+" "+Ie)},ze=function(Re,Ie){var ve;(ve=ce(Re,Ie))&&Re.setAttribute("class",(Re[ne]("class")||"").replace(ve," "))},Ce=function(Re,Ie,ve){var Be=ve?te:"removeEventListener";ve&&Ce(Re,Ie),ee.forEach(function(be){Re[Be](be,Ie)})},Le=function(Re,Ie,ve,Be,be){var Ue=f.createEvent("Event");return ve||(ve={}),ve.instance=p,Ue.initEvent(Ie,!Be,!be),Ue.detail=ve,Re.dispatchEvent(Ue),Ue},$e=function(Re,Ie){var ve;!X&&(ve=s.picturefill||k.pf)?(Ie&&Ie.src&&!Re[ne]("srcset")&&Re.setAttribute("srcset",Ie.src),ve({reevaluate:!0,elements:[Re]})):Ie&&Ie.src&&(Re.src=Ie.src)},Fe=function(Re,Ie){return(getComputedStyle(Re,null)||{})[Ie]},tt=function(Re,Ie,ve){for(ve=ve||Re.offsetWidth;ve<k.minSize&&Ie&&!Re._lazysizesWidth;)ve=Ie.offsetWidth,Ie=Ie.parentNode;return ve},Oe=function(){var Re,Ie,ve=[],Be=[],be=ve,Ue=function(){var Ve=be;for(be=ve.length?Be:ve,Re=!0,Ie=!1;Ve.length;)Ve.shift()();Re=!1},gt=function(Ve,rt){Re&&!rt?Ve.apply(this,arguments):(be.push(Ve),Ie||(Ie=!0,(f.hidden?H:z)(Ue)))};return gt._lsFlush=Ue,gt}(),Ne=function(Re,Ie){return Ie?function(){Oe(Re)}:function(){var ve=this,Be=arguments;Oe(function(){Re.apply(ve,Be)})}},Qe=function(Re){var Ie,ve=0,Be=k.throttleDelay,be=k.ricTimeout,Ue=function(){Ie=!1,ve=T.now(),Re()},gt=K&&be>49?function(){K(Ue,{timeout:be}),be!==k.ricTimeout&&(be=k.ricTimeout)}:Ne(function(){H(Ue)},!0);return function(Ve){var rt;(Ve=Ve===!0)&&(be=33),!Ie&&(Ie=!0,rt=Be-(T.now()-ve),rt<0&&(rt=0),Ve||rt<9?gt():H(gt,rt))}},Te=function(Re){var Ie,ve,Be=99,be=function(){Ie=null,Re()},Ue=function(){var gt=T.now()-ve;gt<Be?H(Ue,Be-gt):(K||be)(be)};return function(){ve=T.now(),Ie||(Ie=H(Ue,Be))}},It=function(){var Re,Ie,ve,Be,be,Ue,gt,Ve,rt,Kt,Xt,Et,Ft=/^img$/i,Nt=/^iframe$/i,Ti="onscroll"in s&&!/(gle|ing)bot/.test(navigator.userAgent),Je=0,_t=0,Rt=0,gi=-1,wi=function(g){Rt--,(!g||Rt<0||!g.target)&&(Rt=0)},In=function(g){return Et==null&&(Et=Fe(f.body,"visibility")=="hidden"),Et||!(Fe(g.parentNode,"visibility")=="hidden"&&Fe(g,"visibility")=="hidden")},mr=function(g,d){var m,_=g,w=In(g);for(Ve-=d,Xt+=d,rt-=d,Kt+=d;w&&(_=_.offsetParent)&&_!=f.body&&_!=D;)w=(Fe(_,"opacity")||1)>0,w&&Fe(_,"overflow")!="visible"&&(m=_.getBoundingClientRect(),w=Kt>m.left&&rt<m.right&&Xt>m.top-1&&Ve<m.bottom+1);return w},ei=function(){var g,d,m,_,w,C,x,b,P,E,L,S,I=p.elements;if((Be=k.loadMode)&&Rt<8&&(g=I.length)){for(d=0,gi++;d<g;d++)if(!(!I[d]||I[d]._lazyRace)){if(!Ti||p.prematureUnveil&&p.prematureUnveil(I[d])){n(I[d]);continue}if((!(b=I[d][ne]("data-expand"))||!(C=b*1))&&(C=_t),E||(E=!k.expand||k.expand<1?D.clientHeight>500&&D.clientWidth>500?500:370:k.expand,p._defEx=E,L=E*k.expFactor,S=k.hFac,Et=null,_t<L&&Rt<1&&gi>2&&Be>2&&!f.hidden?(_t=L,gi=0):Be>1&&gi>1&&Rt<6?_t=E:_t=Je),P!==C&&(Ue=innerWidth+C*S,gt=innerHeight+C,x=C*-1,P=C),m=I[d].getBoundingClientRect(),(Xt=m.bottom)>=x&&(Ve=m.top)<=gt&&(Kt=m.right)>=x*S&&(rt=m.left)<=Ue&&(Xt||Kt||rt||Ve)&&(k.loadHidden||In(I[d]))&&(Ie&&Rt<3&&!b&&(Be<3||gi<4)||mr(I[d],C))){if(n(I[d]),w=!0,Rt>9)break}else!w&&Ie&&!_&&Rt<4&&gi<4&&Be>2&&(Re[0]||k.preloadAfterLoad)&&(Re[0]||!b&&(Xt||Kt||rt||Ve||I[d][ne](k.sizesAttr)!="auto"))&&(_=Re[0]||I[d])}_&&!w&&n(_)}},ot=Qe(ei),ki=function(g){var d=g.target;if(d._lazyCache){delete d._lazyCache;return}wi(g),me(d,k.loadedClass),ze(d,k.loadingClass),Ce(d,Pt),Le(d,"lazyloaded")},et=Ne(ki),Pt=function(g){et({target:g.target})},He=function(g,d){var m=g.getAttribute("data-load-mode")||k.iframeLoadMode;m==0?g.contentWindow.location.replace(d):m==1&&(g.src=d)},e=function(g){var d,m=g[ne](k.srcsetAttr);(d=k.customMedia[g[ne]("data-media")||g[ne]("media")])&&g.setAttribute("media",d),m&&g.setAttribute("srcset",m)},i=Ne(function(g,d,m,_,w){var C,x,b,P,E,L;(E=Le(g,"lazybeforeunveil",d)).defaultPrevented||(_&&(m?me(g,k.autosizesClass):g.setAttribute("sizes",_)),x=g[ne](k.srcsetAttr),C=g[ne](k.srcAttr),w&&(b=g.parentNode,P=b&&V.test(b.nodeName||"")),L=d.firesLoad||"src"in g&&(x||C||P),E={target:g},me(g,k.loadingClass),L&&(clearTimeout(ve),ve=H(wi,2500),Ce(g,Pt,!0)),P&&de.call(b.getElementsByTagName("source"),e),x?g.setAttribute("srcset",x):C&&!P&&(Nt.test(g.nodeName)?He(g,C):g.src=C),w&&(x||P)&&$e(g,{src:C})),g._lazyRace&&delete g._lazyRace,ze(g,k.lazyClass),Oe(function(){var S=g.complete&&g.naturalWidth>1;(!L||S)&&(S&&me(g,k.fastLoadedClass),ki(E),g._lazyCache=!0,H(function(){"_lazyCache"in g&&delete g._lazyCache},9)),g.loading=="lazy"&&Rt--},!0)}),n=function(g){if(!g._lazyRace){var d,m=Ft.test(g.nodeName),_=m&&(g[ne](k.sizesAttr)||g[ne]("sizes")),w=_=="auto";(w||!Ie)&&m&&(g[ne]("src")||g.srcset)&&!g.complete&&!ce(g,k.errorClass)&&ce(g,k.lazyClass)||(d=Le(g,"lazyunveilread").detail,w&&_e.updateElem(g,!0,g.offsetWidth),g._lazyRace=!0,Rt++,i(g,d,w,_,m))}},o=Te(function(){k.loadMode=3,ot()}),l=function(){k.loadMode==3&&(k.loadMode=2),o()},c=function(){if(!Ie){if(T.now()-be<999){H(c,999);return}Ie=!0,k.loadMode=3,ot(),ue("scroll",l,!0)}};return{_:function(){be=T.now(),p.elements=f.getElementsByClassName(k.lazyClass),Re=f.getElementsByClassName(k.lazyClass+" "+k.preloadClass),ue("scroll",ot,!0),ue("resize",ot,!0),ue("pageshow",function(g){if(g.persisted){var d=f.querySelectorAll("."+k.loadingClass);d.length&&d.forEach&&z(function(){d.forEach(function(m){m.complete&&n(m)})})}}),s.MutationObserver?new MutationObserver(ot).observe(D,{childList:!0,subtree:!0,attributes:!0}):(D[te]("DOMNodeInserted",ot,!0),D[te]("DOMAttrModified",ot,!0),setInterval(ot,999)),ue("hashchange",ot,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(g){f[te](g,ot,!0)}),/d$|^c/.test(f.readyState)?c():(ue("load",c),f[te]("DOMContentLoaded",ot),H(c,2e4)),p.elements.length?(ei(),Oe._lsFlush()):ot()},checkElems:ot,unveil:n,_aLSL:l}}(),_e=function(){var Re,Ie=Ne(function(Ue,gt,Ve,rt){var Kt,Xt,Et;if(Ue._lazysizesWidth=rt,rt+="px",Ue.setAttribute("sizes",rt),V.test(gt.nodeName||""))for(Kt=gt.getElementsByTagName("source"),Xt=0,Et=Kt.length;Xt<Et;Xt++)Kt[Xt].setAttribute("sizes",rt);Ve.detail.dataAttr||$e(Ue,Ve.detail)}),ve=function(Ue,gt,Ve){var rt,Kt=Ue.parentNode;Kt&&(Ve=tt(Ue,Kt,Ve),rt=Le(Ue,"lazybeforesizes",{width:Ve,dataAttr:!!gt}),rt.defaultPrevented||(Ve=rt.detail.width,Ve&&Ve!==Ue._lazysizesWidth&&Ie(Ue,Kt,rt,Ve)))},Be=function(){var Ue,gt=Re.length;if(gt)for(Ue=0;Ue<gt;Ue++)ve(Re[Ue])},be=Te(Be);return{_:function(){Re=f.getElementsByClassName(k.autosizesClass),ue("resize",be)},checkElems:be,updateElem:ve}}(),ht=function(){!ht.i&&f.getElementsByClassName&&(ht.i=!0,_e._(),It._())};return H(function(){k.init&&ht()}),p={cfg:k,autoSizer:_e,loader:It,init:ht,uP:$e,aC:me,rC:ze,hC:ce,fire:Le,gW:tt,rAF:Oe},p})})(Cf);var O0={exports:{}};(function(a){(function(h,s){if(!!h){var f=function(){s(h.lazySizes),h.removeEventListener("lazyunveilread",f,!0)};s=s.bind(null,h,h.document),a.exports?s(Cf.exports):h.lazySizes?f():h.addEventListener("lazyunveilread",f,!0)}})(typeof window!="undefined"?window:0,function(h,s,f){var T;(function(){var H,z={blurUpClass:"ls-blur-up-img",blurUpLoadingClass:"ls-blur-up-is-loading",blurUpInviewClass:"ls-inview",blurUpLoadedClass:"ls-blur-up-loaded",blurUpLoadedOriginalClass:"ls-original-loaded"};T=f.cfg||{};for(H in z)H in T||(T[H]=z[H])})();var p=[].slice,k=/blur-up["']*\s*:\s*["']*(always|auto)/,D=/image\/(jpeg|png|gif|svg\+xml)/,X="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",te=function(H){var z=H.getAttribute("data-media")||H.getAttribute("media"),K=H.getAttribute("type");return(!K||D.test(K))&&(!z||h.matchMedia(f.cfg.customMedia[z]||z).matches)},ne=function(H,z){var K,V=H?p.call(H.querySelectorAll("source, img")):[z];return V.forEach(function(ee){if(!K){var se=ee.getAttribute("data-lowsrc");se&&te(ee)&&(K=se)}}),K},ue=function(H,z,K,V){var ee,se=!1,de=!1,ce=V=="always"?0:Date.now(),me=0,ze=(H||z).parentNode,Ce=function(){if(!!K){var Oe=function(Ne){se=!0,ee||(ee=Ne.target),f.rAF(function(){f.rC(z,f.cfg.blurUpLoadingClass),ee&&f.aC(ee,f.cfg.blurUpLoadedClass)}),ee&&(ee.removeEventListener("load",Oe),ee.removeEventListener("error",Oe))};ee=s.createElement("img"),ee.addEventListener("load",Oe),ee.addEventListener("error",Oe),ee.className=f.cfg.blurUpClass,ee.cssText=z.cssText,ee.src=K,ee.alt="",ee.setAttribute("aria-hidden","true"),ze.insertBefore(ee,(H||z).nextSibling),V!="always"&&(ee.style.visibility="hidden",f.rAF(function(){ee&&setTimeout(function(){ee&&f.rAF(function(){!de&&ee&&(ee.style.visibility="")})},f.cfg.blurupCacheDelay||33)}))}},Le=function(){ee&&f.rAF(function(){f.rC(z,f.cfg.blurUpLoadingClass);try{ee.parentNode.removeChild(ee)}catch(Oe){}ee=null})},$e=function(Oe){me++,de=Oe||de,Oe?Le():me>1&&setTimeout(Le,5e3)},Fe=function(){z.removeEventListener("load",Fe),z.removeEventListener("error",Fe),ee&&f.rAF(function(){ee&&f.aC(ee,f.cfg.blurUpLoadedOriginalClass)}),f.fire(z,"blurUpLoaded"),V!="always"&&(!se||Date.now()-ce<66)?$e(!0):$e()};Ce(),z.addEventListener("load",Fe),z.addEventListener("error",Fe),f.aC(z,f.cfg.blurUpLoadingClass);var tt=function(Oe){ze==Oe.target&&(f.aC(ee||z,f.cfg.blurUpInviewClass),$e(),ze.removeEventListener("lazybeforeunveil",tt))};ze.getAttribute("data-expand")||ze.setAttribute("data-expand",-1),ze.addEventListener("lazybeforeunveil",tt),f.aC(ze,f.cfg.lazyClass)};h.addEventListener("lazybeforeunveil",function(H){var z=H.detail;if(!(z.instance!=f||!z.blurUp)){var K=H.target,V=K.parentNode;V.nodeName!="PICTURE"&&(V=null),ue(V,K,ne(V,K)||X,z.blurUp)}}),h.addEventListener("lazyunveilread",function(H){var z=H.detail;if(z.instance==f){var K=H.target,V=(getComputedStyle(K,null)||{fontFamily:""}).fontFamily.match(k);!V&&!K.getAttribute("data-lowsrc")||(z.blurUp=V&&V[1]||f.cfg.blurupMode||"always")}})})})(O0);function Ke(a,h,s){return h in a?Object.defineProperty(a,h,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[h]=s,a}function M0(a,h){if(!(a instanceof h))throw new TypeError("Cannot call a class as a function")}function Xh(a,h){for(var s=0;s<h.length;s++){var f=h[s];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}function z0(a,h,s){return h&&Xh(a.prototype,h),s&&Xh(a,s),a}function N0(a,h,s){return h in a?Object.defineProperty(a,h,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[h]=s,a}function Jh(a,h){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);h&&(f=f.filter(function(T){return Object.getOwnPropertyDescriptor(a,T).enumerable})),s.push.apply(s,f)}return s}function Qh(a){for(var h=1;h<arguments.length;h++){var s=arguments[h]!=null?arguments[h]:{};h%2?Jh(Object(s),!0).forEach(function(f){N0(a,f,s[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Jh(Object(s)).forEach(function(f){Object.defineProperty(a,f,Object.getOwnPropertyDescriptor(s,f))})}return a}var ef={addCSS:!0,thumbWidth:15,watch:!0};function R0(a,h){return function(){return Array.from(document.querySelectorAll(h)).includes(this)}.call(a,h)}function D0(a,h){if(a&&h){var s=new Event(h,{bubbles:!0});a.dispatchEvent(s)}}var qa=function(a){return a!=null?a.constructor:null},Wu=function(a,h){return!!(a&&h&&a instanceof h)},Sf=function(a){return a==null},Tf=function(a){return qa(a)===Object},B0=function(a){return qa(a)===Number&&!Number.isNaN(a)},kf=function(a){return qa(a)===String},F0=function(a){return qa(a)===Boolean},q0=function(a){return qa(a)===Function},Ef=function(a){return Array.isArray(a)},Af=function(a){return Wu(a,NodeList)},U0=function(a){return Wu(a,Element)},V0=function(a){return Wu(a,Event)},H0=function(a){return Sf(a)||(kf(a)||Ef(a)||Af(a))&&!a.length||Tf(a)&&!Object.keys(a).length},Ri={nullOrUndefined:Sf,object:Tf,number:B0,string:kf,boolean:F0,function:q0,array:Ef,nodeList:Af,element:U0,event:V0,empty:H0};function W0(a){var h="".concat(a).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return h?Math.max(0,(h[1]?h[1].length:0)-(h[2]?+h[2]:0)):0}function G0(a,h){if(1>h){var s=W0(h);return parseFloat(a.toFixed(s))}return Math.round(a/h)*h}var $0=function(){function a(h,s){M0(this,a),Ri.element(h)?this.element=h:Ri.string(h)&&(this.element=document.querySelector(h)),Ri.element(this.element)&&Ri.empty(this.element.rangeTouch)&&(this.config=Qh({},ef,{},s),this.init())}return z0(a,[{key:"init",value:function(){a.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){a.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(h){var s=this,f=h?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(T){s.element[f](T,function(p){return s.set(p)},!1)})}},{key:"get",value:function(h){if(!a.enabled||!Ri.event(h))return null;var s,f=h.target,T=h.changedTouches[0],p=parseFloat(f.getAttribute("min"))||0,k=parseFloat(f.getAttribute("max"))||100,D=parseFloat(f.getAttribute("step"))||1,X=f.getBoundingClientRect(),te=100/X.width*(this.config.thumbWidth/2)/100;return 0>(s=100/X.width*(T.clientX-X.left))?s=0:100<s&&(s=100),50>s?s-=(100-2*s)*te:50<s&&(s+=2*(s-50)*te),p+G0(s/100*(k-p),D)}},{key:"set",value:function(h){a.enabled&&Ri.event(h)&&!h.target.disabled&&(h.preventDefault(),h.target.value=this.get(h),D0(h.target,h.type==="touchend"?"change":"input"))}}],[{key:"setup",value:function(h){var s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},f=null;if(Ri.empty(h)||Ri.string(h)?f=Array.from(document.querySelectorAll(Ri.string(h)?h:'input[type="range"]')):Ri.element(h)?f=[h]:Ri.nodeList(h)?f=Array.from(h):Ri.array(h)&&(f=h.filter(Ri.element)),Ri.empty(f))return null;var T=Qh({},ef,{},s);if(Ri.string(h)&&T.watch){var p=new MutationObserver(function(k){Array.from(k).forEach(function(D){Array.from(D.addedNodes).forEach(function(X){Ri.element(X)&&R0(X,h)&&new a(X,T)})})});p.observe(document.body,{childList:!0,subtree:!0})}return f.map(function(k){return new a(k,s)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),a}();const Gs=a=>a!=null?a.constructor:null,gr=(a,h)=>Boolean(a&&h&&a instanceof h),Gu=a=>a==null,If=a=>Gs(a)===Object,Y0=a=>Gs(a)===Number&&!Number.isNaN(a),jo=a=>Gs(a)===String,Z0=a=>Gs(a)===Boolean,Pf=a=>Gs(a)===Function,Lf=a=>Array.isArray(a),K0=a=>gr(a,WeakMap),Of=a=>gr(a,NodeList),j0=a=>Gs(a)===Text,X0=a=>gr(a,Event),J0=a=>gr(a,KeyboardEvent),Q0=a=>gr(a,window.TextTrackCue)||gr(a,window.VTTCue),ey=a=>gr(a,TextTrack)||!Gu(a)&&jo(a.kind),ty=a=>gr(a,Promise)&&Pf(a.then),iy=a=>a!==null&&typeof a=="object"&&a.nodeType===1&&typeof a.style=="object"&&typeof a.ownerDocument=="object",Mf=a=>Gu(a)||(jo(a)||Lf(a)||Of(a))&&!a.length||If(a)&&!Object.keys(a).length,ny=a=>{if(gr(a,window.URL))return!0;if(!jo(a))return!1;let h=a;a.startsWith("http://")&&a.startsWith("https://")||(h=`http://${a}`);try{return!Mf(new URL(h).hostname)}catch(s){return!1}};var $={nullOrUndefined:Gu,object:If,number:Y0,string:jo,boolean:Z0,function:Pf,array:Lf,weakMap:K0,nodeList:Of,element:iy,textNode:j0,event:X0,keyboardEvent:J0,cue:Q0,track:ey,promise:ty,url:ny,empty:Mf};const Au=(()=>{const a=document.createElement("span"),h={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},s=Object.keys(h).find(f=>a.style[f]!==void 0);return!!$.string(s)&&h[s]})();function zf(a,h){setTimeout(()=>{try{a.hidden=!0,a.offsetHeight,a.hidden=!1}catch(s){}},h)}const Ai={isIE:Boolean(window.document.documentMode),isEdge:window.navigator.userAgent.includes("Edge"),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1||/(iPad|iPhone|iPod)/gi.test(navigator.platform)};function ry(a){return JSON.parse(JSON.stringify(a))}function Nf(a,h){return h.split(".").reduce((s,f)=>s&&s[f],a)}function di(a={},...h){if(!h.length)return a;const s=h.shift();return $.object(s)?(Object.keys(s).forEach(f=>{$.object(s[f])?(Object.keys(a).includes(f)||Object.assign(a,{[f]:{}}),di(a[f],s[f])):Object.assign(a,{[f]:s[f]})}),di(a,...h)):a}function Rf(a,h){const s=a.length?a:[a];Array.from(s).reverse().forEach((f,T)=>{const p=T>0?h.cloneNode(!0):h,k=f.parentNode,D=f.nextSibling;p.appendChild(f),D?k.insertBefore(p,D):k.appendChild(p)})}function Iu(a,h){$.element(a)&&!$.empty(h)&&Object.entries(h).filter(([,s])=>!$.nullOrUndefined(s)).forEach(([s,f])=>a.setAttribute(s,f))}function mt(a,h,s){const f=document.createElement(a);return $.object(h)&&Iu(f,h),$.string(s)&&(f.innerText=s),f}function sy(a,h){$.element(a)&&$.element(h)&&h.parentNode.insertBefore(a,h.nextSibling)}function tf(a,h,s,f){$.element(h)&&h.appendChild(mt(a,s,f))}function hr(a){$.nodeList(a)||$.array(a)?Array.from(a).forEach(hr):$.element(a)&&$.element(a.parentNode)&&a.parentNode.removeChild(a)}function No(a){if(!$.element(a))return;let{length:h}=a.childNodes;for(;h>0;)a.removeChild(a.lastChild),h-=1}function Vo(a,h){return $.element(h)&&$.element(h.parentNode)&&$.element(a)?(h.parentNode.replaceChild(a,h),a):null}function Fn(a,h){if(!$.string(a)||$.empty(a))return{};const s={},f=di({},h);return a.split(",").forEach(T=>{const p=T.trim(),k=p.replace(".",""),D=p.replace(/[[\]]/g,"").split("="),[X]=D,te=D.length>1?D[1].replace(/["']/g,""):"";switch(p.charAt(0)){case".":$.string(f.class)?s.class=`${f.class} ${k}`:s.class=k;break;case"#":s.id=p.replace("#","");break;case"[":s[X]=te}}),di(f,s)}function ns(a,h){if(!$.element(a))return;let s=h;$.boolean(s)||(s=!a.hidden),a.hidden=s}function Dt(a,h,s){if($.nodeList(a))return Array.from(a).map(f=>Dt(f,h,s));if($.element(a)){let f="toggle";return s!==void 0&&(f=s?"add":"remove"),a.classList[f](h),a.classList.contains(h)}return!1}function Ho(a,h){return $.element(a)&&a.classList.contains(h)}function ss(a,h){const{prototype:s}=Element;return(s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.msMatchesSelector||function(){return Array.from(document.querySelectorAll(h)).includes(this)}).call(a,h)}function ay(a,h){const{prototype:s}=Element;return(s.closest||function(){let f=this;do{if(ss.matches(f,h))return f;f=f.parentElement||f.parentNode}while(f!==null&&f.nodeType===1);return null}).call(a,h)}function Ns(a){return this.elements.container.querySelectorAll(a)}function bi(a){return this.elements.container.querySelector(a)}function bu(a=null,h=!1){$.element(a)&&(a.focus({preventScroll:!0}),h&&Dt(a,this.config.classNames.tabFocus))}const nf={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},oi={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(a,h,s){const f=Ai.isIPhone&&s&&oi.playsinline,T=oi[a]||h!=="html5";return{api:T,ui:T&&oi.rangeInput&&(a!=="video"||!Ai.isIPhone||f)}},pip:!(Ai.isIPhone||!$.function(mt("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||mt("video").disablePictureInPicture)),airplay:$.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(a){if($.empty(a))return!1;const[h]=a.split("/");let s=a;if(!this.isHTML5||h!==this.type)return!1;Object.keys(nf).includes(s)&&(s+=`; codecs="${nf[a]}"`);try{return Boolean(s&&this.media.canPlayType(s).replace(/no/,""))}catch(f){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const a=document.createElement("input");return a.type="range",a.type==="range"})(),touch:"ontouchstart"in document.documentElement,transitions:Au!==!1,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},oy=(()=>{let a=!1;try{const h=Object.defineProperty({},"passive",{get:()=>(a=!0,null)});window.addEventListener("test",null,h),window.removeEventListener("test",null,h)}catch(h){}return a})();function Rs(a,h,s,f=!1,T=!0,p=!1){if(!a||!("addEventListener"in a)||$.empty(h)||!$.function(s))return;const k=h.split(" ");let D=p;oy&&(D={passive:T,capture:p}),k.forEach(X=>{this&&this.eventListeners&&f&&this.eventListeners.push({element:a,type:X,callback:s,options:D}),a[f?"addEventListener":"removeEventListener"](X,s,D)})}function Bt(a,h="",s,f=!0,T=!1){Rs.call(this,a,h,s,!0,f,T)}function Xo(a,h="",s,f=!0,T=!1){Rs.call(this,a,h,s,!1,f,T)}function $u(a,h="",s,f=!0,T=!1){const p=(...k)=>{Xo(a,h,p,f,T),s.apply(this,k)};Rs.call(this,a,h,p,!0,f,T)}function yt(a,h="",s=!1,f={}){if(!$.element(a)||$.empty(h))return;const T=new CustomEvent(h,{bubbles:s,detail:{...f,plyr:this}});a.dispatchEvent(T)}function ly(){this&&this.eventListeners&&(this.eventListeners.forEach(a=>{const{element:h,type:s,callback:f,options:T}=a;h.removeEventListener(s,f,T)}),this.eventListeners=[])}function uy(){return new Promise(a=>this.ready?setTimeout(a,0):Bt.call(this,this.elements.container,"ready",a)).then(()=>{})}function Un(a){$.promise(a)&&a.then(null,()=>{})}function Pu(a){return $.array(a)?a.filter((h,s)=>a.indexOf(h)===s):a}function Df(a,h){return $.array(a)&&a.length?a.reduce((s,f)=>Math.abs(f-h)<Math.abs(s-h)?f:s):null}function Bf(a){return!(!window||!window.CSS)&&window.CSS.supports(a)}const rf=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce((a,[h,s])=>({...a,[h/s]:[h,s]}),{});function Ff(a){return $.array(a)||$.string(a)&&a.includes(":")?($.array(a)?a:a.split(":")).map(Number).every($.number):!1}function Wo(a){if(!$.array(a)||!a.every($.number))return null;const[h,s]=a,f=(p,k)=>k===0?p:f(k,p%k),T=f(h,s);return[h/T,s/T]}function Yu(a){const h=f=>Ff(f)?f.split(":").map(Number):null;let s=h(a);if(s===null&&(s=h(this.config.ratio)),s===null&&!$.empty(this.embed)&&$.array(this.embed.ratio)&&({ratio:s}=this.embed),s===null&&this.isHTML5){const{videoWidth:f,videoHeight:T}=this.media;s=[f,T]}return Wo(s)}function Fs(a){if(!this.isVideo)return{};const{wrapper:h}=this.elements,s=Yu.call(this,a);if(!$.array(s))return{};const[f,T]=Wo(s),p=100/f*T;if(Bf(`aspect-ratio: ${f}/${T}`)?h.style.aspectRatio=`${f}/${T}`:h.style.paddingBottom=`${p}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const k=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),D=(k-p)/(k/50);this.fullscreen.active?h.style.paddingBottom=null:this.media.style.transform=`translateY(-${D}%)`}else this.isHTML5&&h.classList.add(this.config.classNames.videoFixedRatio);return{padding:p,ratio:s}}function qf(a,h,s=.05){const f=a/h,T=Df(Object.keys(rf),f);return Math.abs(T-f)<=s?rf[T]:[a,h]}function cy(){return[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)]}const Lr={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(a=>{const h=a.getAttribute("type");return!!$.empty(h)||oi.mime.call(this,h)}):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:Lr.getSources.call(this).map(a=>Number(a.getAttribute("size"))).filter(Boolean)},setup(){if(!this.isHTML5)return;const a=this;a.options.speed=a.config.speed.options,$.empty(this.config.ratio)||Fs.call(a),Object.defineProperty(a.media,"quality",{get(){const h=Lr.getSources.call(a).find(s=>s.getAttribute("src")===a.source);return h&&Number(h.getAttribute("size"))},set(h){if(a.quality!==h){if(a.config.quality.forced&&$.function(a.config.quality.onChange))a.config.quality.onChange(h);else{const s=Lr.getSources.call(a).find(X=>Number(X.getAttribute("size"))===h);if(!s)return;const{currentTime:f,paused:T,preload:p,readyState:k,playbackRate:D}=a.media;a.media.src=s.getAttribute("src"),(p!=="none"||k)&&(a.once("loadedmetadata",()=>{a.speed=D,a.currentTime=f,T||Un(a.play())}),a.media.load())}yt.call(a,a.media,"qualitychange",!1,{quality:h})}}})},cancelRequests(){this.isHTML5&&(hr(Lr.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function hy(a){return`${a}-${Math.floor(1e4*Math.random())}`}function Lu(a,...h){return $.empty(a)?a:a.toString().replace(/{(\d+)}/g,(s,f)=>h[f].toString())}function fy(a,h){return a===0||h===0||Number.isNaN(a)||Number.isNaN(h)?0:(a/h*100).toFixed(2)}const Pa=(a="",h="",s="")=>a.replace(new RegExp(h.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),s.toString()),Uf=(a="")=>a.toString().replace(/\w\S*/g,h=>h.charAt(0).toUpperCase()+h.slice(1).toLowerCase());function dy(a=""){let h=a.toString();return h=Pa(h,"-"," "),h=Pa(h,"_"," "),h=Uf(h),Pa(h," ","")}function gy(a=""){let h=a.toString();return h=dy(h),h.charAt(0).toLowerCase()+h.slice(1)}function py(a){const h=document.createDocumentFragment(),s=document.createElement("div");return h.appendChild(s),s.innerHTML=a,h.firstChild.innerText}function my(a){const h=document.createElement("div");return h.appendChild(a),h.innerHTML}const sf={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},Si={get(a="",h={}){if($.empty(a)||$.empty(h))return"";let s=Nf(h.i18n,a);if($.empty(s))return Object.keys(sf).includes(a)?sf[a]:"";const f={"{seektime}":h.seekTime,"{title}":h.title};return Object.entries(f).forEach(([T,p])=>{s=Pa(s,T,p)}),s}};class Ma{constructor(h){Ke(this,"get",s=>{if(!Ma.supported||!this.enabled)return null;const f=window.localStorage.getItem(this.key);if($.empty(f))return null;const T=JSON.parse(f);return $.string(s)&&s.length?T[s]:T}),Ke(this,"set",s=>{if(!Ma.supported||!this.enabled||!$.object(s))return;let f=this.get();$.empty(f)&&(f={}),di(f,s);try{window.localStorage.setItem(this.key,JSON.stringify(f))}catch(T){}}),this.enabled=h.config.storage.enabled,this.key=h.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const h="___test";return window.localStorage.setItem(h,h),window.localStorage.removeItem(h),!0}catch(h){return!1}}}function Ua(a,h="text"){return new Promise((s,f)=>{try{const T=new XMLHttpRequest;if(!("withCredentials"in T))return;T.addEventListener("load",()=>{if(h==="text")try{s(JSON.parse(T.responseText))}catch(p){s(T.responseText)}else s(T.response)}),T.addEventListener("error",()=>{throw new Error(T.status)}),T.open("GET",a,!0),T.responseType=h,T.send()}catch(T){f(T)}})}function Vf(a,h){if(!$.string(a))return;const s=$.string(h);let f=!1;const T=()=>document.getElementById(h)!==null,p=(k,D)=>{k.innerHTML=D,s&&T()||document.body.insertAdjacentElement("afterbegin",k)};if(!s||!T()){const k=Ma.supported,D=document.createElement("div");if(D.setAttribute("hidden",""),s&&D.setAttribute("id",h),k){const X=window.localStorage.getItem(`cache-${h}`);if(f=X!==null,f){const te=JSON.parse(X);p(D,te.content)}}Ua(a).then(X=>{if(!$.empty(X)){if(k)try{window.localStorage.setItem(`cache-${h}`,JSON.stringify({content:X}))}catch(te){}p(D,X)}}).catch(()=>{})}}const Hf=a=>Math.trunc(a/60/60%60,10),_y=a=>Math.trunc(a%60,10);function Jo(a=0,h=!1,s=!1){if(!$.number(a))return Jo(void 0,h,s);const f=X=>`0${X}`.slice(-2);let T=Hf(a);const p=(k=a,Math.trunc(k/60%60,10));var k;const D=_y(a);return T=h||T>0?`${T}:`:"",`${s&&a>0?"-":""}${T}${f(p)}:${f(D)}`}const Ge={getIconUrl(){const a=new URL(this.config.iconUrl,window.location),h=window.location.host?window.location.host:window.top.location.host,s=a.host!==h||Ai.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:s}},findElements(){try{return this.elements.controls=bi.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:Ns.call(this,this.config.selectors.buttons.play),pause:bi.call(this,this.config.selectors.buttons.pause),restart:bi.call(this,this.config.selectors.buttons.restart),rewind:bi.call(this,this.config.selectors.buttons.rewind),fastForward:bi.call(this,this.config.selectors.buttons.fastForward),mute:bi.call(this,this.config.selectors.buttons.mute),pip:bi.call(this,this.config.selectors.buttons.pip),airplay:bi.call(this,this.config.selectors.buttons.airplay),settings:bi.call(this,this.config.selectors.buttons.settings),captions:bi.call(this,this.config.selectors.buttons.captions),fullscreen:bi.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=bi.call(this,this.config.selectors.progress),this.elements.inputs={seek:bi.call(this,this.config.selectors.inputs.seek),volume:bi.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:bi.call(this,this.config.selectors.display.buffer),currentTime:bi.call(this,this.config.selectors.display.currentTime),duration:bi.call(this,this.config.selectors.display.duration)},$.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(a){return this.debug.warn("It looks like there is a problem with your custom controls HTML",a),this.toggleNativeControls(!0),!1}},createIcon(a,h){const s="http://www.w3.org/2000/svg",f=Ge.getIconUrl.call(this),T=`${f.cors?"":f.url}#${this.config.iconPrefix}`,p=document.createElementNS(s,"svg");Iu(p,di(h,{"aria-hidden":"true",focusable:"false"}));const k=document.createElementNS(s,"use"),D=`${T}-${a}`;return"href"in k&&k.setAttributeNS("http://www.w3.org/1999/xlink","href",D),k.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",D),p.appendChild(k),p},createLabel(a,h={}){const s=Si.get(a,this.config);return mt("span",{...h,class:[h.class,this.config.classNames.hidden].filter(Boolean).join(" ")},s)},createBadge(a){if($.empty(a))return null;const h=mt("span",{class:this.config.classNames.menu.value});return h.appendChild(mt("span",{class:this.config.classNames.menu.badge},a)),h},createButton(a,h){const s=di({},h);let f=gy(a);const T={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(k=>{Object.keys(s).includes(k)&&(T[k]=s[k],delete s[k])}),T.element!=="button"||Object.keys(s).includes("type")||(s.type="button"),Object.keys(s).includes("class")?s.class.split(" ").some(k=>k===this.config.classNames.control)||di(s,{class:`${s.class} ${this.config.classNames.control}`}):s.class=this.config.classNames.control,a){case"play":T.toggle=!0,T.label="play",T.labelPressed="pause",T.icon="play",T.iconPressed="pause";break;case"mute":T.toggle=!0,T.label="mute",T.labelPressed="unmute",T.icon="volume",T.iconPressed="muted";break;case"captions":T.toggle=!0,T.label="enableCaptions",T.labelPressed="disableCaptions",T.icon="captions-off",T.iconPressed="captions-on";break;case"fullscreen":T.toggle=!0,T.label="enterFullscreen",T.labelPressed="exitFullscreen",T.icon="enter-fullscreen",T.iconPressed="exit-fullscreen";break;case"play-large":s.class+=` ${this.config.classNames.control}--overlaid`,f="play",T.label="play",T.icon="play";break;default:$.empty(T.label)&&(T.label=f),$.empty(T.icon)&&(T.icon=a)}const p=mt(T.element);return T.toggle?(p.appendChild(Ge.createIcon.call(this,T.iconPressed,{class:"icon--pressed"})),p.appendChild(Ge.createIcon.call(this,T.icon,{class:"icon--not-pressed"})),p.appendChild(Ge.createLabel.call(this,T.labelPressed,{class:"label--pressed"})),p.appendChild(Ge.createLabel.call(this,T.label,{class:"label--not-pressed"}))):(p.appendChild(Ge.createIcon.call(this,T.icon)),p.appendChild(Ge.createLabel.call(this,T.label))),di(s,Fn(this.config.selectors.buttons[f],s)),Iu(p,s),f==="play"?($.array(this.elements.buttons[f])||(this.elements.buttons[f]=[]),this.elements.buttons[f].push(p)):this.elements.buttons[f]=p,p},createRange(a,h){const s=mt("input",di(Fn(this.config.selectors.inputs[a]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":Si.get(a,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},h));return this.elements.inputs[a]=s,Ge.updateRangeFill.call(this,s),$0.setup(s),s},createProgress(a,h){const s=mt("progress",di(Fn(this.config.selectors.display[a]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},h));if(a!=="volume"){s.appendChild(mt("span",null,"0"));const f={played:"played",buffer:"buffered"}[a],T=f?Si.get(f,this.config):"";s.innerText=`% ${T.toLowerCase()}`}return this.elements.display[a]=s,s},createTime(a,h){const s=Fn(this.config.selectors.display[a],h),f=mt("div",di(s,{class:`${s.class?s.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":Si.get(a,this.config)}),"00:00");return this.elements.display[a]=f,f},bindMenuItemShortcuts(a,h){Bt.call(this,a,"keydown keyup",s=>{if(!["Space","ArrowUp","ArrowDown","ArrowRight"].includes(s.key)||(s.preventDefault(),s.stopPropagation(),s.type==="keydown"))return;const f=ss(a,'[role="menuitemradio"]');if(!f&&["Space","ArrowRight"].includes(s.key))Ge.showMenuPanel.call(this,h,!0);else{let T;s.key!=="Space"&&(s.key==="ArrowDown"||f&&s.key==="ArrowRight"?(T=a.nextElementSibling,$.element(T)||(T=a.parentNode.firstElementChild)):(T=a.previousElementSibling,$.element(T)||(T=a.parentNode.lastElementChild)),bu.call(this,T,!0))}},!1),Bt.call(this,a,"keyup",s=>{s.key==="Return"&&Ge.focusFirstMenuItem.call(this,null,!0)})},createMenuItem({value:a,list:h,type:s,title:f,badge:T=null,checked:p=!1}){const k=Fn(this.config.selectors.inputs[s]),D=mt("button",di(k,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${k.class?k.class:""}`.trim(),"aria-checked":p,value:a})),X=mt("span");X.innerHTML=f,$.element(T)&&X.appendChild(T),D.appendChild(X),Object.defineProperty(D,"checked",{enumerable:!0,get:()=>D.getAttribute("aria-checked")==="true",set(te){te&&Array.from(D.parentNode.children).filter(ne=>ss(ne,'[role="menuitemradio"]')).forEach(ne=>ne.setAttribute("aria-checked","false")),D.setAttribute("aria-checked",te?"true":"false")}}),this.listeners.bind(D,"click keyup",te=>{if(!$.keyboardEvent(te)||te.key==="Space"){switch(te.preventDefault(),te.stopPropagation(),D.checked=!0,s){case"language":this.currentTrack=Number(a);break;case"quality":this.quality=a;break;case"speed":this.speed=parseFloat(a)}Ge.showMenuPanel.call(this,"home",$.keyboardEvent(te))}},s,!1),Ge.bindMenuItemShortcuts.call(this,D,s),h.appendChild(D)},formatTime(a=0,h=!1){return $.number(a)?Jo(a,Hf(this.duration)>0,h):a},updateTimeDisplay(a=null,h=0,s=!1){$.element(a)&&$.number(h)&&(a.innerText=Ge.formatTime(h,s))},updateVolume(){this.supported.ui&&($.element(this.elements.inputs.volume)&&Ge.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),$.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||this.volume===0))},setRange(a,h=0){$.element(a)&&(a.value=h,Ge.updateRangeFill.call(this,a))},updateProgress(a){if(!this.supported.ui||!$.event(a))return;let h=0;const s=(f,T)=>{const p=$.number(T)?T:0,k=$.element(f)?f:this.elements.display.buffer;if($.element(k)){k.value=p;const D=k.getElementsByTagName("span")[0];$.element(D)&&(D.childNodes[0].nodeValue=p)}};if(a)switch(a.type){case"timeupdate":case"seeking":case"seeked":h=fy(this.currentTime,this.duration),a.type==="timeupdate"&&Ge.setRange.call(this,this.elements.inputs.seek,h);break;case"playing":case"progress":s(this.elements.display.buffer,100*this.buffered)}},updateRangeFill(a){const h=$.event(a)?a.target:a;if($.element(h)&&h.getAttribute("type")==="range"){if(ss(h,this.config.selectors.inputs.seek)){h.setAttribute("aria-valuenow",this.currentTime);const s=Ge.formatTime(this.currentTime),f=Ge.formatTime(this.duration),T=Si.get("seekLabel",this.config);h.setAttribute("aria-valuetext",T.replace("{currentTime}",s).replace("{duration}",f))}else if(ss(h,this.config.selectors.inputs.volume)){const s=100*h.value;h.setAttribute("aria-valuenow",s),h.setAttribute("aria-valuetext",`${s.toFixed(1)}%`)}else h.setAttribute("aria-valuenow",h.value);Ai.isWebkit&&h.style.setProperty("--value",h.value/h.max*100+"%")}},updateSeekTooltip(a){var h,s;if(!this.config.tooltips.seek||!$.element(this.elements.inputs.seek)||!$.element(this.elements.display.seekTooltip)||this.duration===0)return;const f=this.elements.display.seekTooltip,T=`${this.config.classNames.tooltip}--visible`,p=ne=>Dt(f,T,ne);if(this.touch)return void p(!1);let k=0;const D=this.elements.progress.getBoundingClientRect();if($.event(a))k=100/D.width*(a.pageX-D.left);else{if(!Ho(f,T))return;k=parseFloat(f.style.left,10)}k<0?k=0:k>100&&(k=100);const X=this.duration/100*k;f.innerText=Ge.formatTime(X);const te=(h=this.config.markers)===null||h===void 0||(s=h.points)===null||s===void 0?void 0:s.find(({time:ne})=>ne===Math.round(X));te&&f.insertAdjacentHTML("afterbegin",`${te.label}<br>`),f.style.left=`${k}%`,$.event(a)&&["mouseenter","mouseleave"].includes(a.type)&&p(a.type==="mouseenter")},timeUpdate(a){const h=!$.element(this.elements.display.duration)&&this.config.invertTime;Ge.updateTimeDisplay.call(this,this.elements.display.currentTime,h?this.duration-this.currentTime:this.currentTime,h),a&&a.type==="timeupdate"&&this.media.seeking||Ge.updateProgress.call(this,a)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return ns(this.elements.display.currentTime,!0),void ns(this.elements.progress,!0);$.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const a=$.element(this.elements.display.duration);!a&&this.config.displayDuration&&this.paused&&Ge.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),a&&Ge.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&Ge.setMarkers.call(this),Ge.updateSeekTooltip.call(this)},toggleMenuButton(a,h){ns(this.elements.settings.buttons[a],!h)},updateSetting(a,h,s){const f=this.elements.settings.panels[a];let T=null,p=h;if(a==="captions")T=this.currentTrack;else{if(T=$.empty(s)?this[a]:s,$.empty(T)&&(T=this.config[a].default),!$.empty(this.options[a])&&!this.options[a].includes(T))return void this.debug.warn(`Unsupported value of '${T}' for ${a}`);if(!this.config[a].options.includes(T))return void this.debug.warn(`Disabled value of '${T}' for ${a}`)}if($.element(p)||(p=f&&f.querySelector('[role="menu"]')),!$.element(p))return;this.elements.settings.buttons[a].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=Ge.getLabel.call(this,a,T);const k=p&&p.querySelector(`[value="${T}"]`);$.element(k)&&(k.checked=!0)},getLabel(a,h){switch(a){case"speed":return h===1?Si.get("normal",this.config):`${h}&times;`;case"quality":if($.number(h)){const s=Si.get(`qualityLabel.${h}`,this.config);return s.length?s:`${h}p`}return Uf(h);case"captions":return Ut.getLabel.call(this);default:return null}},setQualityMenu(a){if(!$.element(this.elements.settings.panels.quality))return;const h="quality",s=this.elements.settings.panels.quality.querySelector('[role="menu"]');$.array(a)&&(this.options.quality=Pu(a).filter(p=>this.config.quality.options.includes(p)));const f=!$.empty(this.options.quality)&&this.options.quality.length>1;if(Ge.toggleMenuButton.call(this,h,f),No(s),Ge.checkMenu.call(this),!f)return;const T=p=>{const k=Si.get(`qualityBadge.${p}`,this.config);return k.length?Ge.createBadge.call(this,k):null};this.options.quality.sort((p,k)=>{const D=this.config.quality.options;return D.indexOf(p)>D.indexOf(k)?1:-1}).forEach(p=>{Ge.createMenuItem.call(this,{value:p,list:s,type:h,title:Ge.getLabel.call(this,"quality",p),badge:T(p)})}),Ge.updateSetting.call(this,h,s)},setCaptionsMenu(){if(!$.element(this.elements.settings.panels.captions))return;const a="captions",h=this.elements.settings.panels.captions.querySelector('[role="menu"]'),s=Ut.getTracks.call(this),f=Boolean(s.length);if(Ge.toggleMenuButton.call(this,a,f),No(h),Ge.checkMenu.call(this),!f)return;const T=s.map((p,k)=>({value:k,checked:this.captions.toggled&&this.currentTrack===k,title:Ut.getLabel.call(this,p),badge:p.language&&Ge.createBadge.call(this,p.language.toUpperCase()),list:h,type:"language"}));T.unshift({value:-1,checked:!this.captions.toggled,title:Si.get("disabled",this.config),list:h,type:"language"}),T.forEach(Ge.createMenuItem.bind(this)),Ge.updateSetting.call(this,a,h)},setSpeedMenu(){if(!$.element(this.elements.settings.panels.speed))return;const a="speed",h=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(f=>f>=this.minimumSpeed&&f<=this.maximumSpeed);const s=!$.empty(this.options.speed)&&this.options.speed.length>1;Ge.toggleMenuButton.call(this,a,s),No(h),Ge.checkMenu.call(this),s&&(this.options.speed.forEach(f=>{Ge.createMenuItem.call(this,{value:f,list:h,type:a,title:Ge.getLabel.call(this,"speed",f)})}),Ge.updateSetting.call(this,a,h))},checkMenu(){const{buttons:a}=this.elements.settings,h=!$.empty(a)&&Object.values(a).some(s=>!s.hidden);ns(this.elements.settings.menu,!h)},focusFirstMenuItem(a,h=!1){if(this.elements.settings.popup.hidden)return;let s=a;$.element(s)||(s=Object.values(this.elements.settings.panels).find(T=>!T.hidden));const f=s.querySelector('[role^="menuitem"]');bu.call(this,f,h)},toggleMenu(a){const{popup:h}=this.elements.settings,s=this.elements.buttons.settings;if(!$.element(h)||!$.element(s))return;const{hidden:f}=h;let T=f;if($.boolean(a))T=a;else if($.keyboardEvent(a)&&a.key==="Escape")T=!1;else if($.event(a)){const p=$.function(a.composedPath)?a.composedPath()[0]:a.target,k=h.contains(p);if(k||!k&&a.target!==s&&T)return}s.setAttribute("aria-expanded",T),ns(h,!T),Dt(this.elements.container,this.config.classNames.menu.open,T),T&&$.keyboardEvent(a)?Ge.focusFirstMenuItem.call(this,null,!0):T||f||bu.call(this,s,$.keyboardEvent(a))},getMenuSize(a){const h=a.cloneNode(!0);h.style.position="absolute",h.style.opacity=0,h.removeAttribute("hidden"),a.parentNode.appendChild(h);const s=h.scrollWidth,f=h.scrollHeight;return hr(h),{width:s,height:f}},showMenuPanel(a="",h=!1){const s=this.elements.container.querySelector(`#plyr-settings-${this.id}-${a}`);if(!$.element(s))return;const f=s.parentNode,T=Array.from(f.children).find(p=>!p.hidden);if(oi.transitions&&!oi.reducedMotion){f.style.width=`${T.scrollWidth}px`,f.style.height=`${T.scrollHeight}px`;const p=Ge.getMenuSize.call(this,s),k=D=>{D.target===f&&["width","height"].includes(D.propertyName)&&(f.style.width="",f.style.height="",Xo.call(this,f,Au,k))};Bt.call(this,f,Au,k),f.style.width=`${p.width}px`,f.style.height=`${p.height}px`}ns(T,!0),ns(s,!1),Ge.focusFirstMenuItem.call(this,s,h)},setDownloadUrl(){const a=this.elements.buttons.download;$.element(a)&&a.setAttribute("href",this.download)},create(a){const{bindMenuItemShortcuts:h,createButton:s,createProgress:f,createRange:T,createTime:p,setQualityMenu:k,setSpeedMenu:D,showMenuPanel:X}=Ge;this.elements.controls=null,$.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(s.call(this,"play-large"));const te=mt("div",Fn(this.config.selectors.controls.wrapper));this.elements.controls=te;const ne={class:"plyr__controls__item"};return Pu($.array(this.config.controls)?this.config.controls:[]).forEach(ue=>{if(ue==="restart"&&te.appendChild(s.call(this,"restart",ne)),ue==="rewind"&&te.appendChild(s.call(this,"rewind",ne)),ue==="play"&&te.appendChild(s.call(this,"play",ne)),ue==="fast-forward"&&te.appendChild(s.call(this,"fast-forward",ne)),ue==="progress"){const H=mt("div",{class:`${ne.class} plyr__progress__container`}),z=mt("div",Fn(this.config.selectors.progress));if(z.appendChild(T.call(this,"seek",{id:`plyr-seek-${a.id}`})),z.appendChild(f.call(this,"buffer")),this.config.tooltips.seek){const K=mt("span",{class:this.config.classNames.tooltip},"00:00");z.appendChild(K),this.elements.display.seekTooltip=K}this.elements.progress=z,H.appendChild(this.elements.progress),te.appendChild(H)}if(ue==="current-time"&&te.appendChild(p.call(this,"currentTime",ne)),ue==="duration"&&te.appendChild(p.call(this,"duration",ne)),ue==="mute"||ue==="volume"){let{volume:H}=this.elements;if($.element(H)&&te.contains(H)||(H=mt("div",di({},ne,{class:`${ne.class} plyr__volume`.trim()})),this.elements.volume=H,te.appendChild(H)),ue==="mute"&&H.appendChild(s.call(this,"mute")),ue==="volume"&&!Ai.isIos){const z={max:1,step:.05,value:this.config.volume};H.appendChild(T.call(this,"volume",di(z,{id:`plyr-volume-${a.id}`})))}}if(ue==="captions"&&te.appendChild(s.call(this,"captions",ne)),ue==="settings"&&!$.empty(this.config.settings)){const H=mt("div",di({},ne,{class:`${ne.class} plyr__menu`.trim(),hidden:""}));H.appendChild(s.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${a.id}`,"aria-expanded":!1}));const z=mt("div",{class:"plyr__menu__container",id:`plyr-settings-${a.id}`,hidden:""}),K=mt("div"),V=mt("div",{id:`plyr-settings-${a.id}-home`}),ee=mt("div",{role:"menu"});V.appendChild(ee),K.appendChild(V),this.elements.settings.panels.home=V,this.config.settings.forEach(se=>{const de=mt("button",di(Fn(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));h.call(this,de,se),Bt.call(this,de,"click",()=>{X.call(this,se,!1)});const ce=mt("span",null,Si.get(se,this.config)),me=mt("span",{class:this.config.classNames.menu.value});me.innerHTML=a[se],ce.appendChild(me),de.appendChild(ce),ee.appendChild(de);const ze=mt("div",{id:`plyr-settings-${a.id}-${se}`,hidden:""}),Ce=mt("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});Ce.appendChild(mt("span",{"aria-hidden":!0},Si.get(se,this.config))),Ce.appendChild(mt("span",{class:this.config.classNames.hidden},Si.get("menuBack",this.config))),Bt.call(this,ze,"keydown",Le=>{Le.key==="ArrowLeft"&&(Le.preventDefault(),Le.stopPropagation(),X.call(this,"home",!0))},!1),Bt.call(this,Ce,"click",()=>{X.call(this,"home",!1)}),ze.appendChild(Ce),ze.appendChild(mt("div",{role:"menu"})),K.appendChild(ze),this.elements.settings.buttons[se]=de,this.elements.settings.panels[se]=ze}),z.appendChild(K),H.appendChild(z),te.appendChild(H),this.elements.settings.popup=z,this.elements.settings.menu=H}if(ue==="pip"&&oi.pip&&te.appendChild(s.call(this,"pip",ne)),ue==="airplay"&&oi.airplay&&te.appendChild(s.call(this,"airplay",ne)),ue==="download"){const H=di({},ne,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(H.download="");const{download:z}=this.config.urls;!$.url(z)&&this.isEmbed&&di(H,{icon:`logo-${this.provider}`,label:this.provider}),te.appendChild(s.call(this,"download",H))}ue==="fullscreen"&&te.appendChild(s.call(this,"fullscreen",ne))}),this.isHTML5&&k.call(this,Lr.getQualityOptions.call(this)),D.call(this),te},inject(){if(this.config.loadSprite){const T=Ge.getIconUrl.call(this);T.cors&&Vf(T.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let a=null;this.elements.controls=null;const h={id:this.id,seektime:this.config.seekTime,title:this.config.title};let s=!0;$.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,h)),this.config.controls||(this.config.controls=[]),$.element(this.config.controls)||$.string(this.config.controls)?a=this.config.controls:(a=Ge.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:Ut.getLabel.call(this)}),s=!1);let f;if(s&&$.string(this.config.controls)&&(a=(T=>{let p=T;return Object.entries(h).forEach(([k,D])=>{p=Pa(p,`{${k}}`,D)}),p})(a)),$.string(this.config.selectors.controls.container)&&(f=document.querySelector(this.config.selectors.controls.container)),$.element(f)||(f=this.elements.container),f[$.element(a)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",a),$.element(this.elements.controls)||Ge.findElements.call(this),!$.empty(this.elements.buttons)){const T=p=>{const k=this.config.classNames.controlPressed;Object.defineProperty(p,"pressed",{enumerable:!0,get:()=>Ho(p,k),set(D=!1){Dt(p,k,D)}})};Object.values(this.elements.buttons).filter(Boolean).forEach(p=>{$.array(p)||$.nodeList(p)?Array.from(p).filter(Boolean).forEach(T):T(p)})}if(Ai.isEdge&&zf(f),this.config.tooltips.controls){const{classNames:T,selectors:p}=this.config,k=`${p.controls.wrapper} ${p.labels} .${T.hidden}`,D=Ns.call(this,k);Array.from(D).forEach(X=>{Dt(X,this.config.classNames.hidden,!1),Dt(X,this.config.classNames.tooltip,!0)})}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch(a){}},setMarkers(){var a,h;if(!this.duration||this.elements.markers)return;const s=(a=this.config.markers)===null||a===void 0||(h=a.points)===null||h===void 0?void 0:h.filter(({time:X})=>X>0&&X<this.duration);if(s==null||!s.length)return;const f=document.createDocumentFragment(),T=document.createDocumentFragment();let p=null;const k=`${this.config.classNames.tooltip}--visible`,D=X=>Dt(p,k,X);s.forEach(X=>{const te=mt("span",{class:this.config.classNames.marker},""),ne=X.time/this.duration*100+"%";p&&(te.addEventListener("mouseenter",()=>{X.label||(p.style.left=ne,p.innerHTML=X.label,D(!0))}),te.addEventListener("mouseleave",()=>{D(!1)})),te.addEventListener("click",()=>{this.currentTime=X.time}),te.style.left=ne,T.appendChild(te)}),f.appendChild(T),this.config.tooltips.seek||(p=mt("span",{class:this.config.classNames.tooltip},""),f.appendChild(p)),this.elements.markers={points:T,tip:p},this.elements.progress.appendChild(f)}};function Wf(a,h=!0){let s=a;if(h){const f=document.createElement("a");f.href=s,s=f.href}try{return new URL(s)}catch(f){return null}}function Gf(a){const h=new URLSearchParams;return $.object(a)&&Object.entries(a).forEach(([s,f])=>{h.set(s,f)}),h}const Ut={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!oi.textTracks)return void($.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Ge.setCaptionsMenu.call(this));if($.element(this.elements.captions)||(this.elements.captions=mt("div",Fn(this.config.selectors.captions)),sy(this.elements.captions,this.elements.wrapper)),Ai.isIE&&window.URL){const f=this.media.querySelectorAll("track");Array.from(f).forEach(T=>{const p=T.getAttribute("src"),k=Wf(p);k!==null&&k.hostname!==window.location.href.hostname&&["http:","https:"].includes(k.protocol)&&Ua(p,"blob").then(D=>{T.setAttribute("src",window.URL.createObjectURL(D))}).catch(()=>{hr(T)})})}const a=Pu((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(f=>f.split("-")[0]));let h=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();h==="auto"&&([h]=a);let s=this.storage.get("captions");if($.boolean(s)||({active:s}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:s,language:h,languages:a}),this.isHTML5){const f=this.config.captions.update?"addtrack removetrack":"removetrack";Bt.call(this,this.media.textTracks,f,Ut.update.bind(this))}setTimeout(Ut.update.bind(this),0)},update(){const a=Ut.getTracks.call(this,!0),{active:h,language:s,meta:f,currentTrackNode:T}=this.captions,p=Boolean(a.find(k=>k.language===s));this.isHTML5&&this.isVideo&&a.filter(k=>!f.get(k)).forEach(k=>{this.debug.log("Track added",k),f.set(k,{default:k.mode==="showing"}),k.mode==="showing"&&(k.mode="hidden"),Bt.call(this,k,"cuechange",()=>Ut.updateCues.call(this))}),(p&&this.language!==s||!a.includes(T))&&(Ut.setLanguage.call(this,s),Ut.toggle.call(this,h&&p)),this.elements&&Dt(this.elements.container,this.config.classNames.captions.enabled,!$.empty(a)),$.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Ge.setCaptionsMenu.call(this)},toggle(a,h=!0){if(!this.supported.ui)return;const{toggled:s}=this.captions,f=this.config.classNames.captions.active,T=$.nullOrUndefined(a)?!s:a;if(T!==s){if(h||(this.captions.active=T,this.storage.set({captions:T})),!this.language&&T&&!h){const p=Ut.getTracks.call(this),k=Ut.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=k.language,void Ut.set.call(this,p.indexOf(k))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=T),Dt(this.elements.container,f,T),this.captions.toggled=T,Ge.updateSetting.call(this,"captions"),yt.call(this,this.media,T?"captionsenabled":"captionsdisabled")}setTimeout(()=>{T&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")})},set(a,h=!0){const s=Ut.getTracks.call(this);if(a!==-1)if($.number(a))if(a in s){if(this.captions.currentTrack!==a){this.captions.currentTrack=a;const f=s[a],{language:T}=f||{};this.captions.currentTrackNode=f,Ge.updateSetting.call(this,"captions"),h||(this.captions.language=T,this.storage.set({language:T})),this.isVimeo&&this.embed.enableTextTrack(T),yt.call(this,this.media,"languagechange")}Ut.toggle.call(this,!0,h),this.isHTML5&&this.isVideo&&Ut.updateCues.call(this)}else this.debug.warn("Track not found",a);else this.debug.warn("Invalid caption argument",a);else Ut.toggle.call(this,!1,h)},setLanguage(a,h=!0){if(!$.string(a))return void this.debug.warn("Invalid language argument",a);const s=a.toLowerCase();this.captions.language=s;const f=Ut.getTracks.call(this),T=Ut.findTrack.call(this,[s]);Ut.set.call(this,f.indexOf(T),h)},getTracks(a=!1){return Array.from((this.media||{}).textTracks||[]).filter(h=>!this.isHTML5||a||this.captions.meta.has(h)).filter(h=>["captions","subtitles"].includes(h.kind))},findTrack(a,h=!1){const s=Ut.getTracks.call(this),f=k=>Number((this.captions.meta.get(k)||{}).default),T=Array.from(s).sort((k,D)=>f(D)-f(k));let p;return a.every(k=>(p=T.find(D=>D.language===k),!p)),p||(h?T[0]:void 0)},getCurrentTrack(){return Ut.getTracks.call(this)[this.currentTrack]},getLabel(a){let h=a;return!$.track(h)&&oi.textTracks&&this.captions.toggled&&(h=Ut.getCurrentTrack.call(this)),$.track(h)?$.empty(h.label)?$.empty(h.language)?Si.get("enabled",this.config):a.language.toUpperCase():h.label:Si.get("disabled",this.config)},updateCues(a){if(!this.supported.ui)return;if(!$.element(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!$.nullOrUndefined(a)&&!Array.isArray(a))return void this.debug.warn("updateCues: Invalid input",a);let h=a;if(!h){const f=Ut.getCurrentTrack.call(this);h=Array.from((f||{}).activeCues||[]).map(T=>T.getCueAsHTML()).map(my)}const s=h.map(f=>f.trim()).join(`
`);if(s!==this.elements.captions.innerHTML){No(this.elements.captions);const f=mt("span",Fn(this.config.selectors.caption));f.innerHTML=s,this.elements.captions.appendChild(f),yt.call(this,this.media,"cuechange")}}},$f={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.2/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus",previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},wu={active:"picture-in-picture",inactive:"inline"},Pr={html5:"html5",youtube:"youtube",vimeo:"vimeo"},xu={audio:"audio",video:"video"};function vy(a){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(a)?Pr.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(a)?Pr.vimeo:null}const Cu=()=>{};class yy{constructor(h=!1){this.enabled=window.console&&h,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):Cu}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):Cu}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):Cu}}class qn{constructor(h){Ke(this,"onChange",()=>{if(!this.enabled)return;const s=this.player.elements.buttons.fullscreen;$.element(s)&&(s.pressed=this.active);const f=this.target===this.player.media?this.target:this.player.elements.container;yt.call(this.player,f,this.active?"enterfullscreen":"exitfullscreen",!0)}),Ke(this,"toggleFallback",(s=!1)=>{if(s?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=s?"hidden":"",Dt(this.target,this.player.config.classNames.fullscreen.fallback,s),Ai.isIos){let f=document.head.querySelector('meta[name="viewport"]');const T="viewport-fit=cover";f||(f=document.createElement("meta"),f.setAttribute("name","viewport"));const p=$.string(f.content)&&f.content.includes(T);s?(this.cleanupViewport=!p,p||(f.content+=`,${T}`)):this.cleanupViewport&&(f.content=f.content.split(",").filter(k=>k.trim()!==T).join(","))}this.onChange()}),Ke(this,"trapFocus",s=>{if(Ai.isIos||!this.active||s.key!=="Tab")return;const f=document.activeElement,T=Ns.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[p]=T,k=T[T.length-1];f!==k||s.shiftKey?f===p&&s.shiftKey&&(k.focus(),s.preventDefault()):(p.focus(),s.preventDefault())}),Ke(this,"update",()=>{if(this.enabled){let s;s=this.forceFallback?"Fallback (forced)":qn.native?"Native":"Fallback",this.player.debug.log(`${s} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");Dt(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}),Ke(this,"enter",()=>{this.enabled&&(Ai.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!qn.native||this.forceFallback?this.toggleFallback(!0):this.prefix?$.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))}),Ke(this,"exit",()=>{if(this.enabled)if(Ai.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),Un(this.player.play());else if(!qn.native||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!$.empty(this.prefix)){const s=this.prefix==="moz"?"Cancel":"Exit";document[`${this.prefix}${s}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}),Ke(this,"toggle",()=>{this.active?this.exit():this.enter()}),this.player=h,this.prefix=qn.prefix,this.property=qn.property,this.scrollPosition={x:0,y:0},this.forceFallback=h.config.fullscreen.fallback==="force",this.player.elements.fullscreen=h.config.fullscreen.container&&ay(this.player.elements.container,h.config.fullscreen.container),Bt.call(this.player,document,this.prefix==="ms"?"MSFullscreenChange":`${this.prefix}fullscreenchange`,()=>{this.onChange()}),Bt.call(this.player,this.player.elements.container,"dblclick",s=>{$.element(this.player.elements.controls)&&this.player.elements.controls.contains(s.target)||this.player.listeners.proxy(s,this.toggle,"fullscreen")}),Bt.call(this,this.player.elements.container,"keydown",s=>this.trapFocus(s)),this.update()}static get native(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get usingNative(){return qn.native&&!this.forceFallback}static get prefix(){if($.function(document.exitFullscreen))return"";let h="";return["webkit","moz","ms"].some(s=>!(!$.function(document[`${s}ExitFullscreen`])&&!$.function(document[`${s}CancelFullScreen`]))&&(h=s,!0)),h}static get property(){return this.prefix==="moz"?"FullScreen":"Fullscreen"}get enabled(){return(qn.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}get active(){if(!this.enabled)return!1;if(!qn.native||this.forceFallback)return Ho(this.target,this.player.config.classNames.fullscreen.fallback);const h=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return h&&h.shadowRoot?h===this.target.getRootNode().host:h===this.target}get target(){return Ai.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen||this.player.elements.container}}function Ro(a,h=1){return new Promise((s,f)=>{const T=new Image,p=()=>{delete T.onload,delete T.onerror,(T.naturalWidth>=h?s:f)(T)};Object.assign(T,{onload:p,onerror:p,src:a})})}const Yt={addStyleHook(){Dt(this.elements.container,this.config.selectors.container.replace(".",""),!0),Dt(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(a=!1){a&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void Yt.toggleNativeControls.call(this,!0);$.element(this.elements.controls)||(Ge.inject.call(this),this.listeners.controls()),Yt.toggleNativeControls.call(this),this.isHTML5&&Ut.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Ge.updateVolume.call(this),Ge.timeUpdate.call(this),Ge.durationUpdate.call(this),Yt.checkPlaying.call(this),Dt(this.elements.container,this.config.classNames.pip.supported,oi.pip&&this.isHTML5&&this.isVideo),Dt(this.elements.container,this.config.classNames.airplay.supported,oi.airplay&&this.isHTML5),Dt(this.elements.container,this.config.classNames.isIos,Ai.isIos),Dt(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(()=>{yt.call(this,this.media,"ready")},0),Yt.setTitle.call(this),this.poster&&Yt.setPoster.call(this,this.poster,!1).catch(()=>{}),this.config.duration&&Ge.durationUpdate.call(this),this.config.mediaMetadata&&Ge.setMediaMetadata.call(this)},setTitle(){let a=Si.get("play",this.config);if($.string(this.config.title)&&!$.empty(this.config.title)&&(a+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach(h=>{h.setAttribute("aria-label",a)}),this.isEmbed){const h=bi.call(this,"iframe");if(!$.element(h))return;const s=$.empty(this.config.title)?"video":this.config.title,f=Si.get("frameTitle",this.config);h.setAttribute("title",f.replace("{title}",s))}},togglePoster(a){Dt(this.elements.container,this.config.classNames.posterEnabled,a)},setPoster(a,h=!0){return h&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",a),this.elements.poster.removeAttribute("hidden"),uy.call(this).then(()=>Ro(a)).catch(s=>{throw a===this.poster&&Yt.togglePoster.call(this,!1),s}).then(()=>{if(a!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${a}')`,backgroundSize:""}),Yt.togglePoster.call(this,!0),a)))},checkPlaying(a){Dt(this.elements.container,this.config.classNames.playing,this.playing),Dt(this.elements.container,this.config.classNames.paused,this.paused),Dt(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(h=>{Object.assign(h,{pressed:this.playing}),h.setAttribute("aria-label",Si.get(this.playing?"pause":"play",this.config))}),$.event(a)&&a.type==="timeupdate"||Yt.toggleControls.call(this)},checkLoading(a){this.loading=["stalled","waiting"].includes(a.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(()=>{Dt(this.elements.container,this.config.classNames.loading,this.loading),Yt.toggleControls.call(this)},this.loading?250:0)},toggleControls(a){const{controls:h}=this.elements;if(h&&this.config.hideControls){const s=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(a||this.loading||this.paused||h.pressed||h.hover||s))}},migrateStyles(){Object.values({...this.media.style}).filter(a=>!$.empty(a)&&$.string(a)&&a.startsWith("--plyr")).forEach(a=>{this.elements.container.style.setProperty(a,this.media.style.getPropertyValue(a)),this.media.style.removeProperty(a)}),$.empty(this.media.style)&&this.media.removeAttribute("style")}};class by{constructor(h){Ke(this,"firstTouch",()=>{const{player:s}=this,{elements:f}=s;s.touch=!0,Dt(f.container,s.config.classNames.isTouch,!0)}),Ke(this,"setTabFocus",s=>{const{player:f}=this,{elements:T}=f,{key:p,type:k,timeStamp:D}=s;if(clearTimeout(this.focusTimer),k==="keydown"&&p!=="Tab")return;k==="keydown"&&(this.lastKeyDown=D);const X=D-this.lastKeyDown<=20;(k!=="focus"||X)&&((()=>{const te=f.config.classNames.tabFocus;Dt(Ns.call(f,`.${te}`),te,!1)})(),k!=="focusout"&&(this.focusTimer=setTimeout(()=>{const te=document.activeElement;T.container.contains(te)&&Dt(document.activeElement,f.config.classNames.tabFocus,!0)},10)))}),Ke(this,"global",(s=!0)=>{const{player:f}=this;f.config.keyboard.global&&Rs.call(f,window,"keydown keyup",this.handleKey,s,!1),Rs.call(f,document.body,"click",this.toggleMenu,s),$u.call(f,document.body,"touchstart",this.firstTouch),Rs.call(f,document.body,"keydown focus blur focusout",this.setTabFocus,s,!1,!0)}),Ke(this,"container",()=>{const{player:s}=this,{config:f,elements:T,timers:p}=s;!f.keyboard.global&&f.keyboard.focused&&Bt.call(s,T.container,"keydown keyup",this.handleKey,!1),Bt.call(s,T.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",X=>{const{controls:te}=T;te&&X.type==="enterfullscreen"&&(te.pressed=!1,te.hover=!1);let ne=0;["touchstart","touchmove","mousemove"].includes(X.type)&&(Yt.toggleControls.call(s,!0),ne=s.touch?3e3:2e3),clearTimeout(p.controls),p.controls=setTimeout(()=>Yt.toggleControls.call(s,!1),ne)});const k=()=>{if(!s.isVimeo||s.config.vimeo.premium)return;const X=T.wrapper,{active:te}=s.fullscreen,[ne,ue]=Yu.call(s),H=Bf(`aspect-ratio: ${ne} / ${ue}`);if(!te)return void(H?(X.style.width=null,X.style.height=null):(X.style.maxWidth=null,X.style.margin=null));const[z,K]=cy(),V=z/K>ne/ue;H?(X.style.width=V?"auto":"100%",X.style.height=V?"100%":"auto"):(X.style.maxWidth=V?K/ue*ne+"px":null,X.style.margin=V?"0 auto":null)},D=()=>{clearTimeout(p.resized),p.resized=setTimeout(k,50)};Bt.call(s,T.container,"enterfullscreen exitfullscreen",X=>{const{target:te}=s.fullscreen;te===T.container&&(!s.isEmbed&&$.empty(s.config.ratio)||(k(),(X.type==="enterfullscreen"?Bt:Xo).call(s,window,"resize",D)))})}),Ke(this,"media",()=>{const{player:s}=this,{elements:f}=s;if(Bt.call(s,s.media,"timeupdate seeking seeked",p=>Ge.timeUpdate.call(s,p)),Bt.call(s,s.media,"durationchange loadeddata loadedmetadata",p=>Ge.durationUpdate.call(s,p)),Bt.call(s,s.media,"ended",()=>{s.isHTML5&&s.isVideo&&s.config.resetOnEnd&&(s.restart(),s.pause())}),Bt.call(s,s.media,"progress playing seeking seeked",p=>Ge.updateProgress.call(s,p)),Bt.call(s,s.media,"volumechange",p=>Ge.updateVolume.call(s,p)),Bt.call(s,s.media,"playing play pause ended emptied timeupdate",p=>Yt.checkPlaying.call(s,p)),Bt.call(s,s.media,"waiting canplay seeked playing",p=>Yt.checkLoading.call(s,p)),s.supported.ui&&s.config.clickToPlay&&!s.isAudio){const p=bi.call(s,`.${s.config.classNames.video}`);if(!$.element(p))return;Bt.call(s,f.container,"click",k=>{([f.container,p].includes(k.target)||p.contains(k.target))&&(s.touch&&s.config.hideControls||(s.ended?(this.proxy(k,s.restart,"restart"),this.proxy(k,()=>{Un(s.play())},"play")):this.proxy(k,()=>{Un(s.togglePlay())},"play")))})}s.supported.ui&&s.config.disableContextMenu&&Bt.call(s,f.wrapper,"contextmenu",p=>{p.preventDefault()},!1),Bt.call(s,s.media,"volumechange",()=>{s.storage.set({volume:s.volume,muted:s.muted})}),Bt.call(s,s.media,"ratechange",()=>{Ge.updateSetting.call(s,"speed"),s.storage.set({speed:s.speed})}),Bt.call(s,s.media,"qualitychange",p=>{Ge.updateSetting.call(s,"quality",null,p.detail.quality)}),Bt.call(s,s.media,"ready qualitychange",()=>{Ge.setDownloadUrl.call(s)});const T=s.config.events.concat(["keyup","keydown"]).join(" ");Bt.call(s,s.media,T,p=>{let{detail:k={}}=p;p.type==="error"&&(k=s.media.error),yt.call(s,f.container,p.type,!0,k)})}),Ke(this,"proxy",(s,f,T)=>{const{player:p}=this,k=p.config.listeners[T];let D=!0;$.function(k)&&(D=k.call(p,s)),D!==!1&&$.function(f)&&f.call(p,s)}),Ke(this,"bind",(s,f,T,p,k=!0)=>{const{player:D}=this,X=D.config.listeners[p],te=$.function(X);Bt.call(D,s,f,ne=>this.proxy(ne,T,p),k&&!te)}),Ke(this,"controls",()=>{const{player:s}=this,{elements:f}=s,T=Ai.isIE?"change":"input";if(f.buttons.play&&Array.from(f.buttons.play).forEach(p=>{this.bind(p,"click",()=>{Un(s.togglePlay())},"play")}),this.bind(f.buttons.restart,"click",s.restart,"restart"),this.bind(f.buttons.rewind,"click",()=>{s.lastSeekTime=Date.now(),s.rewind()},"rewind"),this.bind(f.buttons.fastForward,"click",()=>{s.lastSeekTime=Date.now(),s.forward()},"fastForward"),this.bind(f.buttons.mute,"click",()=>{s.muted=!s.muted},"mute"),this.bind(f.buttons.captions,"click",()=>s.toggleCaptions()),this.bind(f.buttons.download,"click",()=>{yt.call(s,s.media,"download")},"download"),this.bind(f.buttons.fullscreen,"click",()=>{s.fullscreen.toggle()},"fullscreen"),this.bind(f.buttons.pip,"click",()=>{s.pip="toggle"},"pip"),this.bind(f.buttons.airplay,"click",s.airplay,"airplay"),this.bind(f.buttons.settings,"click",p=>{p.stopPropagation(),p.preventDefault(),Ge.toggleMenu.call(s,p)},null,!1),this.bind(f.buttons.settings,"keyup",p=>{["Space","Enter"].includes(p.key)&&(p.key!=="Enter"?(p.preventDefault(),p.stopPropagation(),Ge.toggleMenu.call(s,p)):Ge.focusFirstMenuItem.call(s,null,!0))},null,!1),this.bind(f.settings.menu,"keydown",p=>{p.key==="Escape"&&Ge.toggleMenu.call(s,p)}),this.bind(f.inputs.seek,"mousedown mousemove",p=>{const k=f.progress.getBoundingClientRect(),D=100/k.width*(p.pageX-k.left);p.currentTarget.setAttribute("seek-value",D)}),this.bind(f.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",p=>{const k=p.currentTarget,D="play-on-seeked";if($.keyboardEvent(p)&&!["ArrowLeft","ArrowRight"].includes(p.key))return;s.lastSeekTime=Date.now();const X=k.hasAttribute(D),te=["mouseup","touchend","keyup"].includes(p.type);X&&te?(k.removeAttribute(D),Un(s.play())):!te&&s.playing&&(k.setAttribute(D,""),s.pause())}),Ai.isIos){const p=Ns.call(s,'input[type="range"]');Array.from(p).forEach(k=>this.bind(k,T,D=>zf(D.target)))}this.bind(f.inputs.seek,T,p=>{const k=p.currentTarget;let D=k.getAttribute("seek-value");$.empty(D)&&(D=k.value),k.removeAttribute("seek-value"),s.currentTime=D/k.max*s.duration},"seek"),this.bind(f.progress,"mouseenter mouseleave mousemove",p=>Ge.updateSeekTooltip.call(s,p)),this.bind(f.progress,"mousemove touchmove",p=>{const{previewThumbnails:k}=s;k&&k.loaded&&k.startMove(p)}),this.bind(f.progress,"mouseleave touchend click",()=>{const{previewThumbnails:p}=s;p&&p.loaded&&p.endMove(!1,!0)}),this.bind(f.progress,"mousedown touchstart",p=>{const{previewThumbnails:k}=s;k&&k.loaded&&k.startScrubbing(p)}),this.bind(f.progress,"mouseup touchend",p=>{const{previewThumbnails:k}=s;k&&k.loaded&&k.endScrubbing(p)}),Ai.isWebkit&&Array.from(Ns.call(s,'input[type="range"]')).forEach(p=>{this.bind(p,"input",k=>Ge.updateRangeFill.call(s,k.target))}),s.config.toggleInvert&&!$.element(f.display.duration)&&this.bind(f.display.currentTime,"click",()=>{s.currentTime!==0&&(s.config.invertTime=!s.config.invertTime,Ge.timeUpdate.call(s))}),this.bind(f.inputs.volume,T,p=>{s.volume=p.target.value},"volume"),this.bind(f.controls,"mouseenter mouseleave",p=>{f.controls.hover=!s.touch&&p.type==="mouseenter"}),f.fullscreen&&Array.from(f.fullscreen.children).filter(p=>!p.contains(f.container)).forEach(p=>{this.bind(p,"mouseenter mouseleave",k=>{f.controls&&(f.controls.hover=!s.touch&&k.type==="mouseenter")})}),this.bind(f.controls,"mousedown mouseup touchstart touchend touchcancel",p=>{f.controls.pressed=["mousedown","touchstart"].includes(p.type)}),this.bind(f.controls,"focusin",()=>{const{config:p,timers:k}=s;Dt(f.controls,p.classNames.noTransition,!0),Yt.toggleControls.call(s,!0),setTimeout(()=>{Dt(f.controls,p.classNames.noTransition,!1)},0);const D=this.touch?3e3:4e3;clearTimeout(k.controls),k.controls=setTimeout(()=>Yt.toggleControls.call(s,!1),D)}),this.bind(f.inputs.volume,"wheel",p=>{const k=p.webkitDirectionInvertedFromDevice,[D,X]=[p.deltaX,-p.deltaY].map(ue=>k?-ue:ue),te=Math.sign(Math.abs(D)>Math.abs(X)?D:X);s.increaseVolume(te/50);const{volume:ne}=s.media;(te===1&&ne<1||te===-1&&ne>0)&&p.preventDefault()},"volume",!1)}),this.player=h,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(h){const{player:s}=this,{elements:f}=s,{key:T,type:p,altKey:k,ctrlKey:D,metaKey:X,shiftKey:te}=h,ne=p==="keydown",ue=ne&&T===this.lastKey;if(!(k||D||X||te)&&!!T){if(ne){const z=document.activeElement;if($.element(z)){const{editable:K}=s.config.selectors,{seek:V}=f.inputs;if(z!==V&&ss(z,K)||h.key==="Space"&&ss(z,'button, [role^="menuitem"]'))return}switch(["Space","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(T)&&(h.preventDefault(),h.stopPropagation()),T){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":ue||(H=parseInt(T,10),s.currentTime=s.duration/10*H);break;case"Space":case"k":ue||Un(s.togglePlay());break;case"ArrowUp":s.increaseVolume(.1);break;case"ArrowDown":s.decreaseVolume(.1);break;case"m":ue||(s.muted=!s.muted);break;case"ArrowRight":s.forward();break;case"ArrowLeft":s.rewind();break;case"f":s.fullscreen.toggle();break;case"c":ue||s.toggleCaptions();break;case"l":s.loop=!s.loop}T==="Escape"&&!s.fullscreen.usingNative&&s.fullscreen.active&&s.fullscreen.toggle(),this.lastKey=T}else this.lastKey=null;var H}}toggleMenu(h){Ge.toggleMenu.call(this.player,h)}}function wy(a,h){return a(h={exports:{}},h.exports),h.exports}var xy=wy(function(a,h){a.exports=function(){var s=function(){},f={},T={},p={};function k(H,z){H=H.push?H:[H];var K,V,ee,se=[],de=H.length,ce=de;for(K=function(me,ze){ze.length&&se.push(me),--ce||z(se)};de--;)V=H[de],(ee=T[V])?K(V,ee):(p[V]=p[V]||[]).push(K)}function D(H,z){if(H){var K=p[H];if(T[H]=z,K)for(;K.length;)K[0](H,z),K.splice(0,1)}}function X(H,z){H.call&&(H={success:H}),z.length?(H.error||s)(z):(H.success||s)(H)}function te(H,z,K,V){var ee,se,de=document,ce=K.async,me=(K.numRetries||0)+1,ze=K.before||s,Ce=H.replace(/[\?|#].*$/,""),Le=H.replace(/^(css|img)!/,"");V=V||0,/(^css!|\.css$)/.test(Ce)?((se=de.createElement("link")).rel="stylesheet",se.href=Le,(ee="hideFocus"in se)&&se.relList&&(ee=0,se.rel="preload",se.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(Ce)?(se=de.createElement("img")).src=Le:((se=de.createElement("script")).src=H,se.async=ce===void 0||ce),se.onload=se.onerror=se.onbeforeload=function($e){var Fe=$e.type[0];if(ee)try{se.sheet.cssText.length||(Fe="e")}catch(tt){tt.code!=18&&(Fe="e")}if(Fe=="e"){if((V+=1)<me)return te(H,z,K,V)}else if(se.rel=="preload"&&se.as=="style")return se.rel="stylesheet";z(H,Fe,$e.defaultPrevented)},ze(H,se)!==!1&&de.head.appendChild(se)}function ne(H,z,K){var V,ee,se=(H=H.push?H:[H]).length,de=se,ce=[];for(V=function(me,ze,Ce){if(ze=="e"&&ce.push(me),ze=="b"){if(!Ce)return;ce.push(me)}--se||z(ce)},ee=0;ee<de;ee++)te(H[ee],V,K)}function ue(H,z,K){var V,ee;if(z&&z.trim&&(V=z),ee=(V?K:z)||{},V){if(V in f)throw"LoadJS";f[V]=!0}function se(de,ce){ne(H,function(me){X(ee,me),de&&X({success:de,error:ce},me),D(V,me)},ee)}if(ee.returnPromise)return new Promise(se);se()}return ue.ready=function(H,z){return k(H,function(K){X(z,K)}),ue},ue.done=function(H){D(H,[])},ue.reset=function(){f={},T={},p={}},ue.isDefined=function(H){return H in f},ue}()});function Zu(a){return new Promise((h,s)=>{xy(a,{success:h,error:s})})}function Cy(a){return $.empty(a)?null:$.number(Number(a))?a:a.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:a}function Sy(a){const h=a.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return h&&h.length===5?h[4]:null}function Ea(a){a&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===a&&(this.media.paused=!a,yt.call(this,this.media,a?"play":"pause"))}const Ou={setup(){const a=this;Dt(a.elements.wrapper,a.config.classNames.embed,!0),a.options.speed=a.config.speed.options,Fs.call(a),$.object(window.Vimeo)?Ou.ready.call(a):Zu(a.config.urls.vimeo.sdk).then(()=>{Ou.ready.call(a)}).catch(h=>{a.debug.warn("Vimeo SDK (player.js) failed to load",h)})},ready(){const a=this,h=a.config.vimeo,{premium:s,referrerPolicy:f,...T}=h;let p=a.media.getAttribute("src"),k="";$.empty(p)?(p=a.media.getAttribute(a.config.attributes.embed.id),k=a.media.getAttribute(a.config.attributes.embed.hash)):k=Sy(p);const D=k?{h:k}:{};s&&Object.assign(T,{controls:!1,sidedock:!1});const X=Gf({loop:a.config.loop.active,autoplay:a.autoplay,muted:a.muted,gesture:"media",playsinline:!this.config.fullscreen.iosNative,...D,...T}),te=Cy(p),ne=mt("iframe"),ue=Lu(a.config.urls.vimeo.iframe,te,X);if(ne.setAttribute("src",ue),ne.setAttribute("allowfullscreen",""),ne.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),$.empty(f)||ne.setAttribute("referrerPolicy",f),s||!h.customControls)ne.setAttribute("data-poster",a.poster),a.media=Vo(ne,a.media);else{const de=mt("div",{class:a.config.classNames.embedContainer,"data-poster":a.poster});de.appendChild(ne),a.media=Vo(de,a.media)}h.customControls||Ua(Lu(a.config.urls.vimeo.api,ue)).then(de=>{!$.empty(de)&&de.thumbnail_url&&Yt.setPoster.call(a,de.thumbnail_url).catch(()=>{})}),a.embed=new window.Vimeo.Player(ne,{autopause:a.config.autopause,muted:a.muted}),a.media.paused=!0,a.media.currentTime=0,a.supported.ui&&a.embed.disableTextTrack(),a.media.play=()=>(Ea.call(a,!0),a.embed.play()),a.media.pause=()=>(Ea.call(a,!1),a.embed.pause()),a.media.stop=()=>{a.pause(),a.currentTime=0};let{currentTime:H}=a.media;Object.defineProperty(a.media,"currentTime",{get:()=>H,set(de){const{embed:ce,media:me,paused:ze,volume:Ce}=a,Le=ze&&!ce.hasPlayed;me.seeking=!0,yt.call(a,me,"seeking"),Promise.resolve(Le&&ce.setVolume(0)).then(()=>ce.setCurrentTime(de)).then(()=>Le&&ce.pause()).then(()=>Le&&ce.setVolume(Ce)).catch(()=>{})}});let z=a.config.speed.selected;Object.defineProperty(a.media,"playbackRate",{get:()=>z,set(de){a.embed.setPlaybackRate(de).then(()=>{z=de,yt.call(a,a.media,"ratechange")}).catch(()=>{a.options.speed=[1]})}});let{volume:K}=a.config;Object.defineProperty(a.media,"volume",{get:()=>K,set(de){a.embed.setVolume(de).then(()=>{K=de,yt.call(a,a.media,"volumechange")})}});let{muted:V}=a.config;Object.defineProperty(a.media,"muted",{get:()=>V,set(de){const ce=!!$.boolean(de)&&de;a.embed.setVolume(ce?0:a.config.volume).then(()=>{V=ce,yt.call(a,a.media,"volumechange")})}});let ee,{loop:se}=a.config;Object.defineProperty(a.media,"loop",{get:()=>se,set(de){const ce=$.boolean(de)?de:a.config.loop.active;a.embed.setLoop(ce).then(()=>{se=ce})}}),a.embed.getVideoUrl().then(de=>{ee=de,Ge.setDownloadUrl.call(a)}).catch(de=>{this.debug.warn(de)}),Object.defineProperty(a.media,"currentSrc",{get:()=>ee}),Object.defineProperty(a.media,"ended",{get:()=>a.currentTime===a.duration}),Promise.all([a.embed.getVideoWidth(),a.embed.getVideoHeight()]).then(de=>{const[ce,me]=de;a.embed.ratio=qf(ce,me),Fs.call(this)}),a.embed.setAutopause(a.config.autopause).then(de=>{a.config.autopause=de}),a.embed.getVideoTitle().then(de=>{a.config.title=de,Yt.setTitle.call(this)}),a.embed.getCurrentTime().then(de=>{H=de,yt.call(a,a.media,"timeupdate")}),a.embed.getDuration().then(de=>{a.media.duration=de,yt.call(a,a.media,"durationchange")}),a.embed.getTextTracks().then(de=>{a.media.textTracks=de,Ut.setup.call(a)}),a.embed.on("cuechange",({cues:de=[]})=>{const ce=de.map(me=>py(me.text));Ut.updateCues.call(a,ce)}),a.embed.on("loaded",()=>{a.embed.getPaused().then(de=>{Ea.call(a,!de),de||yt.call(a,a.media,"playing")}),$.element(a.embed.element)&&a.supported.ui&&a.embed.element.setAttribute("tabindex",-1)}),a.embed.on("bufferstart",()=>{yt.call(a,a.media,"waiting")}),a.embed.on("bufferend",()=>{yt.call(a,a.media,"playing")}),a.embed.on("play",()=>{Ea.call(a,!0),yt.call(a,a.media,"playing")}),a.embed.on("pause",()=>{Ea.call(a,!1)}),a.embed.on("timeupdate",de=>{a.media.seeking=!1,H=de.seconds,yt.call(a,a.media,"timeupdate")}),a.embed.on("progress",de=>{a.media.buffered=de.percent,yt.call(a,a.media,"progress"),parseInt(de.percent,10)===1&&yt.call(a,a.media,"canplaythrough"),a.embed.getDuration().then(ce=>{ce!==a.media.duration&&(a.media.duration=ce,yt.call(a,a.media,"durationchange"))})}),a.embed.on("seeked",()=>{a.media.seeking=!1,yt.call(a,a.media,"seeked")}),a.embed.on("ended",()=>{a.media.paused=!0,yt.call(a,a.media,"ended")}),a.embed.on("error",de=>{a.media.error=de,yt.call(a,a.media,"error")}),h.customControls&&setTimeout(()=>Yt.build.call(a),0)}};function Ty(a){return $.empty(a)?null:a.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:a}function Aa(a){a&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===a&&(this.media.paused=!a,yt.call(this,this.media,a?"play":"pause"))}function ky(a){return a.noCookie?"https://www.youtube-nocookie.com":window.location.protocol==="http:"?"http://www.youtube.com":void 0}const Do={setup(){if(Dt(this.elements.wrapper,this.config.classNames.embed,!0),$.object(window.YT)&&$.function(window.YT.Player))Do.ready.call(this);else{const a=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{$.function(a)&&a(),Do.ready.call(this)},Zu(this.config.urls.youtube.sdk).catch(h=>{this.debug.warn("YouTube API failed to load",h)})}},getTitle(a){Ua(Lu(this.config.urls.youtube.api,a)).then(h=>{if($.object(h)){const{title:s,height:f,width:T}=h;this.config.title=s,Yt.setTitle.call(this),this.embed.ratio=qf(T,f)}Fs.call(this)}).catch(()=>{Fs.call(this)})},ready(){const a=this,h=a.config.youtube,s=a.media&&a.media.getAttribute("id");if(!$.empty(s)&&s.startsWith("youtube-"))return;let f=a.media.getAttribute("src");$.empty(f)&&(f=a.media.getAttribute(this.config.attributes.embed.id));const T=Ty(f),p=mt("div",{id:hy(a.provider),"data-poster":h.customControls?a.poster:void 0});if(a.media=Vo(p,a.media),h.customControls){const k=D=>`https://i.ytimg.com/vi/${T}/${D}default.jpg`;Ro(k("maxres"),121).catch(()=>Ro(k("sd"),121)).catch(()=>Ro(k("hq"))).then(D=>Yt.setPoster.call(a,D.src)).then(D=>{D.includes("maxres")||(a.elements.poster.style.backgroundSize="cover")}).catch(()=>{})}a.embed=new window.YT.Player(a.media,{videoId:T,host:ky(h),playerVars:di({},{autoplay:a.config.autoplay?1:0,hl:a.config.hl,controls:a.supported.ui&&h.customControls?0:1,disablekb:1,playsinline:a.config.fullscreen.iosNative?0:1,cc_load_policy:a.captions.active?1:0,cc_lang_pref:a.config.captions.language,widget_referrer:window?window.location.href:null},h),events:{onError(k){if(!a.media.error){const D=k.data,X={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[D]||"An unknown error occured";a.media.error={code:D,message:X},yt.call(a,a.media,"error")}},onPlaybackRateChange(k){const D=k.target;a.media.playbackRate=D.getPlaybackRate(),yt.call(a,a.media,"ratechange")},onReady(k){if($.function(a.media.play))return;const D=k.target;Do.getTitle.call(a,T),a.media.play=()=>{Aa.call(a,!0),D.playVideo()},a.media.pause=()=>{Aa.call(a,!1),D.pauseVideo()},a.media.stop=()=>{D.stopVideo()},a.media.duration=D.getDuration(),a.media.paused=!0,a.media.currentTime=0,Object.defineProperty(a.media,"currentTime",{get:()=>Number(D.getCurrentTime()),set(ue){a.paused&&!a.embed.hasPlayed&&a.embed.mute(),a.media.seeking=!0,yt.call(a,a.media,"seeking"),D.seekTo(ue)}}),Object.defineProperty(a.media,"playbackRate",{get:()=>D.getPlaybackRate(),set(ue){D.setPlaybackRate(ue)}});let{volume:X}=a.config;Object.defineProperty(a.media,"volume",{get:()=>X,set(ue){X=ue,D.setVolume(100*X),yt.call(a,a.media,"volumechange")}});let{muted:te}=a.config;Object.defineProperty(a.media,"muted",{get:()=>te,set(ue){const H=$.boolean(ue)?ue:te;te=H,D[H?"mute":"unMute"](),D.setVolume(100*X),yt.call(a,a.media,"volumechange")}}),Object.defineProperty(a.media,"currentSrc",{get:()=>D.getVideoUrl()}),Object.defineProperty(a.media,"ended",{get:()=>a.currentTime===a.duration});const ne=D.getAvailablePlaybackRates();a.options.speed=ne.filter(ue=>a.config.speed.options.includes(ue)),a.supported.ui&&h.customControls&&a.media.setAttribute("tabindex",-1),yt.call(a,a.media,"timeupdate"),yt.call(a,a.media,"durationchange"),clearInterval(a.timers.buffering),a.timers.buffering=setInterval(()=>{a.media.buffered=D.getVideoLoadedFraction(),(a.media.lastBuffered===null||a.media.lastBuffered<a.media.buffered)&&yt.call(a,a.media,"progress"),a.media.lastBuffered=a.media.buffered,a.media.buffered===1&&(clearInterval(a.timers.buffering),yt.call(a,a.media,"canplaythrough"))},200),h.customControls&&setTimeout(()=>Yt.build.call(a),50)},onStateChange(k){const D=k.target;switch(clearInterval(a.timers.playing),a.media.seeking&&[1,2].includes(k.data)&&(a.media.seeking=!1,yt.call(a,a.media,"seeked")),k.data){case-1:yt.call(a,a.media,"timeupdate"),a.media.buffered=D.getVideoLoadedFraction(),yt.call(a,a.media,"progress");break;case 0:Aa.call(a,!1),a.media.loop?(D.stopVideo(),D.playVideo()):yt.call(a,a.media,"ended");break;case 1:h.customControls&&!a.config.autoplay&&a.media.paused&&!a.embed.hasPlayed?a.media.pause():(Aa.call(a,!0),yt.call(a,a.media,"playing"),a.timers.playing=setInterval(()=>{yt.call(a,a.media,"timeupdate")},50),a.media.duration!==D.getDuration()&&(a.media.duration=D.getDuration(),yt.call(a,a.media,"durationchange")));break;case 2:a.muted||a.embed.unMute(),Aa.call(a,!1);break;case 3:yt.call(a,a.media,"waiting")}yt.call(a,a.elements.container,"statechange",!1,{code:k.data})}}})}},Yf={setup(){this.media?(Dt(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),Dt(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&Dt(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=mt("div",{class:this.config.classNames.video}),Rf(this.media,this.elements.wrapper),this.elements.poster=mt("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?Lr.setup.call(this):this.isYouTube?Do.setup.call(this):this.isVimeo&&Ou.setup.call(this)):this.debug.warn("No media element found!")}};class Ey{constructor(h){Ke(this,"load",()=>{this.enabled&&($.object(window.google)&&$.object(window.google.ima)?this.ready():Zu(this.player.config.urls.googleIMA.sdk).then(()=>{this.ready()}).catch(()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))}))}),Ke(this,"ready",()=>{var s;this.enabled||((s=this).manager&&s.manager.destroy(),s.elements.displayContainer&&s.elements.displayContainer.destroy(),s.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(()=>{this.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}),Ke(this,"setupIMA",()=>{this.elements.container=mt("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,s=>this.onAdsManagerLoaded(s),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,s=>this.onAdError(s),!1),this.requestAds()}),Ke(this,"requestAds",()=>{const{container:s}=this.player.elements;try{const f=new google.ima.AdsRequest;f.adTagUrl=this.tagUrl,f.linearAdSlotWidth=s.offsetWidth,f.linearAdSlotHeight=s.offsetHeight,f.nonLinearAdSlotWidth=s.offsetWidth,f.nonLinearAdSlotHeight=s.offsetHeight,f.forceNonLinearFullSlot=!1,f.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(f)}catch(f){this.onAdError(f)}}),Ke(this,"pollCountdown",(s=!1)=>{if(!s)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(()=>{const f=Jo(Math.max(this.manager.getRemainingTime(),0)),T=`${Si.get("advertisement",this.player.config)} - ${f}`;this.elements.container.setAttribute("data-badge-text",T)},100)}),Ke(this,"onAdsManagerLoaded",s=>{if(!this.enabled)return;const f=new google.ima.AdsRenderingSettings;f.restoreCustomPlaybackStateOnAdBreakComplete=!0,f.enablePreloading=!0,this.manager=s.getAdsManager(this.player,f),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,T=>this.onAdError(T)),Object.keys(google.ima.AdEvent.Type).forEach(T=>{this.manager.addEventListener(google.ima.AdEvent.Type[T],p=>this.onAdEvent(p))}),this.trigger("loaded")}),Ke(this,"addCuePoints",()=>{$.empty(this.cuePoints)||this.cuePoints.forEach(s=>{if(s!==0&&s!==-1&&s<this.player.duration){const f=this.player.elements.progress;if($.element(f)){const T=100/this.player.duration*s,p=mt("span",{class:this.player.config.classNames.cues});p.style.left=`${T.toString()}%`,f.appendChild(p)}}})}),Ke(this,"onAdEvent",s=>{const{container:f}=this.player.elements,T=s.getAd(),p=s.getAdData();switch((k=>{yt.call(this.player,this.player.media,`ads${k.replace(/_/g,"").toLowerCase()}`)})(s.type),s.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),T.isLinear()||(T.width=f.offsetWidth,T.height=f.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:p.adError&&this.player.debug.warn(`Non-fatal ad error: ${p.adError.getMessage()}`)}}),Ke(this,"onAdError",s=>{this.cancel(),this.player.debug.warn("Ads error",s)}),Ke(this,"listeners",()=>{const{container:s}=this.player.elements;let f;this.player.on("canplay",()=>{this.addCuePoints()}),this.player.on("ended",()=>{this.loader.contentComplete()}),this.player.on("timeupdate",()=>{f=this.player.currentTime}),this.player.on("seeked",()=>{const T=this.player.currentTime;$.empty(this.cuePoints)||this.cuePoints.forEach((p,k)=>{f<p&&p<T&&(this.manager.discardAdBreak(),this.cuePoints.splice(k,1))})}),window.addEventListener("resize",()=>{this.manager&&this.manager.resize(s.offsetWidth,s.offsetHeight,google.ima.ViewMode.NORMAL)})}),Ke(this,"play",()=>{const{container:s}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then(()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(s.offsetWidth,s.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(f){this.onAdError(f)}}).catch(()=>{})}),Ke(this,"resumeContent",()=>{this.elements.container.style.zIndex="",this.playing=!1,Un(this.player.media.play())}),Ke(this,"pauseContent",()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}),Ke(this,"cancel",()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}),Ke(this,"loadAds",()=>{this.managerPromise.then(()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise(s=>{this.on("loaded",s),this.player.debug.log(this.manager)}),this.initialized=!1,this.requestAds()}).catch(()=>{})}),Ke(this,"trigger",(s,...f)=>{const T=this.events[s];$.array(T)&&T.forEach(p=>{$.function(p)&&p.apply(this,f)})}),Ke(this,"on",(s,f)=>($.array(this.events[s])||(this.events[s]=[]),this.events[s].push(f),this)),Ke(this,"startSafetyTimer",(s,f)=>{this.player.debug.log(`Safety timer invoked from: ${f}`),this.safetyTimer=setTimeout(()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")},s)}),Ke(this,"clearSafetyTimer",s=>{$.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${s}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)}),this.player=h,this.config=h.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((s,f)=>{this.on("loaded",s),this.on("error",f)}),this.load()}get enabled(){const{config:h}=this;return this.player.isHTML5&&this.player.isVideo&&h.enabled&&(!$.empty(h.publisherId)||$.url(h.tagUrl))}get tagUrl(){const{config:h}=this;return $.url(h.tagUrl)?h.tagUrl:`https://go.aniview.com/api/adserver6/vast/?${Gf({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:h.publisherId})}`}}function Zf(a=0,h=0,s=255){return Math.min(Math.max(a,h),s)}const Ay=a=>{const h=[];return a.split(/\r\n\r\n|\n\n|\r\r/).forEach(s=>{const f={};s.split(/\r\n|\n|\r/).forEach(T=>{if($.number(f.startTime)){if(!$.empty(T.trim())&&$.empty(f.text)){const p=T.trim().split("#xywh=");[f.text]=p,p[1]&&([f.x,f.y,f.w,f.h]=p[1].split(","))}}else{const p=T.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);p&&(f.startTime=60*Number(p[1]||0)*60+60*Number(p[2])+Number(p[3])+Number(`0.${p[4]}`),f.endTime=60*Number(p[6]||0)*60+60*Number(p[7])+Number(p[8])+Number(`0.${p[9]}`))}}),f.text&&h.push(f)}),h},af=(a,h)=>{const s={};return a>h.width/h.height?(s.width=h.width,s.height=1/a*h.width):(s.height=h.height,s.width=a*h.height),s};class Mu{constructor(h){Ke(this,"load",()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.loaded=!0)})}),Ke(this,"getThumbnails",()=>new Promise(s=>{const{src:f}=this.player.config.previewThumbnails;if($.empty(f))throw new Error("Missing previewThumbnails.src config attribute");const T=()=>{this.thumbnails.sort((p,k)=>p.height-k.height),this.player.debug.log("Preview thumbnails",this.thumbnails),s()};if($.function(f))f(p=>{this.thumbnails=p,T()});else{const p=($.string(f)?[f]:f).map(k=>this.getThumbnail(k));Promise.all(p).then(T)}})),Ke(this,"getThumbnail",s=>new Promise(f=>{Ua(s).then(T=>{const p={frames:Ay(T),height:null,urlPrefix:""};p.frames[0].text.startsWith("/")||p.frames[0].text.startsWith("http://")||p.frames[0].text.startsWith("https://")||(p.urlPrefix=s.substring(0,s.lastIndexOf("/")+1));const k=new Image;k.onload=()=>{p.height=k.naturalHeight,p.width=k.naturalWidth,this.thumbnails.push(p),f()},k.src=p.urlPrefix+p.frames[0].text})})),Ke(this,"startMove",s=>{if(this.loaded&&$.event(s)&&["touchmove","mousemove"].includes(s.type)&&this.player.media.duration){if(s.type==="touchmove")this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var f,T;const p=this.player.elements.progress.getBoundingClientRect(),k=100/p.width*(s.pageX-p.left);this.seekTime=this.player.media.duration*(k/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=s.pageX,this.elements.thumb.time.innerText=Jo(this.seekTime);const D=(f=this.player.config.markers)===null||f===void 0||(T=f.points)===null||T===void 0?void 0:T.find(({time:X})=>X===Math.round(this.seekTime));D&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${D.label}<br>`)}this.showImageAtCurrentTime()}}),Ke(this,"endMove",()=>{this.toggleThumbContainer(!1,!0)}),Ke(this,"startScrubbing",s=>{($.nullOrUndefined(s.button)||s.button===!1||s.button===0)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}),Ke(this,"endScrubbing",()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):$u.call(this.player,this.player.media,"timeupdate",()=>{this.mouseDown||this.toggleScrubbingContainer(!1)})}),Ke(this,"listeners",()=>{this.player.on("play",()=>{this.toggleThumbContainer(!1,!0)}),this.player.on("seeked",()=>{this.toggleThumbContainer(!1)}),this.player.on("timeupdate",()=>{this.lastTime=this.player.media.currentTime})}),Ke(this,"render",()=>{this.elements.thumb.container=mt("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=mt("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const s=mt("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=mt("span",{},"00:00"),s.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(s),$.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=mt("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}),Ke(this,"destroy",()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}),Ke(this,"showImageAtCurrentTime",()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const s=this.thumbnails[0].frames.findIndex(p=>this.seekTime>=p.startTime&&this.seekTime<=p.endTime),f=s>=0;let T=0;this.mouseDown||this.toggleThumbContainer(f),f&&(this.thumbnails.forEach((p,k)=>{this.loadedImages.includes(p.frames[s].text)&&(T=k)}),s!==this.showingThumb&&(this.showingThumb=s,this.loadImage(T)))}),Ke(this,"loadImage",(s=0)=>{const f=this.showingThumb,T=this.thumbnails[s],{urlPrefix:p}=T,k=T.frames[f],D=T.frames[f].text,X=p+D;if(this.currentImageElement&&this.currentImageElement.dataset.filename===D)this.showImage(this.currentImageElement,k,s,f,D,!1),this.currentImageElement.dataset.index=f,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const te=new Image;te.src=X,te.dataset.index=f,te.dataset.filename=D,this.showingThumbFilename=D,this.player.debug.log(`Loading image: ${X}`),te.onload=()=>this.showImage(te,k,s,f,D,!0),this.loadingImage=te,this.removeOldImages(te)}}),Ke(this,"showImage",(s,f,T,p,k,D=!0)=>{this.player.debug.log(`Showing thumb: ${k}. num: ${p}. qual: ${T}. newimg: ${D}`),this.setImageSizeAndOffset(s,f),D&&(this.currentImageContainer.appendChild(s),this.currentImageElement=s,this.loadedImages.includes(k)||this.loadedImages.push(k)),this.preloadNearby(p,!0).then(this.preloadNearby(p,!1)).then(this.getHigherQuality(T,s,f,k))}),Ke(this,"removeOldImages",s=>{Array.from(this.currentImageContainer.children).forEach(f=>{if(f.tagName.toLowerCase()!=="img")return;const T=this.usingSprites?500:1e3;if(f.dataset.index!==s.dataset.index&&!f.dataset.deleting){f.dataset.deleting=!0;const{currentImageContainer:p}=this;setTimeout(()=>{p.removeChild(f),this.player.debug.log(`Removing thumb: ${f.dataset.filename}`)},T)}})}),Ke(this,"preloadNearby",(s,f=!0)=>new Promise(T=>{setTimeout(()=>{const p=this.thumbnails[0].frames[s].text;if(this.showingThumbFilename===p){let k;k=f?this.thumbnails[0].frames.slice(s):this.thumbnails[0].frames.slice(0,s).reverse();let D=!1;k.forEach(X=>{const te=X.text;if(te!==p&&!this.loadedImages.includes(te)){D=!0,this.player.debug.log(`Preloading thumb filename: ${te}`);const{urlPrefix:ne}=this.thumbnails[0],ue=ne+te,H=new Image;H.src=ue,H.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${te}`),this.loadedImages.includes(te)||this.loadedImages.push(te),T()}}}),D||T()}},300)})),Ke(this,"getHigherQuality",(s,f,T,p)=>{if(s<this.thumbnails.length-1){let k=f.naturalHeight;this.usingSprites&&(k=T.h),k<this.thumbContainerHeight&&setTimeout(()=>{this.showingThumbFilename===p&&(this.player.debug.log(`Showing higher quality thumb for: ${p}`),this.loadImage(s+1))},300)}}),Ke(this,"toggleThumbContainer",(s=!1,f=!1)=>{const T=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(T,s),!s&&f&&(this.showingThumb=null,this.showingThumbFilename=null)}),Ke(this,"toggleScrubbingContainer",(s=!1)=>{const f=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(f,s),s||(this.showingThumb=null,this.showingThumbFilename=null)}),Ke(this,"determineContainerAutoSizing",()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}),Ke(this,"setThumbContainerSizeAndPos",()=>{const{imageContainer:s}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(s.clientHeight>20&&s.clientWidth<20){const f=Math.floor(s.clientHeight*this.thumbAspectRatio);s.style.width=`${f}px`}else if(s.clientHeight<20&&s.clientWidth>20){const f=Math.floor(s.clientWidth/this.thumbAspectRatio);s.style.height=`${f}px`}}else{const f=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);s.style.height=`${this.thumbContainerHeight}px`,s.style.width=`${f}px`}this.setThumbContainerPos()}),Ke(this,"setThumbContainerPos",()=>{const s=this.player.elements.progress.getBoundingClientRect(),f=this.player.elements.container.getBoundingClientRect(),{container:T}=this.elements.thumb,p=f.left-s.left+10,k=f.right-s.left-T.clientWidth-10,D=this.mousePosX-s.left-T.clientWidth/2,X=Zf(D,p,k);T.style.left=`${X}px`,T.style.setProperty("--preview-arrow-offset",D-X+"px")}),Ke(this,"setScrubbingContainerSize",()=>{const{width:s,height:f}=af(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${s}px`,this.elements.scrubbing.container.style.height=`${f}px`}),Ke(this,"setImageSizeAndOffset",(s,f)=>{if(!this.usingSprites)return;const T=this.thumbContainerHeight/f.h;s.style.height=s.naturalHeight*T+"px",s.style.width=s.naturalWidth*T+"px",s.style.left=`-${f.x*T}px`,s.style.top=`-${f.y*T}px`}),this.player=h,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:h}=af(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return h}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(h){this.mouseDown?this.currentScrubbingImageElement=h:this.currentThumbnailImageElement=h}}const zu={insertElements(a,h){$.string(h)?tf(a,this.media,{src:h}):$.array(h)&&h.forEach(s=>{tf(a,this.media,s)})},change(a){Nf(a,"sources.length")?(Lr.cancelRequests.call(this),this.destroy.call(this,()=>{this.options.quality=[],hr(this.media),this.media=null,$.element(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:h,type:s}=a,[{provider:f=Pr.html5,src:T}]=h,p=f==="html5"?s:"div",k=f==="html5"?{}:{src:T};Object.assign(this,{provider:f,type:s,supported:oi.check(s,f,this.config.playsinline),media:mt(p,k)}),this.elements.container.appendChild(this.media),$.boolean(a.autoplay)&&(this.config.autoplay=a.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),$.empty(a.poster)||(this.poster=a.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),Yt.addStyleHook.call(this),this.isHTML5&&zu.insertElements.call(this,"source",h),this.config.title=a.title,Yf.setup.call(this),this.isHTML5&&Object.keys(a).includes("tracks")&&zu.insertElements.call(this,"track",a.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Yt.build.call(this),this.isHTML5&&this.media.load(),$.empty(a.previewThumbnails)||(Object.assign(this.config.previewThumbnails,a.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Mu(this))),this.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};class qs{constructor(h,s){if(Ke(this,"play",()=>$.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(()=>this.ads.play()).catch(()=>Un(this.media.play())),this.media.play()):null),Ke(this,"pause",()=>this.playing&&$.function(this.media.pause)?this.media.pause():null),Ke(this,"togglePlay",D=>($.boolean(D)?D:!this.playing)?this.play():this.pause()),Ke(this,"stop",()=>{this.isHTML5?(this.pause(),this.restart()):$.function(this.media.stop)&&this.media.stop()}),Ke(this,"restart",()=>{this.currentTime=0}),Ke(this,"rewind",D=>{this.currentTime-=$.number(D)?D:this.config.seekTime}),Ke(this,"forward",D=>{this.currentTime+=$.number(D)?D:this.config.seekTime}),Ke(this,"increaseVolume",D=>{const X=this.media.muted?0:this.volume;this.volume=X+($.number(D)?D:0)}),Ke(this,"decreaseVolume",D=>{this.increaseVolume(-D)}),Ke(this,"airplay",()=>{oi.airplay&&this.media.webkitShowPlaybackTargetPicker()}),Ke(this,"toggleControls",D=>{if(this.supported.ui&&!this.isAudio){const X=Ho(this.elements.container,this.config.classNames.hideControls),te=D===void 0?void 0:!D,ne=Dt(this.elements.container,this.config.classNames.hideControls,te);if(ne&&$.array(this.config.controls)&&this.config.controls.includes("settings")&&!$.empty(this.config.settings)&&Ge.toggleMenu.call(this,!1),ne!==X){const ue=ne?"controlshidden":"controlsshown";yt.call(this,this.media,ue)}return!ne}return!1}),Ke(this,"on",(D,X)=>{Bt.call(this,this.elements.container,D,X)}),Ke(this,"once",(D,X)=>{$u.call(this,this.elements.container,D,X)}),Ke(this,"off",(D,X)=>{Xo(this.elements.container,D,X)}),Ke(this,"destroy",(D,X=!1)=>{if(!this.ready)return;const te=()=>{document.body.style.overflow="",this.embed=null,X?(Object.keys(this.elements).length&&(hr(this.elements.buttons.play),hr(this.elements.captions),hr(this.elements.controls),hr(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),$.function(D)&&D()):(ly.call(this),Lr.cancelRequests.call(this),Vo(this.elements.original,this.elements.container),yt.call(this,this.elements.original,"destroyed",!0),$.function(D)&&D.call(this.elements.original),this.ready=!1,setTimeout(()=>{this.elements=null,this.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(Yt.toggleNativeControls.call(this,!0),te()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),this.embed!==null&&$.function(this.embed.destroy)&&this.embed.destroy(),te()):this.isVimeo&&(this.embed!==null&&this.embed.unload().then(te),setTimeout(te,200))}),Ke(this,"supports",D=>oi.mime.call(this,D)),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=oi.touch,this.media=h,$.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||$.nodeList(this.media)||$.array(this.media))&&(this.media=this.media[0]),this.config=di({},$f,qs.defaults,s||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch(D){return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new yy(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",oi),$.nullOrUndefined(this.media)||!$.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!oi.check().api)return void this.debug.error("Setup failed: no support");const f=this.media.cloneNode(!0);f.autoplay=!1,this.elements.original=f;const T=this.media.tagName.toLowerCase();let p=null,k=null;switch(T){case"div":if(p=this.media.querySelector("iframe"),$.element(p)){if(k=Wf(p.getAttribute("src")),this.provider=vy(k.toString()),this.elements.container=this.media,this.media=p,this.elements.container.className="",k.search.length){const D=["1","true"];D.includes(k.searchParams.get("autoplay"))&&(this.config.autoplay=!0),D.includes(k.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=D.includes(k.searchParams.get("playsinline")),this.config.youtube.hl=k.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if($.empty(this.provider)||!Object.values(Pr).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=xu.video;break;case"video":case"audio":this.type=T,this.provider=Pr.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=oi.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new by(this),this.storage=new Ma(this),this.media.plyr=this,$.element(this.elements.container)||(this.elements.container=mt("div",{tabindex:0}),Rf(this.media,this.elements.container)),Yt.migrateStyles.call(this),Yt.addStyleHook.call(this),Yf.setup.call(this),this.config.debug&&Bt.call(this,this.elements.container,this.config.events.join(" "),D=>{this.debug.log(`event: ${D.type}`)}),this.fullscreen=new qn(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Yt.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new Ey(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",()=>Un(this.play())),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Mu(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===Pr.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===Pr.youtube}get isVimeo(){return this.provider===Pr.vimeo}get isVideo(){return this.type===xu.video}get isAudio(){return this.type===xu.audio}get playing(){return Boolean(this.ready&&!this.paused&&!this.ended)}get paused(){return Boolean(this.media.paused)}get stopped(){return Boolean(this.paused&&this.currentTime===0)}get ended(){return Boolean(this.media.ended)}set currentTime(h){if(!this.duration)return;const s=$.number(h)&&h>0;this.media.currentTime=s?Math.min(h,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:h}=this.media;return $.number(h)?h:h&&h.length&&this.duration>0?h.end(0)/this.duration:0}get seeking(){return Boolean(this.media.seeking)}get duration(){const h=parseFloat(this.config.duration),s=(this.media||{}).duration,f=$.number(s)&&s!==1/0?s:0;return h||f}set volume(h){let s=h;$.string(s)&&(s=Number(s)),$.number(s)||(s=this.storage.get("volume")),$.number(s)||({volume:s}=this.config),s>1&&(s=1),s<0&&(s=0),this.config.volume=s,this.media.volume=s,!$.empty(h)&&this.muted&&s>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(h){let s=h;$.boolean(s)||(s=this.storage.get("muted")),$.boolean(s)||(s=this.config.muted),this.config.muted=s,this.media.muted=s}get muted(){return Boolean(this.media.muted)}get hasAudio(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}set speed(h){let s=null;$.number(h)&&(s=h),$.number(s)||(s=this.storage.get("speed")),$.number(s)||(s=this.config.speed.selected);const{minimumSpeed:f,maximumSpeed:T}=this;s=Zf(s,f,T),this.config.speed.selected=s,setTimeout(()=>{this.media&&(this.media.playbackRate=s)},0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(h){const s=this.config.quality,f=this.options.quality;if(!f.length)return;let T=[!$.empty(h)&&Number(h),this.storage.get("quality"),s.selected,s.default].find($.number),p=!0;if(!f.includes(T)){const k=Df(f,T);this.debug.warn(`Unsupported quality option: ${T}, using ${k} instead`),T=k,p=!1}s.selected=T,this.media.quality=T,p&&this.storage.set({quality:T})}get quality(){return this.media.quality}set loop(h){const s=$.boolean(h)?h:this.config.loop.active;this.config.loop.active=s,this.media.loop=s}get loop(){return Boolean(this.media.loop)}set source(h){zu.change.call(this,h)}get source(){return this.media.currentSrc}get download(){const{download:h}=this.config.urls;return $.url(h)?h:this.source}set download(h){$.url(h)&&(this.config.urls.download=h,Ge.setDownloadUrl.call(this))}set poster(h){this.isVideo?Yt.setPoster.call(this,h,!1).catch(()=>{}):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const h=Wo(Yu.call(this));return $.array(h)?h.join(":"):h}set ratio(h){this.isVideo?$.string(h)&&Ff(h)?(this.config.ratio=Wo(h),Fs.call(this)):this.debug.error(`Invalid aspect ratio specified (${h})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(h){this.config.autoplay=$.boolean(h)?h:this.config.autoplay}get autoplay(){return Boolean(this.config.autoplay)}toggleCaptions(h){Ut.toggle.call(this,h,!1)}set currentTrack(h){Ut.set.call(this,h,!1),Ut.setup.call(this)}get currentTrack(){const{toggled:h,currentTrack:s}=this.captions;return h?s:-1}set language(h){Ut.setLanguage.call(this,h,!1)}get language(){return(Ut.getCurrentTrack.call(this)||{}).language}set pip(h){if(!oi.pip)return;const s=$.boolean(h)?h:!this.pip;$.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(s?wu.active:wu.inactive),$.function(this.media.requestPictureInPicture)&&(!this.pip&&s?this.media.requestPictureInPicture():this.pip&&!s&&document.exitPictureInPicture())}get pip(){return oi.pip?$.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===wu.active:null}setPreviewThumbnails(h){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,h),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Mu(this))}static supported(h,s,f){return oi.check(h,s,f)}static loadSprite(h,s){return Vf(h,s)}static setup(h,s={}){let f=null;return $.string(h)?f=Array.from(document.querySelectorAll(h)):$.nodeList(h)?f=Array.from(h):$.array(h)&&(f=h.filter($.element)),$.empty(f)?null:f.map(T=>new qs(T,s))}}qs.defaults=ry($f);function of(a,h){for(var s=0;s<h.length;s++){var f=h[s];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}function Iy(a,h,s){return h&&of(a.prototype,h),s&&of(a,s),Object.defineProperty(a,"prototype",{writable:!1}),a}/*!
 * Splide.js
 * Version  : 4.0.7
 * License  : MIT
 * Copyright: 2022 Naotoshi Fujita
 */var lf="(prefers-reduced-motion: reduce)",zs=1,Py=2,Us=3,$s=4,Va=5,Bo=6,Go=7,Ly={CREATED:zs,MOUNTED:Py,IDLE:Us,MOVING:$s,SCROLLING:Va,DRAGGING:Bo,DESTROYED:Go};function pr(a){a.length=0}function Rr(a,h,s){return Array.prototype.slice.call(a,h,s)}function Jt(a){return a.bind.apply(a,[null].concat(Rr(arguments,1)))}var Nu=setTimeout,Ru=function(){};function uf(a){return requestAnimationFrame(a)}function Qo(a,h){return typeof h===a}function za(a){return!ju(a)&&Qo("object",a)}var Ku=Array.isArray,Kf=Jt(Qo,"function"),zr=Jt(Qo,"string"),el=Jt(Qo,"undefined");function ju(a){return a===null}function jf(a){return a instanceof HTMLElement}function Ys(a){return Ku(a)?a:[a]}function En(a,h){Ys(a).forEach(h)}function Xu(a,h){return a.indexOf(h)>-1}function Fo(a,h){return a.push.apply(a,Ys(h)),a}function Or(a,h,s){a&&En(h,function(f){f&&a.classList[s?"add":"remove"](f)})}function Vn(a,h){Or(a,zr(h)?h.split(" "):h,!0)}function Ha(a,h){En(h,a.appendChild.bind(a))}function Ju(a,h){En(a,function(s){var f=(h||s).parentNode;f&&f.insertBefore(s,h)})}function Na(a,h){return jf(a)&&(a.msMatchesSelector||a.matches).call(a,h)}function Xf(a,h){var s=a?Rr(a.children):[];return h?s.filter(function(f){return Na(f,h)}):s}function Wa(a,h){return h?Xf(a,h)[0]:a.firstElementChild}var $o=Object.keys;function as(a,h,s){if(a){var f=$o(a);f=s?f.reverse():f;for(var T=0;T<f.length;T++){var p=f[T];if(p!=="__proto__"&&h(a[p],p)===!1)break}}return a}function Ra(a){return Rr(arguments,1).forEach(function(h){as(h,function(s,f){a[f]=h[f]})}),a}function Mr(a){return Rr(arguments,1).forEach(function(h){as(h,function(s,f){Ku(s)?a[f]=s.slice():za(s)?a[f]=Mr({},za(a[f])?a[f]:{},s):a[f]=s})}),a}function cf(a,h){Ys(h||$o(a)).forEach(function(s){delete a[s]})}function Hn(a,h){En(a,function(s){En(h,function(f){s&&s.removeAttribute(f)})})}function Tt(a,h,s){za(h)?as(h,function(f,T){Tt(a,T,f)}):En(a,function(f){ju(s)||s===""?Hn(f,h):f.setAttribute(h,String(s))})}function Ds(a,h,s){var f=document.createElement(a);return h&&(zr(h)?Vn(f,h):Tt(f,h)),s&&Ha(s,f),f}function un(a,h,s){if(el(s))return getComputedStyle(a)[h];ju(s)||(a.style[h]=""+s)}function Yo(a,h){un(a,"display",h)}function Jf(a){a.setActive&&a.setActive()||a.focus({preventScroll:!0})}function kn(a,h){return a.getAttribute(h)}function hf(a,h){return a&&a.classList.contains(h)}function cn(a){return a.getBoundingClientRect()}function os(a){En(a,function(h){h&&h.parentNode&&h.parentNode.removeChild(h)})}function Qf(a){return Wa(new DOMParser().parseFromString(a,"text/html").body)}function cr(a,h){a.preventDefault(),h&&(a.stopPropagation(),a.stopImmediatePropagation())}function ed(a,h){return a&&a.querySelector(h)}function Qu(a,h){return h?Rr(a.querySelectorAll(h)):[]}function fr(a,h){Or(a,h,!1)}function Du(a){return a.timeStamp}function Ir(a){return zr(a)?a:a?a+"px":""}var Qi="splide",ec="data-"+Qi;function La(a,h){if(!a)throw new Error("["+Qi+"] "+(h||""))}var Vs=Math.min,Da=Math.max,Zo=Math.floor,Ba=Math.ceil,Xi=Math.abs;function td(a,h,s){return Xi(a-h)<s}function qo(a,h,s,f){var T=Vs(h,s),p=Da(h,s);return f?T<a&&a<p:T<=a&&a<=p}function Ia(a,h,s){var f=Vs(h,s),T=Da(h,s);return Vs(Da(f,a),T)}function Bu(a){return+(a>0)-+(a<0)}function Fu(a,h){return En(h,function(s){a=a.replace("%s",""+s)}),a}function tc(a){return a<10?"0"+a:""+a}var ff={};function Oy(a){return""+a+tc(ff[a]=(ff[a]||0)+1)}function id(){var a=[];function h(k,D,X,te){T(k,D,function(ne,ue,H){var z="addEventListener"in ne,K=z?ne.removeEventListener.bind(ne,ue,X,te):ne.removeListener.bind(ne,X);z?ne.addEventListener(ue,X,te):ne.addListener(X),a.push([ne,ue,H,X,K])})}function s(k,D,X){T(k,D,function(te,ne,ue){a=a.filter(function(H){return H[0]===te&&H[1]===ne&&H[2]===ue&&(!X||H[3]===X)?(H[4](),!1):!0})})}function f(k,D,X){var te,ne=!0;return typeof CustomEvent=="function"?te=new CustomEvent(D,{bubbles:ne,detail:X}):(te=document.createEvent("CustomEvent"),te.initCustomEvent(D,ne,!1,X)),k.dispatchEvent(te),te}function T(k,D,X){En(k,function(te){te&&En(D,function(ne){ne.split(" ").forEach(function(ue){var H=ue.split(".");X(te,H[0],H[1])})})})}function p(){a.forEach(function(k){k[4]()}),pr(a)}return{bind:h,unbind:s,dispatch:f,destroy:p}}var Dr="mounted",df="ready",Nr="move",Ga="moved",nd="shifted",rd="click",My="active",zy="inactive",Ny="visible",Ry="hidden",sd="slide:keydown",li="refresh",Ji="updated",Hs="resize",ad="resized",Dy="drag",By="dragging",Fy="dragged",ic="scroll",Zs="scrolled",od="destroy",qy="arrows:mounted",Uy="arrows:updated",Vy="pagination:mounted",Hy="pagination:updated",ld="navigation:mounted",ud="autoplay:play",Wy="autoplay:playing",cd="autoplay:pause",hd="lazyload:loaded";function ni(a){var h=a?a.event.bus:document.createDocumentFragment(),s=id();function f(p,k){s.bind(h,Ys(p).join(" "),function(D){k.apply(k,Ku(D.detail)?D.detail:[])})}function T(p){s.dispatch(h,p,Rr(arguments,1))}return a&&a.event.on(od,s.destroy),Ra(s,{bus:h,on:f,off:Jt(s.unbind,h),emit:T})}function tl(a,h,s,f){var T=Date.now,p,k=0,D,X=!0,te=0;function ne(){if(!X){if(k=a?Vs((T()-p)/a,1):1,s&&s(k),k>=1&&(h(),p=T(),f&&++te>=f))return H();uf(ne)}}function ue(se){!se&&K(),p=T()-(se?k*a:0),X=!1,uf(ne)}function H(){X=!0}function z(){p=T(),k=0,s&&s(k)}function K(){D&&cancelAnimationFrame(D),k=0,D=0,X=!0}function V(se){a=se}function ee(){return X}return{start:ue,rewind:z,pause:H,cancel:K,set:V,isPaused:ee}}function Gy(a){var h=a;function s(T){h=T}function f(T){return Xu(Ys(T),h)}return{set:s,is:f}}function $y(a,h){var s;function f(){s||(s=tl(h||0,function(){a(),s=null},null,1),s.start())}return f}function Yy(a,h,s){var f=a.state,T=s.breakpoints||{},p=s.reducedMotion||{},k=id(),D=[];function X(){var K=s.mediaQuery==="min";$o(T).sort(function(V,ee){return K?+V-+ee:+ee-+V}).forEach(function(V){ne(T[V],"("+(K?"min":"max")+"-width:"+V+"px)")}),ne(p,lf),ue()}function te(K){K&&k.destroy()}function ne(K,V){var ee=matchMedia(V);k.bind(ee,"change",ue),D.push([K,ee])}function ue(){var K=f.is(Go),V=s.direction,ee=D.reduce(function(se,de){return Mr(se,de[1].matches?de[0]:{})},{});cf(s),z(ee),s.destroy?a.destroy(s.destroy==="completely"):K?(te(!0),a.mount()):V!==s.direction&&a.refresh()}function H(K){matchMedia(lf).matches&&(K?Mr(s,p):cf(s,$o(p)))}function z(K,V){Mr(s,K),V&&Mr(Object.getPrototypeOf(s),K),f.is(zs)||a.emit(Ji,s)}return{setup:X,destroy:te,reduce:H,set:z}}var il="Arrow",nl=il+"Left",rl=il+"Right",fd=il+"Up",dd=il+"Down",gf="rtl",sl="ttb",Su={width:["height"],left:["top","right"],right:["bottom","left"],x:["y"],X:["Y"],Y:["X"],ArrowLeft:[fd,rl],ArrowRight:[dd,nl]};function Zy(a,h,s){function f(p,k,D){D=D||s.direction;var X=D===gf&&!k?1:D===sl?0:-1;return Su[p]&&Su[p][X]||p.replace(/width|left|right/i,function(te,ne){var ue=Su[te.toLowerCase()][X]||te;return ne>0?ue.charAt(0).toUpperCase()+ue.slice(1):ue})}function T(p){return p*(s.direction===gf?1:-1)}return{resolve:f,orient:T}}var dr="role",Bs="tabindex",Ky="disabled",An="aria-",$a=An+"controls",gd=An+"current",pf=An+"selected",_n=An+"label",nc=An+"labelledby",pd=An+"hidden",rc=An+"orientation",Fa=An+"roledescription",mf=An+"live",_f=An+"busy",vf=An+"atomic",sc=[dr,Bs,Ky,$a,gd,_n,nc,pd,rc,Fa],Tu=Qi,yf=Qi+"__track",jy=Qi+"__list",al=Qi+"__slide",md=al+"--clone",Xy=al+"__container",ac=Qi+"__arrows",ol=Qi+"__arrow",_d=ol+"--prev",vd=ol+"--next",ll=Qi+"__pagination",yd=ll+"__page",Jy=Qi+"__progress",Qy=Jy+"__bar",eb=Qi+"__toggle",tb=Qi+"__spinner",ib=Qi+"__sr",nb="is-initialized",ls="is-active",bd="is-prev",wd="is-next",qu="is-visible",Uu="is-loading",xd="is-focus-in",rb=[ls,qu,bd,wd,Uu,xd],sb={slide:al,clone:md,arrows:ac,arrow:ol,prev:_d,next:vd,pagination:ll,page:yd,spinner:tb};function ab(a,h){if(Kf(a.closest))return a.closest(h);for(var s=a;s&&s.nodeType===1&&!Na(s,h);)s=s.parentElement;return s}var ob=5,bf=200,Cd="touchstart mousedown",ku="touchmove mousemove",Eu="touchend touchcancel mouseup click";function lb(a,h,s){var f=ni(a),T=f.on,p=f.bind,k=a.root,D=s.i18n,X={},te=[],ne=[],ue=[],H,z,K;function V(){ce(),me(),de()}function ee(){T(li,se),T(li,V),T(Ji,de),p(document,Cd+" keydown",function(Le){K=Le.type==="keydown"},{capture:!0}),p(k,"focusin",function(){Or(k,xd,!!K)})}function se(Le){var $e=sc.concat("style");pr(te),fr(k,ne),fr(H,ue),Hn([H,z],$e),Hn(k,Le?$e:["style",Fa])}function de(){fr(k,ne),fr(H,ue),ne=Ce(Tu),ue=Ce(yf),Vn(k,ne),Vn(H,ue),Tt(k,_n,s.label),Tt(k,nc,s.labelledby)}function ce(){H=ze("."+yf),z=Wa(H,"."+jy),La(H&&z,"A track/list element is missing."),Fo(te,Xf(z,"."+al+":not(."+md+")")),as({arrows:ac,pagination:ll,prev:_d,next:vd,bar:Qy,toggle:eb},function(Le,$e){X[$e]=ze("."+Le)}),Ra(X,{root:k,track:H,list:z,slides:te})}function me(){var Le=k.id||Oy(Qi),$e=s.role;k.id=Le,H.id=H.id||Le+"-track",z.id=z.id||Le+"-list",!kn(k,dr)&&k.tagName!=="SECTION"&&$e&&Tt(k,dr,$e),Tt(k,Fa,D.carousel),Tt(z,dr,"presentation")}function ze(Le){var $e=ed(k,Le);return $e&&ab($e,"."+Tu)===k?$e:void 0}function Ce(Le){return[Le+"--"+s.type,Le+"--"+s.direction,s.drag&&Le+"--draggable",s.isNavigation&&Le+"--nav",Le===Tu&&ls]}return Ra(X,{setup:V,mount:ee,destroy:se})}var Ws="slide",Ks="loop",ul="fade";function ub(a,h,s,f){var T=ni(a),p=T.on,k=T.emit,D=T.bind,X=a.Components,te=a.root,ne=a.options,ue=ne.isNavigation,H=ne.updateOnMove,z=ne.i18n,K=ne.pagination,V=ne.slideFocus,ee=X.Direction.resolve,se=kn(f,"style"),de=kn(f,_n),ce=s>-1,me=Wa(f,"."+Xy),ze=Qu(f,ne.focusableNodes||""),Ce;function Le(){ce||(f.id=te.id+"-slide"+tc(h+1),Tt(f,dr,K?"tabpanel":"group"),Tt(f,Fa,z.slide),Tt(f,_n,de||Fu(z.slideLabel,[h+1,a.length]))),$e()}function $e(){D(f,"click",Jt(k,rd,Ie)),D(f,"keydown",Jt(k,sd,Ie)),p([Ga,nd,Zs],Ne),p(ld,tt),H&&p(Nr,Oe)}function Fe(){Ce=!0,T.destroy(),fr(f,rb),Hn(f,sc),Tt(f,"style",se),Tt(f,_n,de||"")}function tt(){var ve=a.splides.map(function(Be){var be=Be.splide.Components.Slides.getAt(h);return be?be.slide.id:""}).join(" ");Tt(f,_n,Fu(z.slideX,(ce?s:h)+1)),Tt(f,$a,ve),Tt(f,dr,V?"button":""),V&&Hn(f,Fa)}function Oe(){Ce||Ne()}function Ne(){if(!Ce){var ve=a.index;Qe(),Te(),Or(f,bd,h===ve-1),Or(f,wd,h===ve+1)}}function Qe(){var ve=_e();ve!==hf(f,ls)&&(Or(f,ls,ve),Tt(f,gd,ue&&ve||""),k(ve?My:zy,Ie))}function Te(){var ve=ht(),Be=!ve&&(!_e()||ce);if(a.state.is([$s,Va])||Tt(f,pd,Be||""),Tt(ze,Bs,Be?-1:""),V&&Tt(f,Bs,Be?-1:0),ve!==hf(f,qu)&&(Or(f,qu,ve),k(ve?Ny:Ry,Ie)),!ve&&document.activeElement===f){var be=X.Slides.getAt(a.index);be&&Jf(be.slide)}}function It(ve,Be,be){un(be&&me||f,ve,Be)}function _e(){var ve=a.index;return ve===h||ne.cloneStatus&&ve===s}function ht(){if(a.is(ul))return _e();var ve=cn(X.Elements.track),Be=cn(f),be=ee("left",!0),Ue=ee("right",!0);return Zo(ve[be])<=Ba(Be[be])&&Zo(Be[Ue])<=Ba(ve[Ue])}function Re(ve,Be){var be=Xi(ve-h);return!ce&&(ne.rewind||a.is(Ks))&&(be=Vs(be,a.length-be)),be<=Be}var Ie={index:h,slideIndex:s,slide:f,container:me,isClone:ce,mount:Le,destroy:Fe,update:Ne,style:It,isWithin:Re};return Ie}function cb(a,h,s){var f=ni(a),T=f.on,p=f.emit,k=f.bind,D=h.Elements,X=D.slides,te=D.list,ne=[];function ue(){H(),T(li,z),T(li,H),T([Dr,li],function(){ne.sort(function(Oe,Ne){return Oe.index-Ne.index})})}function H(){X.forEach(function(Oe,Ne){V(Oe,Ne,-1)})}function z(){ze(function(Oe){Oe.destroy()}),pr(ne)}function K(){ze(function(Oe){Oe.update()})}function V(Oe,Ne,Qe){var Te=ub(a,Ne,Qe,Oe);Te.mount(),ne.push(Te)}function ee(Oe){return Oe?Ce(function(Ne){return!Ne.isClone}):ne}function se(Oe){var Ne=h.Controller,Qe=Ne.toIndex(Oe),Te=Ne.hasFocus()?1:s.perPage;return Ce(function(It){return qo(It.index,Qe,Qe+Te-1)})}function de(Oe){return Ce(Oe)[0]}function ce(Oe,Ne){En(Oe,function(Qe){if(zr(Qe)&&(Qe=Qf(Qe)),jf(Qe)){var Te=X[Ne];Te?Ju(Qe,Te):Ha(te,Qe),Vn(Qe,s.classes.slide),$e(Qe,Jt(p,Hs))}}),p(li)}function me(Oe){os(Ce(Oe).map(function(Ne){return Ne.slide})),p(li)}function ze(Oe,Ne){ee(Ne).forEach(Oe)}function Ce(Oe){return ne.filter(Kf(Oe)?Oe:function(Ne){return zr(Oe)?Na(Ne.slide,Oe):Xu(Ys(Oe),Ne.index)})}function Le(Oe,Ne,Qe){ze(function(Te){Te.style(Oe,Ne,Qe)})}function $e(Oe,Ne){var Qe=Qu(Oe,"img"),Te=Qe.length;Te?Qe.forEach(function(It){k(It,"load error",function(){--Te||Ne()})}):Ne()}function Fe(Oe){return Oe?X.length:ne.length}function tt(){return ne.length>s.perPage}return{mount:ue,destroy:z,update:K,register:V,get:ee,getIn:se,getAt:de,add:ce,remove:me,forEach:ze,filter:Ce,style:Le,getLength:Fe,isEnough:tt}}function hb(a,h,s){var f=ni(a),T=f.on,p=f.bind,k=f.emit,D=h.Slides,X=h.Direction.resolve,te=h.Elements,ne=te.root,ue=te.track,H=te.list,z=D.getAt,K=D.style,V,ee;function se(){de(),p(window,"resize load",$y(Jt(k,Hs))),T([Ji,li],de),T(Hs,ce)}function de(){ee=null,V=s.direction===sl,un(ne,"maxWidth",Ir(s.width)),un(ue,X("paddingLeft"),me(!1)),un(ue,X("paddingRight"),me(!0)),ce()}function ce(){var _e=cn(ne);(!ee||ee.width!==_e.width||ee.height!==_e.height)&&(un(ue,"height",ze()),K(X("marginRight"),Ir(s.gap)),K("width",Le()),K("height",$e(),!0),ee=_e,k(ad))}function me(_e){var ht=s.padding,Re=X(_e?"right":"left");return ht&&Ir(ht[Re]||(za(ht)?0:ht))||"0px"}function ze(){var _e="";return V&&(_e=Ce(),La(_e,"height or heightRatio is missing."),_e="calc("+_e+" - "+me(!1)+" - "+me(!0)+")"),_e}function Ce(){return Ir(s.height||cn(H).width*s.heightRatio)}function Le(){return s.autoWidth?null:Ir(s.fixedWidth)||(V?"":Fe())}function $e(){return Ir(s.fixedHeight)||(V?s.autoHeight?null:Fe():Ce())}function Fe(){var _e=Ir(s.gap);return"calc((100%"+(_e&&" + "+_e)+")/"+(s.perPage||1)+(_e&&" - "+_e)+")"}function tt(){return cn(H)[X("width")]}function Oe(_e,ht){var Re=z(_e||0);return Re?cn(Re.slide)[X("width")]+(ht?0:Te()):0}function Ne(_e,ht){var Re=z(_e);if(Re){var Ie=cn(Re.slide)[X("right")],ve=cn(H)[X("left")];return Xi(Ie-ve)+(ht?0:Te())}return 0}function Qe(){return Ne(a.length-1,!0)-Ne(-1,!0)}function Te(){var _e=z(0);return _e&&parseFloat(un(_e.slide,X("marginRight")))||0}function It(_e){return parseFloat(un(ue,X("padding"+(_e?"Right":"Left"))))||0}return{mount:se,listSize:tt,slideSize:Oe,sliderSize:Qe,totalSize:Ne,getPadding:It}}var fb=2;function db(a,h,s){var f=ni(a),T=f.on,p=f.emit,k=h.Elements,D=h.Slides,X=h.Direction.resolve,te=[],ne;function ue(){H(),T(li,z),T(li,H),T([Ji,Hs],K)}function H(){(ne=se())&&(V(ne),p(Hs))}function z(){os(te),pr(te)}function K(){ne<se()&&p(li)}function V(de){var ce=D.get().slice(),me=ce.length;if(me){for(;ce.length<de;)Fo(ce,ce);Fo(ce.slice(-de),ce.slice(0,de)).forEach(function(ze,Ce){var Le=Ce<de,$e=ee(ze.slide,Ce);Le?Ju($e,ce[0].slide):Ha(k.list,$e),Fo(te,$e),D.register($e,Ce-de+(Le?0:me),ze.index)})}}function ee(de,ce){var me=de.cloneNode(!0);return Vn(me,s.classes.clone),me.id=a.root.id+"-clone"+tc(ce+1),me}function se(){var de=s.clones;if(!a.is(Ks))de=0;else if(!de){var ce=s[X("fixedWidth")]&&h.Layout.slideSize(0),me=ce&&Ba(cn(k.track)[X("width")]/ce);de=me||s[X("autoWidth")]&&a.length||s.perPage*fb}return de}return{mount:ue,destroy:z}}function gb(a,h,s){var f=ni(a),T=f.on,p=f.emit,k=a.state.set,D=h.Layout,X=D.slideSize,te=D.getPadding,ne=D.totalSize,ue=D.listSize,H=D.sliderSize,z=h.Direction,K=z.resolve,V=z.orient,ee=h.Elements,se=ee.list,de=ee.track,ce;function me(){ce=h.Transition,T([Dr,ad,Ji,li],ze)}function ze(){h.Controller.isBusy()||(h.Scroll.cancel(),Le(a.index),h.Slides.update())}function Ce(ve,Be,be,Ue){ve!==Be&&Re(ve>be)&&(Oe(),$e(tt(Te(),ve>be),!0)),k($s),p(Nr,Be,be,ve),ce.start(Be,function(){k(Us),p(Ga,Be,be,ve),Ue&&Ue()})}function Le(ve){$e(Qe(ve,!0))}function $e(ve,Be){if(!a.is(ul)){var be=Be?ve:Fe(ve);un(se,"transform","translate"+K("X")+"("+be+"px)"),ve!==be&&p(nd)}}function Fe(ve){if(a.is(Ks)){var Be=Ne(ve),be=Be>h.Controller.getEnd(),Ue=Be<0;(Ue||be)&&(ve=tt(ve,be))}return ve}function tt(ve,Be){var be=ve-ht(Be),Ue=H();return ve-=V(Ue*(Ba(Xi(be)/Ue)||1))*(Be?1:-1),ve}function Oe(){$e(Te()),ce.cancel()}function Ne(ve){for(var Be=h.Slides.get(),be=0,Ue=1/0,gt=0;gt<Be.length;gt++){var Ve=Be[gt].index,rt=Xi(Qe(Ve,!0)-ve);if(rt<=Ue)Ue=rt,be=Ve;else break}return be}function Qe(ve,Be){var be=V(ne(ve-1)-_e(ve));return Be?It(be):be}function Te(){var ve=K("left");return cn(se)[ve]-cn(de)[ve]+V(te(!1))}function It(ve){return s.trimSpace&&a.is(Ws)&&(ve=Ia(ve,0,V(H()-ue()))),ve}function _e(ve){var Be=s.focus;return Be==="center"?(ue()-X(ve,!0))/2:+Be*X(ve)||0}function ht(ve){return Qe(ve?h.Controller.getEnd():0,!!s.trimSpace)}function Re(ve){var Be=V(tt(Te(),ve));return ve?Be>=0:Be<=se[K("scrollWidth")]-cn(de)[K("width")]}function Ie(ve,Be){Be=el(Be)?Te():Be;var be=ve!==!0&&V(Be)<V(ht(!1)),Ue=ve!==!1&&V(Be)>V(ht(!0));return be||Ue}return{mount:me,move:Ce,jump:Le,translate:$e,shift:tt,cancel:Oe,toIndex:Ne,toPosition:Qe,getPosition:Te,getLimit:ht,exceededLimit:Ie,reposition:ze}}function pb(a,h,s){var f=ni(a),T=f.on,p=h.Move,k=p.getPosition,D=p.getLimit,X=p.toPosition,te=h.Slides,ne=te.isEnough,ue=te.getLength,H=a.is(Ks),z=a.is(Ws),K=Jt(tt,!1),V=Jt(tt,!0),ee=s.start||0,se=ee,de,ce,me;function ze(){Ce(),T([Ji,li],Ce)}function Ce(){de=ue(!0),ce=s.perMove,me=s.perPage;var be=Ia(ee,0,de-1);be!==ee&&(ee=be,p.reposition())}function Le(be,Ue,gt){if(!Be()){var Ve=Fe(be),rt=Qe(Ve);rt>-1&&(Ue||rt!==ee)&&(Re(rt),p.move(Ve,rt,se,gt))}}function $e(be,Ue,gt,Ve){h.Scroll.scroll(be,Ue,gt,function(){Re(Qe(p.toIndex(k()))),Ve&&Ve()})}function Fe(be){var Ue=ee;if(zr(be)){var gt=be.match(/([+\-<>])(\d+)?/)||[],Ve=gt[1],rt=gt[2];Ve==="+"||Ve==="-"?Ue=Oe(ee+ +(""+Ve+(+rt||1)),ee):Ve===">"?Ue=rt?It(+rt):K(!0):Ve==="<"&&(Ue=V(!0))}else Ue=H?be:Ia(be,0,Te());return Ue}function tt(be,Ue){var gt=ce||(ve()?1:me),Ve=Oe(ee+gt*(be?-1:1),ee,!(ce||ve()));return Ve===-1&&z&&!td(k(),D(!be),1)?be?0:Te():Ue?Ve:Qe(Ve)}function Oe(be,Ue,gt){if(ne()){var Ve=Te(),rt=Ne(be);rt!==be&&(Ue=be,be=rt,gt=!1),be<0||be>Ve?!ce&&(qo(0,be,Ue,!0)||qo(Ve,Ue,be,!0))?be=It(_e(be)):H?be=gt?be<0?-(de%me||me):de:be:s.rewind?be=be<0?Ve:0:be=-1:gt&&be!==Ue&&(be=It(_e(Ue)+(be<Ue?-1:1)))}else be=-1;return be}function Ne(be){if(z&&s.trimSpace==="move"&&be!==ee)for(var Ue=k();Ue===X(be,!0)&&qo(be,0,a.length-1,!s.rewind);)be<ee?--be:++be;return be}function Qe(be){return H?(be+de)%de||0:be}function Te(){return Da(de-(ve()||H&&ce?1:me),0)}function It(be){return Ia(ve()?be:me*be,0,Te())}function _e(be){return ve()?be:Zo((be>=Te()?de-1:be)/me)}function ht(be){var Ue=p.toIndex(be);return z?Ia(Ue,0,Te()):Ue}function Re(be){be!==ee&&(se=ee,ee=be)}function Ie(be){return be?se:ee}function ve(){return!el(s.focus)||s.isNavigation}function Be(){return a.state.is([$s,Va])&&!!s.waitForTransition}return{mount:ze,go:Le,scroll:$e,getNext:K,getPrev:V,getAdjacent:tt,getEnd:Te,setIndex:Re,getIndex:Ie,toIndex:It,toPage:_e,toDest:ht,hasFocus:ve,isBusy:Be}}var mb="http://www.w3.org/2000/svg",_b="m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z",zo=40;function vb(a,h,s){var f=ni(a),T=f.on,p=f.bind,k=f.emit,D=s.classes,X=s.i18n,te=h.Elements,ne=h.Controller,ue=te.arrows,H=te.track,z=ue,K=te.prev,V=te.next,ee,se,de={};function ce(){ze(),T(Ji,me)}function me(){Ce(),ce()}function ze(){var Ne=s.arrows;Ne&&!(K&&V)&&Fe(),K&&V&&(Ra(de,{prev:K,next:V}),Yo(z,Ne?"":"none"),Vn(z,se=ac+"--"+s.direction),Ne&&(Le(),Oe(),Tt([K,V],$a,H.id),k(qy,K,V)))}function Ce(){f.destroy(),fr(z,se),ee?(os(ue?[K,V]:z),K=V=null):Hn([K,V],sc)}function Le(){T([Ga,li,Zs],Oe),p(V,"click",Jt($e,">")),p(K,"click",Jt($e,"<"))}function $e(Ne){ne.go(Ne,!0)}function Fe(){z=ue||Ds("div",D.arrows),K=tt(!0),V=tt(!1),ee=!0,Ha(z,[K,V]),!ue&&Ju(z,H)}function tt(Ne){var Qe='<button class="'+D.arrow+" "+(Ne?D.prev:D.next)+'" type="button"><svg xmlns="'+mb+'" viewBox="0 0 '+zo+" "+zo+'" width="'+zo+'" height="'+zo+'" focusable="false"><path d="'+(s.arrowPath||_b)+'" />';return Qf(Qe)}function Oe(){var Ne=a.index,Qe=ne.getPrev(),Te=ne.getNext(),It=Qe>-1&&Ne<Qe?X.last:X.prev,_e=Te>-1&&Ne>Te?X.first:X.next;K.disabled=Qe<0,V.disabled=Te<0,Tt(K,_n,It),Tt(V,_n,_e),k(Uy,K,V,Qe,Te)}return{arrows:de,mount:ce,destroy:Ce}}var yb=ec+"-interval";function bb(a,h,s){var f=ni(a),T=f.on,p=f.bind,k=f.emit,D=tl(s.interval,a.go.bind(a,">"),Le),X=D.isPaused,te=h.Elements,ne=h.Elements,ue=ne.root,H=ne.toggle,z=s.autoplay,K,V,ee=z==="pause";function se(){z&&(de(),H&&Tt(H,$a,te.track.id),ee||ce(),Ce())}function de(){s.pauseOnHover&&p(ue,"mouseenter mouseleave",function(Fe){K=Fe.type==="mouseenter",ze()}),s.pauseOnFocus&&p(ue,"focusin focusout",function(Fe){V=Fe.type==="focusin",ze()}),H&&p(H,"click",function(){ee?ce():me(!0)}),T([Nr,ic,li],D.rewind),T(Nr,$e)}function ce(){X()&&h.Slides.isEnough()&&(D.start(!s.resetProgress),V=K=ee=!1,Ce(),k(ud))}function me(Fe){Fe===void 0&&(Fe=!0),ee=!!Fe,Ce(),X()||(D.pause(),k(cd))}function ze(){ee||(K||V?me(!1):ce())}function Ce(){H&&(Or(H,ls,!ee),Tt(H,_n,s.i18n[ee?"play":"pause"]))}function Le(Fe){var tt=te.bar;tt&&un(tt,"width",Fe*100+"%"),k(Wy,Fe)}function $e(Fe){var tt=h.Slides.getAt(Fe);D.set(tt&&+kn(tt.slide,yb)||s.interval)}return{mount:se,destroy:D.cancel,play:ce,pause:me,isPaused:X}}function wb(a,h,s){var f=ni(a),T=f.on;function p(){s.cover&&(T(hd,Jt(D,!0)),T([Dr,Ji,li],Jt(k,!0)))}function k(X){h.Slides.forEach(function(te){var ne=Wa(te.container||te.slide,"img");ne&&ne.src&&D(X,ne,te)})}function D(X,te,ne){ne.style("background",X?'center/cover no-repeat url("'+te.src+'")':"",!0),Yo(te,X?"none":"")}return{mount:p,destroy:Jt(k,!1)}}var xb=10,Cb=600,Sb=.6,Tb=1.5,kb=800;function Eb(a,h,s){var f=ni(a),T=f.on,p=f.emit,k=a.state.set,D=h.Move,X=D.getPosition,te=D.getLimit,ne=D.exceededLimit,ue=D.translate,H,z,K=1;function V(){T(Nr,ce),T([Ji,li],me)}function ee(Ce,Le,$e,Fe,tt){var Oe=X();if(ce(),$e){var Ne=h.Layout.sliderSize(),Qe=Bu(Ce)*Ne*Zo(Xi(Ce)/Ne)||0;Ce=D.toPosition(h.Controller.toDest(Ce%Ne))+Qe}var Te=td(Oe,Ce,1);K=1,Le=Te?0:Le||Da(Xi(Ce-Oe)/Tb,kb),z=Fe,H=tl(Le,se,Jt(de,Oe,Ce,tt),1),k(Va),p(ic),H.start()}function se(){k(Us),z&&z(),p(Zs)}function de(Ce,Le,$e,Fe){var tt=X(),Oe=Ce+(Le-Ce)*ze(Fe),Ne=(Oe-tt)*K;ue(tt+Ne),a.is(Ws)&&!$e&&ne()&&(K*=Sb,Xi(Ne)<xb&&ee(te(ne(!0)),Cb,!1,z,!0))}function ce(){H&&H.cancel()}function me(){H&&!H.isPaused()&&(ce(),se())}function ze(Ce){var Le=s.easingFunc;return Le?Le(Ce):1-Math.pow(1-Ce,4)}return{mount:V,destroy:ce,scroll:ee,cancel:me}}var Ms={passive:!1,capture:!0};function Ab(a,h,s){var f=ni(a),T=f.on,p=f.emit,k=f.bind,D=f.unbind,X=a.state,te=h.Move,ne=h.Scroll,ue=h.Controller,H=h.Elements.track,z=h.Media.reduce,K=h.Direction,V=K.resolve,ee=K.orient,se=te.getPosition,de=te.exceededLimit,ce,me,ze,Ce,Le,$e=!1,Fe,tt,Oe;function Ne(){k(H,ku,Ru,Ms),k(H,Eu,Ru,Ms),k(H,Cd,Te,Ms),k(H,"click",ht,{capture:!0}),k(H,"dragstart",cr),T([Dr,Ji],Qe)}function Qe(){var Je=s.drag;Ti(!Je),Ce=Je==="free"}function Te(Je){if(Fe=!1,!tt){var _t=Ft(Je);Et(Je.target)&&(_t||!Je.button)&&(ue.isBusy()?cr(Je,!0):(Oe=_t?H:window,Le=X.is([$s,Va]),ze=null,k(Oe,ku,It,Ms),k(Oe,Eu,_e,Ms),te.cancel(),ne.cancel(),Re(Je)))}}function It(Je){if(X.is(Bo)||(X.set(Bo),p(Dy)),Je.cancelable)if(Le){te.translate(ce+Xt(gt(Je)));var _t=Ve(Je)>bf,Rt=$e!==($e=de());(_t||Rt)&&Re(Je),Fe=!0,p(By),cr(Je)}else Be(Je)&&(Le=ve(Je),cr(Je))}function _e(Je){X.is(Bo)&&(X.set(Us),p(Fy)),Le&&(Ie(Je),cr(Je)),D(Oe,ku,It),D(Oe,Eu,_e),Le=!1}function ht(Je){!tt&&Fe&&cr(Je,!0)}function Re(Je){ze=me,me=Je,ce=se()}function Ie(Je){var _t=be(Je),Rt=Ue(_t),gi=s.rewind&&s.rewindByDrag;z(!1),Ce?ue.scroll(Rt,0,s.snap):a.is(ul)?ue.go(ee(Bu(_t))<0?gi?"<":"-":gi?">":"+"):a.is(Ws)&&$e&&gi?ue.go(de(!0)?">":"<"):ue.go(ue.toDest(Rt),!0),z(!0)}function ve(Je){var _t=s.dragMinThreshold,Rt=za(_t),gi=Rt&&_t.mouse||0,wi=(Rt?_t.touch:+_t)||10;return Xi(gt(Je))>(Ft(Je)?wi:gi)}function Be(Je){return Xi(gt(Je))>Xi(gt(Je,!0))}function be(Je){if(a.is(Ks)||!$e){var _t=Ve(Je);if(_t&&_t<bf)return gt(Je)/_t}return 0}function Ue(Je){return se()+Bu(Je)*Vs(Xi(Je)*(s.flickPower||600),Ce?1/0:h.Layout.listSize()*(s.flickMaxPages||1))}function gt(Je,_t){return Kt(Je,_t)-Kt(rt(Je),_t)}function Ve(Je){return Du(Je)-Du(rt(Je))}function rt(Je){return me===Je&&ze||me}function Kt(Je,_t){return(Ft(Je)?Je.changedTouches[0]:Je)["page"+V(_t?"Y":"X")]}function Xt(Je){return Je/($e&&a.is(Ws)?ob:1)}function Et(Je){var _t=s.noDrag;return!Na(Je,"."+yd+", ."+ol)&&(!_t||!Na(Je,_t))}function Ft(Je){return typeof TouchEvent!="undefined"&&Je instanceof TouchEvent}function Nt(){return Le}function Ti(Je){tt=Je}return{mount:Ne,disable:Ti,isDragging:Nt}}var Ib={Spacebar:" ",Right:rl,Left:nl,Up:fd,Down:dd};function oc(a){return a=zr(a)?a:a.key,Ib[a]||a}var wf="keydown";function Pb(a,h,s){var f=ni(a),T=f.on,p=f.bind,k=f.unbind,D=a.root,X=h.Direction.resolve,te,ne;function ue(){H(),T(Ji,z),T(Ji,H),T(Nr,V)}function H(){var se=s.keyboard;se&&(te=se==="global"?window:D,p(te,wf,ee))}function z(){k(te,wf)}function K(se){ne=se}function V(){var se=ne;ne=!0,Nu(function(){ne=se})}function ee(se){if(!ne){var de=oc(se);de===X(nl)?a.go("<"):de===X(rl)&&a.go(">")}}return{mount:ue,destroy:z,disable:K}}var Oa=ec+"-lazy",Uo=Oa+"-srcset",Lb="["+Oa+"], ["+Uo+"]";function Ob(a,h,s){var f=ni(a),T=f.on,p=f.off,k=f.bind,D=f.emit,X=s.lazyLoad==="sequential",te=[Dr,li,Ga,Zs],ne=[];function ue(){s.lazyLoad&&(H(),T(li,H),X||T(te,z))}function H(){pr(ne),h.Slides.forEach(function(se){Qu(se.slide,Lb).forEach(function(de){var ce=kn(de,Oa),me=kn(de,Uo);if(ce!==de.src||me!==de.srcset){var ze=s.classes.spinner,Ce=de.parentElement,Le=Wa(Ce,"."+ze)||Ds("span",ze,Ce);ne.push([de,se,Le]),de.src||Yo(de,"none")}})}),X&&ee()}function z(){ne=ne.filter(function(se){var de=s.perPage*((s.preloadPages||1)+1)-1;return se[1].isWithin(a.index,de)?K(se):!0}),ne.length||p(te)}function K(se){var de=se[0];Vn(se[1].slide,Uu),k(de,"load error",Jt(V,se)),Tt(de,"src",kn(de,Oa)),Tt(de,"srcset",kn(de,Uo)),Hn(de,Oa),Hn(de,Uo)}function V(se,de){var ce=se[0],me=se[1];fr(me.slide,Uu),de.type!=="error"&&(os(se[2]),Yo(ce,""),D(hd,ce,me),D(Hs)),X&&ee()}function ee(){ne.length&&K(ne.shift())}return{mount:ue,destroy:Jt(pr,ne)}}function Mb(a,h,s){var f=ni(a),T=f.on,p=f.emit,k=f.bind,D=h.Slides,X=h.Elements,te=h.Controller,ne=te.hasFocus,ue=te.getIndex,H=te.go,z=h.Direction.resolve,K=[],V,ee;function se(){de(),T([Ji,li],se),s.pagination&&D.isEnough()&&(T([Nr,ic,Zs],$e),ce(),$e(),p(Vy,{list:V,items:K},Le(a.index)))}function de(){V&&(os(X.pagination?Rr(V.children):V),fr(V,ee),pr(K),V=null),f.destroy()}function ce(){var Fe=a.length,tt=s.classes,Oe=s.i18n,Ne=s.perPage,Qe=ne()?Fe:Ba(Fe/Ne);V=X.pagination||Ds("ul",tt.pagination,X.track.parentElement),Vn(V,ee=ll+"--"+Ce()),Tt(V,dr,"tablist"),Tt(V,_n,Oe.select),Tt(V,rc,Ce()===sl?"vertical":"");for(var Te=0;Te<Qe;Te++){var It=Ds("li",null,V),_e=Ds("button",{class:tt.page,type:"button"},It),ht=D.getIn(Te).map(function(Ie){return Ie.slide.id}),Re=!ne()&&Ne>1?Oe.pageX:Oe.slideX;k(_e,"click",Jt(me,Te)),s.paginationKeyboard&&k(_e,"keydown",Jt(ze,Te)),Tt(It,dr,"presentation"),Tt(_e,dr,"tab"),Tt(_e,$a,ht.join(" ")),Tt(_e,_n,Fu(Re,Te+1)),Tt(_e,Bs,-1),K.push({li:It,button:_e,page:Te})}}function me(Fe){H(">"+Fe,!0)}function ze(Fe,tt){var Oe=K.length,Ne=oc(tt),Qe=Ce(),Te=-1;Ne===z(rl,!1,Qe)?Te=++Fe%Oe:Ne===z(nl,!1,Qe)?Te=(--Fe+Oe)%Oe:Ne==="Home"?Te=0:Ne==="End"&&(Te=Oe-1);var It=K[Te];It&&(Jf(It.button),H(">"+Te),cr(tt,!0))}function Ce(){return s.paginationDirection||s.direction}function Le(Fe){return K[te.toPage(Fe)]}function $e(){var Fe=Le(ue(!0)),tt=Le(ue());if(Fe){var Oe=Fe.button;fr(Oe,ls),Hn(Oe,pf),Tt(Oe,Bs,-1)}if(tt){var Ne=tt.button;Vn(Ne,ls),Tt(Ne,pf,!0),Tt(Ne,Bs,"")}p(Hy,{list:V,items:K},Fe,tt)}return{items:K,mount:se,destroy:de,getAt:Le,update:$e}}var zb=[" ","Enter"];function Nb(a,h,s){var f=s.isNavigation,T=s.slideFocus,p=[];function k(){a.options={slideFocus:el(T)?f:T}}function D(){a.splides.forEach(function(V){V.isParent||(ne(a,V.splide),ne(V.splide,a))}),f&&ue()}function X(){p.forEach(function(V){V.destroy()}),pr(p)}function te(){X(),D()}function ne(V,ee){var se=ni(V);se.on(Nr,function(de,ce,me){ee.go(ee.is(Ks)?me:de)}),p.push(se)}function ue(){var V=ni(a),ee=V.on;ee(rd,z),ee(sd,K),ee([Dr,Ji],H),p.push(V),V.emit(ld,a.splides)}function H(){Tt(h.Elements.list,rc,s.direction===sl?"vertical":"")}function z(V){a.go(V.index)}function K(V,ee){Xu(zb,oc(ee))&&(z(V),cr(ee))}return{setup:k,mount:D,destroy:X,remount:te}}function Rb(a,h,s){var f=ni(a),T=f.bind,p=0;function k(){s.wheel&&T(h.Elements.track,"wheel",D,Ms)}function D(te){if(te.cancelable){var ne=te.deltaY,ue=ne<0,H=Du(te),z=s.wheelMinThreshold||0,K=s.wheelSleep||0;Xi(ne)>z&&H-p>K&&(a.go(ue?"<":">"),p=H),X(ue)&&cr(te)}}function X(te){return!s.releaseWheel||a.state.is($s)||h.Controller.getAdjacent(te)!==-1}return{mount:k}}var Db=90;function Bb(a,h,s){var f=ni(a),T=f.on,p=h.Elements.track,k=s.live&&!s.isNavigation,D=Ds("span",ib),X=tl(Db,Jt(ne,!1));function te(){k&&(H(!h.Autoplay.isPaused()),Tt(p,vf,!0),D.textContent="\u2026",T(ud,Jt(H,!0)),T(cd,Jt(H,!1)),T([Ga,Zs],Jt(ne,!0)))}function ne(z){Tt(p,_f,z),z?(Ha(p,D),X.start()):os(D)}function ue(){Hn(p,[mf,vf,_f]),os(D)}function H(z){k&&Tt(p,mf,z?"off":"polite")}return{mount:te,disable:H,destroy:ue}}var Fb=Object.freeze({__proto__:null,Media:Yy,Direction:Zy,Elements:lb,Slides:cb,Layout:hb,Clones:db,Move:gb,Controller:pb,Arrows:vb,Autoplay:bb,Cover:wb,Scroll:Eb,Drag:Ab,Keyboard:Pb,LazyLoad:Ob,Pagination:Mb,Sync:Nb,Wheel:Rb,Live:Bb}),qb={prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay",carousel:"carousel",slide:"slide",select:"Select a slide to show",slideLabel:"%s of %s"},Ub={type:"slide",role:"region",speed:400,perPage:1,cloneStatus:!0,arrows:!0,pagination:!0,paginationKeyboard:!0,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,easing:"cubic-bezier(0.25, 1, 0.5, 1)",drag:!0,direction:"ltr",trimSpace:!0,focusableNodes:"a, button, textarea, input, select, iframe",live:!0,classes:sb,i18n:qb,reducedMotion:{speed:0,rewindSpeed:0,autoplay:"pause"}};function Vb(a,h,s){var f=ni(a),T=f.on;function p(){T([Dr,li],function(){Nu(function(){h.Slides.style("transition","opacity "+s.speed+"ms "+s.easing)})})}function k(D,X){var te=h.Elements.track;un(te,"height",Ir(cn(te).height)),Nu(function(){X(),un(te,"height","")})}return{mount:p,start:k,cancel:Ru}}function Hb(a,h,s){var f=ni(a),T=f.bind,p=h.Move,k=h.Controller,D=h.Scroll,X=h.Elements.list,te=Jt(un,X,"transition"),ne;function ue(){T(X,"transitionend",function(V){V.target===X&&ne&&(z(),ne())})}function H(V,ee){var se=p.toPosition(V,!0),de=p.getPosition(),ce=K(V);Xi(se-de)>=1&&ce>=1?s.useScroll?D.scroll(se,ce,!1,ee):(te("transform "+ce+"ms "+s.easing),p.translate(se,!0),ne=ee):(p.jump(V),ee())}function z(){te(""),D.cancel()}function K(V){var ee=s.rewindSpeed;if(a.is(Ws)&&ee){var se=k.getIndex(!0),de=k.getEnd();if(se===0&&V>=de||se>=de&&V===0)return ee}return s.speed}return{mount:ue,start:H,cancel:z}}var Wb=function(){function a(s,f){this.event=ni(),this.Components={},this.state=Gy(zs),this.splides=[],this._o={},this._E={};var T=zr(s)?ed(document,s):s;La(T,T+" is invalid."),this.root=T,f=Mr({label:kn(T,_n)||"",labelledby:kn(T,nc)||""},Ub,a.defaults,f||{});try{Mr(f,JSON.parse(kn(T,ec)))}catch(p){La(!1,"Invalid JSON")}this._o=Object.create(Mr({},f))}var h=a.prototype;return h.mount=function(f,T){var p=this,k=this.state,D=this.Components;La(k.is([zs,Go]),"Already mounted!"),k.set(zs),this._C=D,this._T=T||this._T||(this.is(ul)?Vb:Hb),this._E=f||this._E;var X=Ra({},Fb,this._E,{Transition:this._T});return as(X,function(te,ne){var ue=te(p,D,p._o);D[ne]=ue,ue.setup&&ue.setup()}),as(D,function(te){te.mount&&te.mount()}),this.emit(Dr),Vn(this.root,nb),k.set(Us),this.emit(df),this},h.sync=function(f){return this.splides.push({splide:f}),f.splides.push({splide:this,isParent:!0}),this.state.is(Us)&&(this._C.Sync.remount(),f.Components.Sync.remount()),this},h.go=function(f){return this._C.Controller.go(f),this},h.on=function(f,T){return this.event.on(f,T),this},h.off=function(f){return this.event.off(f),this},h.emit=function(f){var T;return(T=this.event).emit.apply(T,[f].concat(Rr(arguments,1))),this},h.add=function(f,T){return this._C.Slides.add(f,T),this},h.remove=function(f){return this._C.Slides.remove(f),this},h.is=function(f){return this._o.type===f},h.refresh=function(){return this.emit(li),this},h.destroy=function(f){f===void 0&&(f=!0);var T=this.event,p=this.state;return p.is(zs)?ni(this).on(df,this.destroy.bind(this,f)):(as(this._C,function(k){k.destroy&&k.destroy(f)},!0),T.emit(od),T.destroy(),f&&pr(this.splides),p.set(Go)),this},Iy(a,[{key:"options",get:function(){return this._o},set:function(f){this._C.Media.set(f,!0)}},{key:"length",get:function(){return this._C.Slides.getLength(!0)}},{key:"index",get:function(){return this._C.Controller.getIndex()}}]),a}(),Ko=Wb;Ko.defaults={};Ko.STATES=Ly;var Sd={exports:{}},Gb={},$b=Object.freeze(Object.defineProperty({__proto__:null,default:Gb},Symbol.toStringTag,{value:"Module"})),xf=P0($b);/*!
 * Paper.js v0.12.15 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jrg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Mar 17 10:49:48 2021 +0100
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jrg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(a){(function(h,s){h=h||xf;var f=h.window,T=h.document,p=new function(){var e=/^(statics|enumerable|beans|preserve)$/,i=[],n=i.slice,o=Object.create,l=Object.getOwnPropertyDescriptor,c=Object.defineProperty,g=i.forEach||function(x,b){for(var P=0,E=this.length;P<E;P++)x.call(b,this[P],P,this)},d=function(x,b){for(var P in this)this.hasOwnProperty(P)&&x.call(b,this[P],P,this)},m=Object.assign||function(x){for(var b=1,P=arguments.length;b<P;b++){var E=arguments[b];for(var L in E)E.hasOwnProperty(L)&&(x[L]=E[L])}return x},_=function(x,b,P){if(x){var E=l(x,"length");(E&&typeof E.value=="number"?g:d).call(x,b,P=P||x)}return P};function w(x,b,P,E,L){var S={};function I(O,U){U=U||(U=l(b,O))&&(U.get?U:U.value),typeof U=="string"&&U[0]==="#"&&(U=x[U.substring(1)]||U);var G=typeof U=="function",Y=U,J=L||G&&!U.base?U&&U.get?O in x:x[O]:null,W;(!L||!J)&&(G&&J&&(U.base=J),G&&E!==!1&&(W=O.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(S[W[3].toLowerCase()+W[4]]=W[2]),(!Y||G||!Y.get||typeof Y.get!="function"||!C.isPlainObject(Y))&&(Y={value:Y,writable:!0}),(l(x,O)||{configurable:!0}).configurable&&(Y.configurable=!0,Y.enumerable=P!=null?P:!W),c(x,O,Y))}if(b){for(var y in b)b.hasOwnProperty(y)&&!e.test(y)&&I(y);for(var y in S){var A=S[y],M=x["set"+A],R=x["get"+A]||M&&x["is"+A];R&&(E===!0||R.length===0)&&I(y,{get:R,set:M})}}return x}function C(){for(var x=0,b=arguments.length;x<b;x++){var P=arguments[x];P&&m(this,P)}return this}return w(C,{inject:function(x){if(x){var b=x.statics===!0?x:x.statics,P=x.beans,E=x.preserve;b!==x&&w(this.prototype,x,x.enumerable,P,E),w(this,b,null,P,E)}for(var L=1,S=arguments.length;L<S;L++)this.inject(arguments[L]);return this},extend:function(){for(var x=this,b,P,E=0,L,S=arguments.length;E<S&&!(b&&P);E++)L=arguments[E],b=b||L.initialize,P=P||L.prototype;return b=b||function(){x.apply(this,arguments)},P=b.prototype=P||o(this.prototype),c(P,"constructor",{value:b,writable:!0,configurable:!0}),w(b,this),arguments.length&&this.inject.apply(b,arguments),b.base=x,b}}).inject({enumerable:!1,initialize:C,set:C,inject:function(){for(var x=0,b=arguments.length;x<b;x++){var P=arguments[x];P&&w(this,P,P.enumerable,P.beans,P.preserve)}return this},extend:function(){var x=o(this);return x.inject.apply(x,arguments)},each:function(x,b){return _(this,x,b)},clone:function(){return new this.constructor(this)},statics:{set:m,each:_,create:o,define:c,describe:l,clone:function(x){return m(new x.constructor,x)},isPlainObject:function(x){var b=x!=null&&x.constructor;return b&&(b===Object||b===C||b.name==="Object")},pick:function(x,b){return x!==s?x:b},slice:function(x,b,P){return n.call(x,b,P)}}})};a.exports=p,p.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+p.each(this,function(e,i){if(!/^_/.test(i)){var n=typeof e;this.push(i+": "+(n==="number"?ne.instance.number(e):n==="string"?"'"+e+"'":e))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(e){return p.importJSON(e,this)},exportJSON:function(e){return p.exportJSON(this,e)},toJSON:function(){return p.serialize(this)},set:function(e,i){return e&&p.filter(this,e,i,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function e(){var i=e.base.apply(this,arguments),n=i.prototype._class;return n&&!p.exports[n]&&(p.exports[n]=i),i},equals:function(e,i){if(e===i)return!0;if(e&&e.equals)return e.equals(i);if(i&&i.equals)return i.equals(e);if(e&&i&&typeof e=="object"&&typeof i=="object"){if(Array.isArray(e)&&Array.isArray(i)){var n=e.length;if(n!==i.length)return!1;for(;n--;)if(!p.equals(e[n],i[n]))return!1}else{var o=Object.keys(e),n=o.length;if(n!==Object.keys(i).length)return!1;for(;n--;){var l=o[n];if(!(i.hasOwnProperty(l)&&p.equals(e[l],i[l])))return!1}}return!0}return!1},read:function(e,i,n,o){if(this===p){var l=this.peek(e,i);return e.__index++,l}var c=this.prototype,g=c._readIndex,d=i||g&&e.__index||0,m=e.length,_=e[d];if(o=o||m-d,_ instanceof this||n&&n.readNull&&_==null&&o<=1)return g&&(e.__index=d+1),_&&n&&n.clone?_.clone():_;if(_=p.create(c),g&&(_.__read=!0),_=_.initialize.apply(_,d>0||d+o<m?p.slice(e,d,d+o):e)||_,g){e.__index=d+_.__read;var w=_.__filtered;w&&(e.__filtered=w,_.__filtered=s),_.__read=s}return _},peek:function(e,i){return e[e.__index=i||e.__index||0]},remain:function(e){return e.length-(e.__index||0)},readList:function(e,i,n,o){for(var l=[],c,g=i||0,d=o?g+o:e.length,m=g;m<d;m++)l.push(Array.isArray(c=e[m])?this.read(c,0,n):this.read(e,m,n,1));return l},readNamed:function(e,i,n,o,l){var c=this.getNamed(e,i),g=c!==s;if(g){var d=e.__filtered;if(!d){var m=this.getSource(e);d=e.__filtered=p.create(m),d.__unfiltered=m}d[i]=s}return this.read(g?[c]:e,n,o,l)},readSupported:function(e,i){var n=this.getSource(e),o=this,l=!1;return n&&Object.keys(n).forEach(function(c){if(c in i){var g=o.readNamed(e,c);g!==s&&(i[c]=g),l=!0}}),l},getSource:function(e){var i=e.__source;if(i===s){var n=e.length===1&&e[0];i=e.__source=n&&p.isPlainObject(n)?n:null}return i},getNamed:function(e,i){var n=this.getSource(e);if(n)return i?n[i]:e.__filtered||n},hasNamed:function(e,i){return!!this.getNamed(e,i)},filter:function(e,i,n,o){var l;function c(w){if(!(n&&w in n)&&!(l&&w in l)){var C=i[w];C!==s&&(e[w]=C)}}if(o){for(var g={},d=0,m,_=o.length;d<_;d++)(m=o[d])in i&&(c(m),g[m]=!0);l=g}return Object.keys(i.__unfiltered||i).forEach(c),e},isPlainValue:function(e,i){return p.isPlainObject(e)||Array.isArray(e)||i&&typeof e=="string"},serialize:function(e,i,n,o){i=i||{};var l=!o,c;if(l&&(i.formatter=new ne(i.precision),o={length:0,definitions:{},references:{},add:function(C,x){var b="#"+C._id,P=this.references[b];if(!P){this.length++;var E=x.call(C),L=C._class;L&&E[0]!==L&&E.unshift(L),this.definitions[b]=E,P=this.references[b]=[b]}return P}}),e&&e._serialize){c=e._serialize(i,o);var g=e._class;g&&!e._compactSerialize&&(l||!n)&&c[0]!==g&&c.unshift(g)}else if(Array.isArray(e)){c=[];for(var d=0,m=e.length;d<m;d++)c[d]=p.serialize(e[d],i,n,o)}else if(p.isPlainObject(e)){c={};for(var _=Object.keys(e),d=0,m=_.length;d<m;d++){var w=_[d];c[w]=p.serialize(e[w],i,n,o)}}else typeof e=="number"?c=i.formatter.number(e,i.precision):c=e;return l&&o.length>0?[["dictionary",o.definitions],c]:c},deserialize:function(e,i,n,o,l){var c=e,g=!n,d=g&&e&&e.length&&e[0][0]==="dictionary";if(n=n||{},Array.isArray(e)){var m=e[0],_=m==="dictionary";if(e.length==1&&/^#/.test(m))return n.dictionary[m];m=p.exports[m],c=[];for(var w=m?1:0,C=e.length;w<C;w++)c.push(p.deserialize(e[w],i,n,_,d));if(m){var x=c;i?c=i(m,x,g||l):c=new m(x)}}else if(p.isPlainObject(e)){c={},o&&(n.dictionary=c);for(var b in e)c[b]=p.deserialize(e[b],i,n)}return d?c[1]:c},exportJSON:function(e,i){var n=p.serialize(e,i);return i&&i.asString==!1?n:JSON.stringify(n)},importJSON:function(e,i){return p.deserialize(typeof e=="string"?JSON.parse(e):e,function(n,o,l){var c=l&&i&&i.constructor===n,g=c?i:p.create(n.prototype);if(o.length===1&&g instanceof Ce&&(c||!(g instanceof $e))){var d=o[0];p.isPlainObject(d)&&(d.insert=!1,c&&(o=o.concat([{insert:!0}])))}return(c?g.set:n).apply(g,o),c&&(i=null),g})},push:function(e,i){var n=i.length;if(n<4096)e.push.apply(e,i);else{var o=e.length;e.length+=n;for(var l=0;l<n;l++)e[o+l]=i[l]}return e},splice:function(e,i,n,o){var l=i&&i.length,c=n===s;n=c?e.length:n,n>e.length&&(n=e.length);for(var g=0;g<l;g++)i[g]._index=n+g;if(c)return p.push(e,i),[];var d=[n,o];i&&p.push(d,i);for(var m=e.splice.apply(e,d),g=0,_=m.length;g<_;g++)m[g]._index=s;for(var g=n+l,_=e.length;g<_;g++)e[g]._index=g;return m},capitalize:function(e){return e.replace(/\b[a-z]/g,function(i){return i.toUpperCase()})},camelize:function(e){return e.replace(/-(.)/g,function(i,n){return n.toUpperCase()})},hyphenate:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var k={on:function(e,i){if(typeof e!="string")p.each(e,function(c,g){this.on(g,c)},this);else{var n=this._eventTypes,o=n&&n[e],l=this._callbacks=this._callbacks||{};l=l[e]=l[e]||[],l.indexOf(i)===-1&&(l.push(i),o&&o.install&&l.length===1&&o.install.call(this,e))}return this},off:function(e,i){if(typeof e!="string"){p.each(e,function(g,d){this.off(d,g)},this);return}var n=this._eventTypes,o=n&&n[e],l=this._callbacks&&this._callbacks[e],c;return l&&(!i||(c=l.indexOf(i))!==-1&&l.length===1?(o&&o.uninstall&&o.uninstall.call(this,e),delete this._callbacks[e]):c!==-1&&l.splice(c,1)),this},once:function(e,i){return this.on(e,function n(){i.apply(this,arguments),this.off(e,n)})},emit:function(e,i){var n=this._callbacks&&this._callbacks[e];if(!n)return!1;var o=p.slice(arguments,1),l=i&&i.target&&!i.currentTarget;n=n.slice(),l&&(i.currentTarget=this);for(var c=0,g=n.length;c<g;c++)if(n[c].apply(this,o)==!1){i&&i.stop&&i.stop();break}return l&&delete i.currentTarget,!0},responds:function(e){return!!(this._callbacks&&this._callbacks[e])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(e){var i=this._eventTypes,n=this._callbacks,o=e?"install":"uninstall";if(i){for(var l in n)if(n[l].length>0){var c=i[l],g=c&&c[o];g&&g.call(this,l)}}},statics:{inject:function e(i){var n=i._events;if(n){var o={};p.each(n,function(l,c){var g=typeof l=="string",d=g?l:c,m=p.capitalize(d),_=d.substring(2).toLowerCase();o[_]=g?{}:l,d="_"+d,i["get"+m]=function(){return this[d]},i["set"+m]=function(w){var C=this[d];C&&this.off(_,C),w&&this.on(_,w),this[d]=w}}),i._eventTypes=o}return e.base.apply(this,arguments)}}},D=p.extend({_class:"PaperScope",initialize:function e(){He=this,this.settings=new p({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=e._id++,e._scopes[this._id]=this;var i=e.prototype;if(!this.support){var n=ot.getContext(1,1)||{};i.support={nativeDash:"setLineDash"in n||"mozDash"in n,nativeBlendModes:ki.nativeModes},ot.release(n)}if(!this.agent){var o=h.navigator.userAgent.toLowerCase(),l=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(o)||[])[0],c=l==="darwin"?"mac":l,g=i.agent=i.browser={platform:c};c&&(g[c]=!0),o.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(d,m,_,w,C){if(!g.chrome){var x=m==="opera"?w:/^(node|trident)$/.test(m)?C:_;g.version=x,g.versionNumber=parseFloat(x),m={trident:"msie",jsdom:"node"}[m]||m,g.name=m,g[m]=!0}}),g.chrome&&delete g.webkit,g.atom&&delete g.chrome}},version:"0.12.15",getView:function(){var e=this.project;return e&&e._view},getPaper:function(){return this},execute:function(e,i){var n=He.PaperScript.execute(e,this,i);return Nt.updateFocus(),n},install:function(e){var i=this;p.each(["project","view","tool"],function(o){p.define(e,o,{configurable:!0,get:function(){return i[o]}})});for(var n in this)!/^_/.test(n)&&this[n]&&(e[n]=this[n])},setup:function(e){return He=this,this.project=new ze(e),this},createCanvas:function(e,i){return ot.getCanvas(e,i)},activate:function(){He=this},clear:function(){for(var e=this.projects,i=this.tools,n=e.length-1;n>=0;n--)e[n].remove();for(var n=i.length-1;n>=0;n--)i[n].remove()},remove:function(){this.clear(),delete D._scopes[this._id]},statics:new function(){function e(i){return i+="Attribute",function(n,o){return n[i](o)||n[i]("data-paper-"+o)}}return{_scopes:{},_id:0,get:function(i){return this._scopes[i]||null},getAttribute:e("get"),hasAttribute:e("has")}}}),X=p.extend(k,{initialize:function(e){this._scope=He,this._index=this._scope[this._list].push(this)-1,(e||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var e=this._scope[this._reference];return e&&e!==this&&e.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",e),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(p.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),te={findItemBoundsCollisions:function(e,i,n){function o(g){for(var d=new Array(g.length),m=0;m<g.length;m++){var _=g[m].getBounds();d[m]=[_.left,_.top,_.right,_.bottom]}return d}var l=o(e),c=!i||i===e?l:o(i);return this.findBoundsCollisions(l,c,n||0)},findCurveBoundsCollisions:function(e,i,n,o){function l(x){for(var b=Math.min,P=Math.max,E=new Array(x.length),L=0;L<x.length;L++){var S=x[L];E[L]=[b(S[0],S[2],S[4],S[6]),b(S[1],S[3],S[5],S[7]),P(S[0],S[2],S[4],S[6]),P(S[1],S[3],S[5],S[7])]}return E}var c=l(e),g=!i||i===e?c:l(i);if(o){for(var d=this.findBoundsCollisions(c,g,n||0,!1,!0),m=this.findBoundsCollisions(c,g,n||0,!0,!0),_=[],w=0,C=d.length;w<C;w++)_[w]={hor:d[w],ver:m[w]};return _}return this.findBoundsCollisions(c,g,n||0)},findBoundsCollisions:function(e,i,n,o,l){var c=!i||e===i,g=c?e:e.concat(i),d=e.length,m=g.length;function _(Me,De,Ye){for(var we=0,Se=Me.length;we<Se;){var qe=Se+we>>>1;g[Me[qe]][De]<Ye?we=qe+1:Se=qe}return we-1}for(var w=o?1:0,C=w+2,x=o?0:1,b=x+2,P=new Array(m),E=0;E<m;E++)P[E]=E;P.sort(function(Me,De){return g[Me][w]-g[De][w]});for(var L=[],S=new Array(d),E=0;E<m;E++){var I=P[E],y=g[I],A=c?I:I-d,M=I<d,R=c||!M,O=M?[]:null;if(L.length){var U=_(L,C,y[w]-n)+1;if(L.splice(0,U),c&&l){O=O.concat(L);for(var G=0;G<L.length;G++){var Y=L[G];S[Y].push(A)}}else for(var J=y[b],W=y[x],G=0;G<L.length;G++){var Y=L[G],Q=g[Y],ie=Y<d,ae=c||Y>=d;(l||(M&&ae||R&&ie)&&J>=Q[x]-n&&W<=Q[b]+n)&&(M&&ae&&O.push(c?Y:Y-d),R&&ie&&S[Y].push(A))}}if(M&&(e===i&&O.push(I),S[I]=O),L.length){var oe=y[C],ge=_(L,C,oe);L.splice(ge+1,0,I)}else L.push(I)}for(var E=0;E<S.length;E++){var Ae=S[E];Ae&&Ae.sort(function(De,Ye){return De-Ye})}return S}},ne=p.extend({initialize:function(e){this.precision=p.pick(e,5),this.multiplier=Math.pow(10,this.precision)},number:function(e){return this.precision<16?Math.round(e*this.multiplier)/this.multiplier:e},pair:function(e,i,n){return this.number(e)+(n||",")+this.number(i)},point:function(e,i){return this.number(e.x)+(i||",")+this.number(e.y)},size:function(e,i){return this.number(e.width)+(i||",")+this.number(e.height)},rectangle:function(e,i){return this.point(e,i)+(i||",")+this.size(e,i)}});ne.instance=new ne;var ue=new function(){var e=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],i=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],n=Math.abs,o=Math.sqrt,l=Math.pow,c=Math.log2||function(C){return Math.log(C)*Math.LOG2E},g=1e-12,d=112e-18;function m(C,x,b){return C<x?x:C>b?b:C}function _(C,x,b){function P(U){var G=U*134217729,Y=U-G,J=Y+G,W=U-J;return[J,W]}var E=x*x-C*b,L=x*x+C*b;if(n(E)*3<L){var S=P(C),I=P(x),y=P(b),A=x*x,M=I[0]*I[0]-A+2*I[0]*I[1]+I[1]*I[1],R=C*b,O=S[0]*y[0]-R+S[0]*y[1]+S[1]*y[0]+S[1]*y[1];E=A-R+(M-O)}return E}function w(){var C=Math.max.apply(Math,arguments);return C&&(C<1e-8||C>1e8)?l(2,-Math.round(c(C))):0}return{EPSILON:g,MACHINE_EPSILON:d,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(o(2)-1)/3,isZero:function(C){return C>=-g&&C<=g},isMachineZero:function(C){return C>=-d&&C<=d},clamp:m,integrate:function(C,x,b,P){for(var E=e[P-2],L=i[P-2],S=(b-x)*.5,I=S+x,y=0,A=P+1>>1,M=P&1?L[y++]*C(I):0;y<A;){var R=S*E[y];M+=L[y++]*(C(I+R)+C(I-R))}return S*M},findRoot:function(C,x,b,P,E,L,S){for(var I=0;I<L;I++){var y=C(b),A=y/x(b),M=b-A;if(n(A)<S){b=M;break}y>0?(E=b,b=M<=P?(P+E)*.5:M):(P=b,b=M>=E?(P+E)*.5:M)}return m(b,P,E)},solveQuadratic:function(C,x,b,P,E,L){var S,I=1/0;if(n(C)<g){if(n(x)<g)return n(b)<g?-1:0;S=-b/x}else{x*=-.5;var y=_(C,x,b);if(y&&n(y)<d){var A=w(n(C),n(x),n(b));A&&(C*=A,x*=A,b*=A,y=_(C,x,b))}if(y>=-d){var M=y<0?0:o(y),R=x+(x<0?-M:M);R===0?(S=b/C,I=-S):(S=R/C,I=b/R)}}var O=0,U=E==null,G=E-g,Y=L+g;return isFinite(S)&&(U||S>G&&S<Y)&&(P[O++]=U?S:m(S,E,L)),I!==S&&isFinite(I)&&(U||I>G&&I<Y)&&(P[O++]=U?I:m(I,E,L)),O},solveCubic:function(C,x,b,P,E,L,S){var I=w(n(C),n(x),n(b),n(P)),y,A,M,R,O;I&&(C*=I,x*=I,b*=I,P*=I);function U(ge){y=ge;var Ae=C*y;A=Ae+x,M=A*y+b,R=(Ae+A)*y+M,O=M*y+P}if(n(C)<g)C=x,A=b,M=P,y=1/0;else if(n(P)<g)A=x,M=b,y=0;else{U(-(x/C)/3);var G=O/C,Y=l(n(G),1/3),J=G<0?-1:1,W=-R/C,Q=W>0?1.324717957244746*Math.max(Y,o(W)):Y,ie=y-J*Q;if(ie!==y){do U(ie),ie=R===0?y:y-O/R/(1+d);while(J*ie>J*y);n(C)*y*y>n(P/y)&&(M=-P/y,A=(M-b)/y)}}var ae=ue.solveQuadratic(C,A,M,E,L,S),oe=L==null;return isFinite(y)&&(ae===0||ae>0&&y!==E[0]&&y!==E[1])&&(oe||y>L-g&&y<S+g)&&(E[ae++]=oe?y:m(y,L,S)),ae}}},H={_id:1,_pools:{},get:function(e){if(e){var i=this._pools[e];return i||(i=this._pools[e]={_id:1}),i._id++}else return this._id++}},z=p.extend({_class:"Point",_readIndex:!0,initialize:function(i,n){var o=typeof i,l=this.__read,c=0;if(o==="number"){var g=typeof n=="number";this._set(i,g?n:i),l&&(c=g?2:1)}else if(o==="undefined"||i===null)this._set(0,0),l&&(c=i===null?1:0);else{var d=o==="string"?i.split(/[\s,]+/)||[]:i;c=1,Array.isArray(d)?this._set(+d[0],+(d.length>1?d[1]:d[0])):"x"in d?this._set(d.x||0,d.y||0):"width"in d?this._set(d.width||0,d.height||0):"angle"in d?(this._set(d.length||0,0),this.setAngle(d.angle||0)):(this._set(0,0),c=0)}return l&&(this.__read=c),this},set:"#initialize",_set:function(e,i){return this.x=e,this.y=i,this},equals:function(e){return this===e||e&&(this.x===e.x&&this.y===e.y||Array.isArray(e)&&this.x===e[0]&&this.y===e[1])||!1},clone:function(){return new z(this.x,this.y)},toString:function(){var e=ne.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+" }"},_serialize:function(e){var i=e.formatter;return[i.number(this.x),i.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(e){if(this.isZero()){var i=this._angle||0;this._set(Math.cos(i)*e,Math.sin(i)*e)}else{var n=e/this.getLength();ue.isZero(n)&&this.getAngle(),this._set(this.x*n,this.y*n)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(e){this.setAngleInRadians.call(this,e*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var e=z.read(arguments),i=this.getLength()*e.getLength();if(ue.isZero(i))return NaN;var n=this.dot(e)/i;return Math.acos(n<-1?-1:n>1?1:n)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(e){if(this._angle=e,!this.isZero()){var i=this.getLength();this._set(Math.cos(e)*i,Math.sin(e)*i)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var e=z.read(arguments);return Math.atan2(this.cross(e),this.dot(e))*180/Math.PI},getDistance:function(){var e=arguments,i=z.read(e),n=i.x-this.x,o=i.y-this.y,l=n*n+o*o,c=p.read(e);return c?l:Math.sqrt(l)},normalize:function(e){e===s&&(e=1);var i=this.getLength(),n=i!==0?e/i:0,o=new z(this.x*n,this.y*n);return n>=0&&(o._angle=this._angle),o},rotate:function(e,i){if(e===0)return this.clone();e=e*Math.PI/180;var n=i?this.subtract(i):this,o=Math.sin(e),l=Math.cos(e);return n=new z(n.x*l-n.y*o,n.x*o+n.y*l),i?n.add(i):n},transform:function(e){return e?e._transformPoint(this):this},add:function(){var e=z.read(arguments);return new z(this.x+e.x,this.y+e.y)},subtract:function(){var e=z.read(arguments);return new z(this.x-e.x,this.y-e.y)},multiply:function(){var e=z.read(arguments);return new z(this.x*e.x,this.y*e.y)},divide:function(){var e=z.read(arguments);return new z(this.x/e.x,this.y/e.y)},modulo:function(){var e=z.read(arguments);return new z(this.x%e.x,this.y%e.y)},negate:function(){return new z(-this.x,-this.y)},isInside:function(){return se.read(arguments).contains(this)},isClose:function(){var e=arguments,i=z.read(e),n=p.read(e);return this.getDistance(i)<=n},isCollinear:function(){var e=z.read(arguments);return z.isCollinear(this.x,this.y,e.x,e.y)},isColinear:"#isCollinear",isOrthogonal:function(){var e=z.read(arguments);return z.isOrthogonal(this.x,this.y,e.x,e.y)},isZero:function(){var e=ue.isZero;return e(this.x)&&e(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(e){return this.x*(e>1&&e<4?-1:1)>=0&&this.y*(e>2?-1:1)>=0},dot:function(){var e=z.read(arguments);return this.x*e.x+this.y*e.y},cross:function(){var e=z.read(arguments);return this.x*e.y-this.y*e.x},project:function(){var e=z.read(arguments),i=e.isZero()?0:this.dot(e)/e.dot(e);return new z(e.x*i,e.y*i)},statics:{min:function(){var e=arguments,i=z.read(e),n=z.read(e);return new z(Math.min(i.x,n.x),Math.min(i.y,n.y))},max:function(){var e=arguments,i=z.read(e),n=z.read(e);return new z(Math.max(i.x,n.x),Math.max(i.y,n.y))},random:function(){return new z(Math.random(),Math.random())},isCollinear:function(e,i,n,o){return Math.abs(e*o-i*n)<=Math.sqrt((e*e+i*i)*(n*n+o*o))*1e-8},isOrthogonal:function(e,i,n,o){return Math.abs(e*n+i*o)<=Math.sqrt((e*e+i*i)*(n*n+o*o))*1e-8}}},p.each(["round","ceil","floor","abs"],function(e){var i=Math[e];this[e]=function(){return new z(i(this.x),i(this.y))}},{})),K=z.extend({initialize:function(i,n,o,l){this._x=i,this._y=n,this._owner=o,this._setter=l},_set:function(e,i,n){return this._x=e,this._y=i,n||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),V=p.extend({_class:"Size",_readIndex:!0,initialize:function(i,n){var o=typeof i,l=this.__read,c=0;if(o==="number"){var g=typeof n=="number";this._set(i,g?n:i),l&&(c=g?2:1)}else if(o==="undefined"||i===null)this._set(0,0),l&&(c=i===null?1:0);else{var d=o==="string"?i.split(/[\s,]+/)||[]:i;c=1,Array.isArray(d)?this._set(+d[0],+(d.length>1?d[1]:d[0])):"width"in d?this._set(d.width||0,d.height||0):"x"in d?this._set(d.x||0,d.y||0):(this._set(0,0),c=0)}return l&&(this.__read=c),this},set:"#initialize",_set:function(e,i){return this.width=e,this.height=i,this},equals:function(e){return e===this||e&&(this.width===e.width&&this.height===e.height||Array.isArray(e)&&this.width===e[0]&&this.height===e[1])||!1},clone:function(){return new V(this.width,this.height)},toString:function(){var e=ne.instance;return"{ width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var i=e.formatter;return[i.number(this.width),i.number(this.height)]},add:function(){var e=V.read(arguments);return new V(this.width+e.width,this.height+e.height)},subtract:function(){var e=V.read(arguments);return new V(this.width-e.width,this.height-e.height)},multiply:function(){var e=V.read(arguments);return new V(this.width*e.width,this.height*e.height)},divide:function(){var e=V.read(arguments);return new V(this.width/e.width,this.height/e.height)},modulo:function(){var e=V.read(arguments);return new V(this.width%e.width,this.height%e.height)},negate:function(){return new V(-this.width,-this.height)},isZero:function(){var e=ue.isZero;return e(this.width)&&e(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(e,i){return new V(Math.min(e.width,i.width),Math.min(e.height,i.height))},max:function(e,i){return new V(Math.max(e.width,i.width),Math.max(e.height,i.height))},random:function(){return new V(Math.random(),Math.random())}}},p.each(["round","ceil","floor","abs"],function(e){var i=Math[e];this[e]=function(){return new V(i(this.width),i(this.height))}},{})),ee=V.extend({initialize:function(i,n,o,l){this._width=i,this._height=n,this._owner=o,this._setter=l},_set:function(e,i,n){return this._width=e,this._height=i,n||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(e){this._width=e,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(e){this._height=e,this._owner[this._setter](this)}}),se=p.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(i,n,o,l){var c=arguments,g=typeof i,d;if(g==="number"?(this._set(i,n,o,l),d=4):g==="undefined"||i===null?(this._set(0,0,0,0),d=i===null?1:0):c.length===1&&(Array.isArray(i)?(this._set.apply(this,i),d=1):i.x!==s||i.width!==s?(this._set(i.x||0,i.y||0,i.width||0,i.height||0),d=1):i.from===s&&i.to===s&&(this._set(0,0,0,0),p.readSupported(c,this)&&(d=1))),d===s){var m=z.readNamed(c,"from"),_=p.peek(c),w=m.x,C=m.y,x,b;if(_&&_.x!==s||p.hasNamed(c,"to")){var P=z.readNamed(c,"to");x=P.x-w,b=P.y-C,x<0&&(w=P.x,x=-x),b<0&&(C=P.y,b=-b)}else{var E=V.read(c);x=E.width,b=E.height}this._set(w,C,x,b),d=c.__index}var L=c.__filtered;return L&&(this.__filtered=L),this.__read&&(this.__read=d),this},set:"#initialize",_set:function(e,i,n,o){return this.x=e,this.y=i,this.width=n,this.height=o,this},clone:function(){return new se(this.x,this.y,this.width,this.height)},equals:function(e){var i=p.isPlainValue(e)?se.read(arguments):e;return i===this||i&&this.x===i.x&&this.y===i.y&&this.width===i.width&&this.height===i.height||!1},toString:function(){var e=ne.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+", width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var i=e.formatter;return[i.number(this.x),i.number(this.y),i.number(this.width),i.number(this.height)]},getPoint:function(e){var i=e?z:K;return new i(this.x,this.y,this,"setPoint")},setPoint:function(){var e=z.read(arguments);this.x=e.x,this.y=e.y},getSize:function(e){var i=e?V:ee;return new i(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var e=V.read(arguments),i=this._sx,n=this._sy,o=e.width,l=e.height;i&&(this.x+=(this.width-o)*i),n&&(this.y+=(this.height-l)*n),this.width=o,this.height=l,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(e){if(!this._fw){var i=e-this.x;this.width-=this._sx===.5?i*2:i}this.x=e,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(e){if(!this._fh){var i=e-this.y;this.height-=this._sy===.5?i*2:i}this.y=e,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(e){if(!this._fw){var i=e-this.x;this.width=this._sx===.5?i*2:i}this.x=e-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(e){if(!this._fh){var i=e-this.y;this.height=this._sy===.5?i*2:i}this.y=e-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(e){this._fw||this._sx===.5?this.x=e-this.width/2:(this._sx&&(this.x+=(e-this.x)*2*this._sx),this.width=(e-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(e){this._fh||this._sy===.5?this.y=e-this.height/2:(this._sy&&(this.y+=(e-this.y)*2*this._sy),this.height=(e-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(e){var i=e?z:K;return new i(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var e=z.read(arguments);return this.setCenterX(e.x),this.setCenterY(e.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(e){return e&&e.width!==s||(Array.isArray(e)?e:arguments).length===4?this._containsRectangle(se.read(arguments)):this._containsPoint(z.read(arguments))},_containsPoint:function(e){var i=e.x,n=e.y;return i>=this.x&&n>=this.y&&i<=this.x+this.width&&n<=this.y+this.height},_containsRectangle:function(e){var i=e.x,n=e.y;return i>=this.x&&n>=this.y&&i+e.width<=this.x+this.width&&n+e.height<=this.y+this.height},intersects:function(){var e=se.read(arguments),i=p.read(arguments)||0;return e.x+e.width>this.x-i&&e.y+e.height>this.y-i&&e.x<this.x+this.width+i&&e.y<this.y+this.height+i},intersect:function(){var e=se.read(arguments),i=Math.max(this.x,e.x),n=Math.max(this.y,e.y),o=Math.min(this.x+this.width,e.x+e.width),l=Math.min(this.y+this.height,e.y+e.height);return new se(i,n,o-i,l-n)},unite:function(){var e=se.read(arguments),i=Math.min(this.x,e.x),n=Math.min(this.y,e.y),o=Math.max(this.x+this.width,e.x+e.width),l=Math.max(this.y+this.height,e.y+e.height);return new se(i,n,o-i,l-n)},include:function(){var e=z.read(arguments),i=Math.min(this.x,e.x),n=Math.min(this.y,e.y),o=Math.max(this.x+this.width,e.x),l=Math.max(this.y+this.height,e.y);return new se(i,n,o-i,l-n)},expand:function(){var e=V.read(arguments),i=e.width,n=e.height;return new se(this.x-i/2,this.y-n/2,this.width+i,this.height+n)},scale:function(e,i){return this.expand(this.width*e-this.width,this.height*(i===s?e:i)-this.height)}},p.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(e,i){var n=e.join(""),o=/^[RL]/.test(n);i>=4&&(e[1]+=o?"Y":"X");var l=e[o?0:1],c=e[o?1:0],g="get"+l,d="get"+c,m="set"+l,_="set"+c,w="get"+n,C="set"+n;this[w]=function(x){var b=x?z:K;return new b(this[g](),this[d](),this,C)},this[C]=function(){var x=z.read(arguments);this[m](x.x),this[_](x.y)}},{beans:!0})),de=se.extend({initialize:function(i,n,o,l,c,g){this._set(i,n,o,l,!0),this._owner=c,this._setter=g},_set:function(e,i,n,o,l){return this._x=e,this._y=i,this._width=n,this._height=o,l||this._owner[this._setter](this),this}},new function(){var e=se.prototype;return p.each(["x","y","width","height"],function(i){var n=p.capitalize(i),o="_"+i;this["get"+n]=function(){return this[o]},this["set"+n]=function(l){this[o]=l,this._dontNotify||this._owner[this._setter](this)}},p.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(i){var n="set"+i;this[n]=function(){this._dontNotify=!0,e[n].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(i){var n=this._owner;n._changeSelection&&n._changeSelection(2,i)}}))}),ce=p.extend({_class:"Matrix",initialize:function e(i,n){var o=arguments,l=o.length,c=!0;if(l>=6?this._set.apply(this,o):l===1||l===2?i instanceof e?this._set(i._a,i._b,i._c,i._d,i._tx,i._ty,n):Array.isArray(i)?this._set.apply(this,n?i.concat([n]):i):c=!1:l?c=!1:this.reset(),!c)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(e,i,n,o,l,c,g){return this._a=e,this._b=i,this._c=n,this._d=o,this._tx=l,this._ty=c,g||this._changed(),this},_serialize:function(e,i){return p.serialize(this.getValues(),e,!0,i)},_changed:function(){var e=this._owner;e&&(e._applyMatrix?e.transform(null,!0):e._changed(25))},clone:function(){return new ce(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(e){return e===this||e&&this._a===e._a&&this._b===e._b&&this._c===e._c&&this._d===e._d&&this._tx===e._tx&&this._ty===e._ty},toString:function(){var e=ne.instance;return"[["+[e.number(this._a),e.number(this._c),e.number(this._tx)].join(", ")+"], ["+[e.number(this._b),e.number(this._d),e.number(this._ty)].join(", ")+"]]"},reset:function(e){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,e||this._changed(),this},apply:function(e,i){var n=this._owner;return n?(n.transform(null,p.pick(e,!0),i),this.isIdentity()):!1},translate:function(){var e=z.read(arguments),i=e.x,n=e.y;return this._tx+=i*this._a+n*this._c,this._ty+=i*this._b+n*this._d,this._changed(),this},scale:function(){var e=arguments,i=z.read(e),n=z.read(e,0,{readNull:!0});return n&&this.translate(n),this._a*=i.x,this._b*=i.x,this._c*=i.y,this._d*=i.y,n&&this.translate(n.negate()),this._changed(),this},rotate:function(e){e*=Math.PI/180;var i=z.read(arguments,1),n=i.x,o=i.y,l=Math.cos(e),c=Math.sin(e),g=n-n*l+o*c,d=o-n*c-o*l,m=this._a,_=this._b,w=this._c,C=this._d;return this._a=l*m+c*w,this._b=l*_+c*C,this._c=-c*m+l*w,this._d=-c*_+l*C,this._tx+=g*m+d*w,this._ty+=g*_+d*C,this._changed(),this},shear:function(){var e=arguments,i=z.read(e),n=z.read(e,0,{readNull:!0});n&&this.translate(n);var o=this._a,l=this._b;return this._a+=i.y*this._c,this._b+=i.y*this._d,this._c+=i.x*o,this._d+=i.x*l,n&&this.translate(n.negate()),this._changed(),this},skew:function(){var e=arguments,i=z.read(e),n=z.read(e,0,{readNull:!0}),o=Math.PI/180,l=new z(Math.tan(i.x*o),Math.tan(i.y*o));return this.shear(l,n)},append:function(e,i){if(e){var n=this._a,o=this._b,l=this._c,c=this._d,g=e._a,d=e._c,m=e._b,_=e._d,w=e._tx,C=e._ty;this._a=g*n+m*l,this._c=d*n+_*l,this._b=g*o+m*c,this._d=d*o+_*c,this._tx+=w*n+C*l,this._ty+=w*o+C*c,i||this._changed()}return this},prepend:function(e,i){if(e){var n=this._a,o=this._b,l=this._c,c=this._d,g=this._tx,d=this._ty,m=e._a,_=e._c,w=e._b,C=e._d,x=e._tx,b=e._ty;this._a=m*n+_*o,this._c=m*l+_*c,this._b=w*n+C*o,this._d=w*l+C*c,this._tx=m*g+_*d+x,this._ty=w*g+C*d+b,i||this._changed()}return this},appended:function(e){return this.clone().append(e)},prepended:function(e){return this.clone().prepend(e)},invert:function(){var e=this._a,i=this._b,n=this._c,o=this._d,l=this._tx,c=this._ty,g=e*o-i*n,d=null;return g&&!isNaN(g)&&isFinite(l)&&isFinite(c)&&(this._a=o/g,this._b=-i/g,this._c=-n/g,this._d=e/g,this._tx=(n*c-o*l)/g,this._ty=(i*l-e*c)/g,d=this),d},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new ce(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var e=this._a*this._d-this._c*this._b;return e&&!isNaN(e)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(e,i,n){return arguments.length<3?this._transformPoint(z.read(arguments)):this._transformCoordinates(e,i,n)},_transformPoint:function(e,i,n){var o=e.x,l=e.y;return i||(i=new z),i._set(o*this._a+l*this._c+this._tx,o*this._b+l*this._d+this._ty,n)},_transformCoordinates:function(e,i,n){for(var o=0,l=2*n;o<l;o+=2){var c=e[o],g=e[o+1];i[o]=c*this._a+g*this._c+this._tx,i[o+1]=c*this._b+g*this._d+this._ty}return i},_transformCorners:function(e){var i=e.x,n=e.y,o=i+e.width,l=n+e.height,c=[i,n,o,n,o,l,i,l];return this._transformCoordinates(c,c,4)},_transformBounds:function(e,i,n){for(var o=this._transformCorners(e),l=o.slice(0,2),c=l.slice(),g=2;g<8;g++){var d=o[g],m=g&1;d<l[m]?l[m]=d:d>c[m]&&(c[m]=d)}return i||(i=new se),i._set(l[0],l[1],c[0]-l[0],c[1]-l[1],n)},inverseTransform:function(){return this._inverseTransform(z.read(arguments))},_inverseTransform:function(e,i,n){var o=this._a,l=this._b,c=this._c,g=this._d,d=this._tx,m=this._ty,_=o*g-l*c,w=null;if(_&&!isNaN(_)&&isFinite(d)&&isFinite(m)){var C=e.x-this._tx,x=e.y-this._ty;i||(i=new z),w=i._set((C*g-x*c)/_,(x*o-C*l)/_,n)}return w},decompose:function(){var e=this._a,i=this._b,n=this._c,o=this._d,l=e*o-i*n,c=Math.sqrt,g=Math.atan2,d=180/Math.PI,m,_,w;if(e!==0||i!==0){var C=c(e*e+i*i);m=Math.acos(e/C)*(i>0?1:-1),_=[C,l/C],w=[g(e*n+i*o,C*C),0]}else if(n!==0||o!==0){var x=c(n*n+o*o);m=Math.asin(n/x)*(o>0?1:-1),_=[l/x,x],w=[0,g(e*n+i*o,x*x)]}else m=0,w=_=[0,0];return{translation:this.getTranslation(),rotation:m*d,scaling:new z(_),skewing:new z(w[0]*d,w[1]*d)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new z(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(e){this.isIdentity()||e.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},p.each(["a","b","c","d","tx","ty"],function(e){var i=p.capitalize(e),n="_"+e;this["get"+i]=function(){return this[n]},this["set"+i]=function(o){this[n]=o,this._changed()}},{})),me=p.extend({_class:"Line",initialize:function(i,n,o,l,c){var g=!1;arguments.length>=4?(this._px=i,this._py=n,this._vx=o,this._vy=l,g=c):(this._px=i.x,this._py=i.y,this._vx=n.x,this._vy=n.y,g=o),g||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new z(this._px,this._py)},getVector:function(){return new z(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(e,i){return me.intersect(this._px,this._py,this._vx,this._vy,e._px,e._py,e._vx,e._vy,!0,i)},getSide:function(e,i){return me.getSide(this._px,this._py,this._vx,this._vy,e.x,e.y,!0,i)},getDistance:function(e){return Math.abs(this.getSignedDistance(e))},getSignedDistance:function(e){return me.getSignedDistance(this._px,this._py,this._vx,this._vy,e.x,e.y,!0)},isCollinear:function(e){return z.isCollinear(this._vx,this._vy,e._vx,e._vy)},isOrthogonal:function(e){return z.isOrthogonal(this._vx,this._vy,e._vx,e._vy)},statics:{intersect:function(e,i,n,o,l,c,g,d,m,_){m||(n-=e,o-=i,g-=l,d-=c);var w=n*d-o*g;if(!ue.isMachineZero(w)){var C=e-l,x=i-c,b=(g*x-d*C)/w,P=(n*x-o*C)/w,E=1e-12,L=-E,S=1+E;if(_||L<b&&b<S&&L<P&&P<S)return _||(b=b<=0?0:b>=1?1:b),new z(e+b*n,i+b*o)}},getSide:function(e,i,n,o,l,c,g,d){g||(n-=e,o-=i);var m=l-e,_=c-i,w=m*o-_*n;return!d&&ue.isMachineZero(w)&&(w=(m*n+m*n)/(n*n+o*o),w>=0&&w<=1&&(w=0)),w<0?-1:w>0?1:0},getSignedDistance:function(e,i,n,o,l,c,g){return g||(n-=e,o-=i),n===0?o>0?l-e:e-l:o===0?n<0?c-i:i-c:((l-e)*o-(c-i)*n)/(o>n?o*Math.sqrt(1+n*n/(o*o)):n*Math.sqrt(1+o*o/(n*n)))},getDistance:function(e,i,n,o,l,c,g){return Math.abs(me.getSignedDistance(e,i,n,o,l,c,g))}}}),ze=X.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(i){X.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new Xt(null,null,this),this._view=Nt.create(this,i||ot.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(e,i){return p.serialize(this._children,e,!0,i)},_changed:function(e,i){if(e&1){var n=this._view;n&&(n._needsUpdate=!0,!n._requested&&n._autoUpdate&&n.requestUpdate())}var o=this._changes;if(o&&i){var l=this._changesById,c=i._id,g=l[c];g?g.flags|=e:o.push(l[c]={item:i,flags:e})}},clear:function(){for(var e=this._children,i=e.length-1;i>=0;i--)e[i].remove()},isEmpty:function(){return!this._children.length},remove:function e(){return e.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(e){this._currentStyle.set(e)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new $e({project:this,insert:!0})},getSymbolDefinitions:function(){var e=[],i={};return this.getItems({class:Oe,match:function(n){var o=n._definition,l=o._id;return i[l]||(i[l]=!0,e.push(o)),!1}}),e},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var e=this._selectionItems,i=[];for(var n in e){var o=e[n],l=o._selection;l&1&&o.isInserted()?i.push(o):l||this._updateSelection(o)}return i},_updateSelection:function(e){var i=e._id,n=this._selectionItems;e._selection?n[i]!==e&&(this._selectionCount++,n[i]=e):n[i]===e&&(this._selectionCount--,delete n[i])},selectAll:function(){for(var e=this._children,i=0,n=e.length;i<n;i++)e[i].setFullySelected(!0)},deselectAll:function(){var e=this._selectionItems;for(var i in e)e[i].setFullySelected(!1)},addLayer:function(e){return this.insertLayer(s,e)},insertLayer:function(e,i){if(i instanceof $e){i._remove(!1,!0),p.splice(this._children,[i],e,0),i._setProject(this,!0);var n=i._name;n&&i.setName(n),this._changes&&i._changed(5),this._activeLayer||(this._activeLayer=i)}else i=null;return i},_insertItem:function(e,i,n){return i=this.insertLayer(e,i)||(this._activeLayer||this._insertItem(s,new $e(Ce.NO_INSERT),!0)).insertChild(e,i),n&&i.activate&&i.activate(),i},getItems:function(e){return Ce._getItems(this,e)},getItem:function(e){return Ce._getItems(this,e,null,null,!0)[0]||null},importJSON:function(e){this.activate();var i=this._activeLayer;return p.importJSON(e,i&&i.isEmpty()&&i)},removeOn:function(e){var i=this._removeSets;if(i){e==="mouseup"&&(i.mousedrag=null);var n=i[e];if(n){for(var o in n){var l=n[o];for(var c in i){var g=i[c];g&&g!=n&&delete g[l._id]}l.remove()}i[e]=null}}},draw:function(e,i,n){this._updateVersion++,e.save(),i.applyToContext(e);for(var o=this._children,l=new p({offset:new z(0,0),pixelRatio:n,viewMatrix:i.isIdentity()?null:i,matrices:[new ce],updateMatrix:!0}),c=0,g=o.length;c<g;c++)o[c].draw(e,l);if(e.restore(),this._selectionCount>0){e.save(),e.strokeWidth=1;var d=this._selectionItems,m=this._scope.settings.handleSize,_=this._updateVersion;for(var w in d)d[w]._drawSelection(e,i,m,d,_);e.restore()}}}),Ce=p.extend(k,{statics:{extend:function e(i){return i._serializeFields&&(i._serializeFields=p.set({},this.prototype._serializeFields,i._serializeFields)),e.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new ce,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var e=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return p.each(e,function(i){this._events[i]={install:function(n){this.getView()._countItemEvent(n,1)},uninstall:function(n){this.getView()._countItemEvent(n,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:e}})},{initialize:function(){},_initialize:function(e,i){var n=e&&p.isPlainObject(e),o=n&&e.internal===!0,l=this._matrix=new ce,c=n&&e.project||He.project,g=He.settings;return this._id=o?null:H.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&g.applyMatrix,i&&l.translate(i),l._owner=this,this._style=new Xt(c._currentStyle,this,c),o||n&&e.insert==!1||!g.insertItems&&!(n&&e.insert===!0)?this._setProject(c):(n&&e.parent||c)._insertItem(s,this,!0),n&&e!==Ce.NO_INSERT&&this.set(e,{internal:!0,insert:!0,project:!0,parent:!0}),n},_serialize:function(e,i){var n={},o=this;function l(c){for(var g in c){var d=o[g];p.equals(d,g==="leading"?c.fontSize*1.2:c[g])||(n[g]=p.serialize(d,e,g!=="data",i))}}return l(this._serializeFields),this instanceof Le||l(this._style._defaults),[this._class,n]},_changed:function(e){var i=this._symbol,n=this._parent||i,o=this._project;e&8&&(this._bounds=this._position=this._decomposed=s),e&16&&(this._globalMatrix=s),n&&e&72&&Ce._clearBoundsCache(n),e&2&&Ce._clearBoundsCache(this),o&&o._changed(e,this),i&&i._changed(e)},getId:function(){return this._id},getName:function(){return this._name},setName:function(e){if(this._name&&this._removeNamed(),e===+e+"")throw new Error("Names consisting only of numbers are not supported.");var i=this._getOwner();if(e&&i){var n=i._children,o=i._namedChildren;(o[e]=o[e]||[]).push(this),e in n||(n[e]=this)}this._name=e||s,this._changed(256)},getStyle:function(){return this._style},setStyle:function(e){this.getStyle().set(e)}},p.each(["locked","visible","blendMode","opacity","guide"],function(e){var i=p.capitalize(e),n="_"+e,o={locked:256,visible:265};this["get"+i]=function(){return this[n]},this["set"+i]=function(l){l!=this[n]&&(this[n]=l,this._changed(o[e]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(e){if(e!==this._selection){this._selection=e;var i=this._project;i&&(i._updateSelection(this),this._changed(257))}},_changeSelection:function(e,i){var n=this._selection;this.setSelection(i?n|e:n&~e)},isSelected:function(){if(this._selectChildren){for(var e=this._children,i=0,n=e.length;i<n;i++)if(e[i].isSelected())return!0}return!!(this._selection&1)},setSelected:function(e){if(this._selectChildren)for(var i=this._children,n=0,o=i.length;n<o;n++)i[n].setSelected(e);this._changeSelection(1,e)},isFullySelected:function(){var e=this._children,i=!!(this._selection&1);if(e&&i){for(var n=0,o=e.length;n<o;n++)if(!e[n].isFullySelected())return!1;return!0}return i},setFullySelected:function(e){var i=this._children;if(i)for(var n=0,o=i.length;n<o;n++)i[n].setFullySelected(e);this._changeSelection(1,e)},isClipMask:function(){return this._clipMask},setClipMask:function(e){this._clipMask!=(e=!!e)&&(this._clipMask=e,e&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(e){this._data=e},getPosition:function(e){var i=e?z:K,n=this._position||(this._position=this._getPositionFromBounds());return new i(n.x,n.y,this,"setPosition")},setPosition:function(){this.translate(z.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(e){return this._pivot?this._matrix._transformPoint(this._pivot):(e||this.getBounds()).getCenter(!0)},getPivot:function(){var e=this._pivot;return e?new K(e.x,e.y,this,"setPivot"):null},setPivot:function(){this._pivot=z.read(arguments,0,{clone:!0,readNull:!0}),this._position=s}},p.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(e,i){this[i]=function(n){return this.getBounds(n,e)}},{beans:!0,getBounds:function(e,i){var n=i||e instanceof ce,o=p.set({},n?i:e,this._boundsOptions);(!o.stroke||this.getStrokeScaling())&&(o.cacheItem=this);var l=this._getCachedBounds(n&&e,o).rect;return arguments.length?l:new de(l.x,l.y,l.width,l.height,this,"setBounds")},setBounds:function(){var e=se.read(arguments),i=this.getBounds(),n=this._matrix,o=new ce,l=e.getCenter();o.translate(l),(e.width!=i.width||e.height!=i.height)&&(n.isInvertible()||(n.set(n._backup||new ce().translate(n.getTranslation())),i=this.getBounds()),o.scale(i.width!==0?e.width/i.width:0,i.height!==0?e.height/i.height:0)),l=i.getCenter(),o.translate(-l.x,-l.y),this.transform(o)},_getBounds:function(e,i){var n=this._children;return!n||!n.length?new se:(Ce._updateBoundsCache(this,i.cacheItem),Ce._getBounds(n,e,i))},_getBoundsCacheKey:function(e,i){return[e.stroke?1:0,e.handle?1:0,i?1:0].join("")},_getCachedBounds:function(e,i,n){e=e&&e._orNullIfIdentity();var o=i.internal&&!n,l=i.cacheItem,c=o?null:this._matrix._orNullIfIdentity(),g=l&&(!e||e.equals(c))&&this._getBoundsCacheKey(i,o),d=this._bounds;if(Ce._updateBoundsCache(this._parent||this._symbol,l),g&&d&&g in d){var m=d[g];return{rect:m.rect.clone(),nonscaling:m.nonscaling}}var _=this._getBounds(e||c,i),w=_.rect||_,C=this._style,x=_.nonscaling||C.hasStroke()&&!C.getStrokeScaling();if(g){d||(this._bounds=d={});var m=d[g]={rect:w.clone(),nonscaling:x,internal:o}}return{rect:w,nonscaling:x}},_getStrokeMatrix:function(e,i){var n=this.getStrokeScaling()?null:i&&i.internal?this:this._parent||this._symbol&&this._symbol._item,o=n?n.getViewMatrix().invert():e;return o&&o._shiftless()},statics:{_updateBoundsCache:function(e,i){if(e&&i){var n=i._id,o=e._boundsCache=e._boundsCache||{ids:{},list:[]};o.ids[n]||(o.list.push(i),o.ids[n]=i)}},_clearBoundsCache:function(e){var i=e._boundsCache;if(i){e._bounds=e._position=e._boundsCache=s;for(var n=0,o=i.list,l=o.length;n<l;n++){var c=o[n];c!==e&&(c._bounds=c._position=s,c._boundsCache&&Ce._clearBoundsCache(c))}}},_getBounds:function(e,i,n){var o=1/0,l=-o,c=o,g=l,d=!1;n=n||{};for(var m=0,_=e.length;m<_;m++){var w=e[m];if(w._visible&&!w.isEmpty(!0)){var C=w._getCachedBounds(i&&i.appended(w._matrix),n,!0),x=C.rect;o=Math.min(x.x,o),c=Math.min(x.y,c),l=Math.max(x.x+x.width,l),g=Math.max(x.y+x.height,g),C.nonscaling&&(d=!0)}}return{rect:isFinite(o)?new se(o,c,l-o,g-c):new se,nonscaling:d}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var e=this._decompose();return e?e.rotation:0},setRotation:function(e){var i=this.getRotation();if(i!=null&&e!=null){var n=this._decomposed;this.rotate(e-i),n&&(n.rotation=e,this._decomposed=n)}},getScaling:function(){var e=this._decompose(),i=e&&e.scaling;return new K(i?i.x:1,i?i.y:1,this,"setScaling")},setScaling:function(){var e=this.getScaling(),i=z.read(arguments,0,{clone:!0,readNull:!0});if(e&&i&&!e.equals(i)){var n=this.getRotation(),o=this._decomposed,l=new ce,c=ue.isZero;if(c(e.x)||c(e.y))l.translate(o.translation),n&&l.rotate(n),l.scale(i.x,i.y),this._matrix.set(l);else{var g=this.getPosition(!0);l.translate(g),n&&l.rotate(n),l.scale(i.x/e.x,i.y/e.y),n&&l.rotate(-n),l.translate(g.negate()),this.transform(l)}o&&(o.scaling=i,this._decomposed=o)}},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},getGlobalMatrix:function(e){var i=this._globalMatrix;if(i)for(var n=this._parent,o=[];n;){if(!n._globalMatrix){i=null;for(var l=0,c=o.length;l<c;l++)o[l]._globalMatrix=null;break}o.push(n),n=n._parent}if(!i){i=this._globalMatrix=this._matrix.clone();var n=this._parent;n&&i.prepend(n.getGlobalMatrix(!0))}return e?i:i.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(e){(this._applyMatrix=this._canApplyMatrix&&!!e)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(e,i){if(this._project!==e){this._project&&this._installEvents(!1),this._project=e;for(var n=this._children,o=0,l=n&&n.length;o<l;o++)n[o]._setProject(e);i=!0}i&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function e(i){e.base.call(this,i);for(var n=this._children,o=0,l=n&&n.length;o<l;o++)n[o]._installEvents(i)},getLayer:function(){for(var e=this;e=e._parent;)if(e instanceof $e)return e;return null},getParent:function(){return this._parent},setParent:function(e){return e.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(e){this.removeChildren(),this.addChildren(e)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var e=this._getOwner();return e&&e._children[this._index+1]||null},getPreviousSibling:function(){var e=this._getOwner();return e&&e._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(e){return e===this||e&&this._class===e._class&&this._style.equals(e._style)&&this._matrix.equals(e._matrix)&&this._locked===e._locked&&this._visible===e._visible&&this._blendMode===e._blendMode&&this._opacity===e._opacity&&this._clipMask===e._clipMask&&this._guide===e._guide&&this._equals(e)||!1},_equals:function(e){return p.equals(this._children,e._children)},clone:function(e){var i=new this.constructor(Ce.NO_INSERT),n=this._children,o=p.pick(e?e.insert:s,e===s||e===!0),l=p.pick(e?e.deep:s,!0);n&&i.copyAttributes(this),(!n||l)&&i.copyContent(this),n||i.copyAttributes(this),o&&i.insertAbove(this);var c=this._name,g=this._parent;if(c&&g){for(var n=g._children,d=c,m=1;n[c];)c=d+" "+m++;c!==d&&i.setName(c)}return i},copyContent:function(e){for(var i=e._children,n=0,o=i&&i.length;n<o;n++)this.addChild(i[n].clone(!1),!0)},copyAttributes:function(e,i){this.setStyle(e._style);for(var n=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],o=0,l=n.length;o<l;o++){var c=n[o];e.hasOwnProperty(c)&&(this[c]=e[c])}i||this._matrix.set(e._matrix,!0),this.setApplyMatrix(e._applyMatrix),this.setPivot(e._pivot),this.setSelection(e._selection);var g=e._data,d=e._name;this._data=g?p.clone(g):null,d&&this.setName(d)},rasterize:function(e,i){var n,o,l;p.isPlainObject(e)?(n=e.resolution,o=e.insert,l=e.raster):(n=e,o=i),l?l.matrix.reset(!0):l=new tt(Ce.NO_INSERT);var c=this.getStrokeBounds(),g=(n||this.getView().getResolution())/72,d=c.getTopLeft().floor(),m=c.getBottomRight().ceil(),_=new V(m.subtract(d)),w=_.multiply(g);if(l.setSize(w,!0),!w.isZero()){var C=l.getContext(!0),x=new ce().scale(g).translate(d.negate());C.save(),x.applyToContext(C),this.draw(C,new p({matrices:[x]})),C.restore()}return l.transform(new ce().translate(d.add(_.divide(2))).scale(1/g)),(o===s||o)&&l.insertAbove(this),l},contains:function(){var e=this._matrix;return e.isInvertible()&&!!this._contains(e._inverseTransform(z.read(arguments)))},_contains:function(e){var i=this._children;if(i){for(var n=i.length-1;n>=0;n--)if(i[n].contains(e))return!0;return!1}return e.isInside(this.getInternalBounds())},isInside:function(){return se.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new Ie.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(e,i){return e instanceof Ce?this._asPathItem().getIntersections(e._asPathItem(),null,i,!0).length>0:!1}},new function(){function e(){var o=arguments;return this._hitTest(z.read(o),Qe.getOptions(o))}function i(){var o=arguments,l=z.read(o),c=Qe.getOptions(o),g=[];return this._hitTest(l,new p({all:g},c)),g}function n(o,l,c,g){var d=this._children;if(d)for(var m=d.length-1;m>=0;m--){var _=d[m],w=_!==g&&_._hitTest(o,l,c);if(w&&!l.all)return w}return null}return ze.inject({hitTest:e,hitTestAll:i,_hitTest:n}),{hitTest:e,hitTestAll:i,_hitTestChildren:n}},{_hitTest:function(e,i,n){if(this._locked||!this._visible||this._guide&&!i.guides||this.isEmpty())return null;var o=this._matrix,l=n?n.appended(o):this.getGlobalMatrix().prepend(this.getView()._matrix),c=Math.max(i.tolerance,1e-12),g=i._tolerancePadding=new V(Ie._getStrokePadding(c,o._shiftless().invert()));if(e=o._inverseTransform(e),!e||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(g.multiply(2))._containsPoint(e))return null;var d=!(i.guides&&!this._guide||i.selected&&!this.isSelected()||i.type&&i.type!==p.hyphenate(this._class)||i.class&&!(this instanceof i.class)),m=i.match,_=this,w,C;function x(y){return y&&m&&!m(y)&&(y=null),y&&i.all&&i.all.push(y),y}function b(y,A){var M=A?w["get"+A]():_.getPosition();if(e.subtract(M).divide(g).length<=1)return new Qe(y,_,{name:A?p.hyphenate(A):y,point:M})}var P=i.position,E=i.center,L=i.bounds;if(d&&this._parent&&(P||E||L)){if((E||L)&&(w=this.getInternalBounds()),C=P&&b("position")||E&&b("center","Center"),!C&&L)for(var S=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],I=0;I<8&&!C;I++)C=b("bounds",S[I]);C=x(C)}return C||(C=this._hitTestChildren(e,i,l)||d&&x(this._hitTestSelf(e,i,l,this.getStrokeScaling()?null:l._shiftless().invert()))||null),C&&C.point&&(C.point=o.transform(C.point)),C},_hitTestSelf:function(e,i){if(i.fill&&this.hasFill()&&this._contains(e))return new Qe("fill",this)},matches:function(e,i){function n(g,d){for(var m in g)if(g.hasOwnProperty(m)){var _=g[m],w=d[m];if(p.isPlainObject(_)&&p.isPlainObject(w)){if(!n(_,w))return!1}else if(!p.equals(_,w))return!1}return!0}var o=typeof e;if(o==="object"){for(var l in e)if(e.hasOwnProperty(l)&&!this.matches(l,e[l]))return!1;return!0}else{if(o==="function")return e(this);if(e==="match")return i(this);var c=/^(empty|editable)$/.test(e)?this["is"+p.capitalize(e)]():e==="type"?p.hyphenate(this._class):this[e];if(e==="class"){if(typeof i=="function")return this instanceof i;c=this._class}if(typeof i=="function")return!!i(c);if(i){if(i.test)return i.test(c);if(p.isPlainObject(i))return n(i,c)}return p.equals(c,i)}},getItems:function(e){return Ce._getItems(this,e,this._matrix)},getItem:function(e){return Ce._getItems(this,e,this._matrix,null,!0)[0]||null},statics:{_getItems:function e(i,n,o,l,c){if(!l){var g=typeof n=="object"&&n,d=g&&g.overlapping,m=g&&g.inside,_=d||m,x=_&&se.read([_]);l={items:[],recursive:g&&g.recursive!==!1,inside:!!m,overlapping:!!d,rect:x,path:d&&new Ie.Rectangle({rectangle:x,insert:!1})},g&&(n=p.filter({},n,{recursive:!0,inside:!0,overlapping:!0}))}var w=i._children,C=l.items,x=l.rect;o=x&&(o||new ce);for(var b=0,P=w&&w.length;b<P;b++){var E=w[b],L=o&&o.appended(E._matrix),S=!0;if(x){var _=E.getBounds(L);if(!x.intersects(_))continue;x.contains(_)||l.overlapping&&(_.contains(x)||l.path.intersects(E,L))||(S=!1)}if(S&&E.matches(n)&&(C.push(E),c)||(l.recursive!==!1&&e(E,n,L,l,c),c&&C.length>0))break}return C}}},{importJSON:function(e){var i=p.importJSON(e,this);return i!==this?this.addChild(i):i},addChild:function(e){return this.insertChild(s,e)},insertChild:function(e,i){var n=i?this.insertChildren(e,[i]):null;return n&&n[0]},addChildren:function(e){return this.insertChildren(this._children.length,e)},insertChildren:function(e,i){var n=this._children;if(n&&i&&i.length>0){i=p.slice(i);for(var o={},l=i.length-1;l>=0;l--){var c=i[l],g=c&&c._id;!c||o[g]?i.splice(l,1):(c._remove(!1,!0),o[g]=!0)}p.splice(n,i,e,0);for(var d=this._project,m=d._changes,l=0,_=i.length;l<_;l++){var c=i[l],w=c._name;c._parent=this,c._setProject(d,!0),w&&c.setName(w),m&&c._changed(5)}this._changed(11)}else i=null;return i},_insertItem:"#insertChild",_insertAt:function(e,i){var n=e&&e._getOwner(),o=e!==this&&n?this:null;return o&&(o._remove(!1,!0),n._insertItem(e._index+i,o)),o},insertAbove:function(e){return this._insertAt(e,1)},insertBelow:function(e){return this._insertAt(e,0)},sendToBack:function(){var e=this._getOwner();return e?e._insertItem(0,this):null},bringToFront:function(){var e=this._getOwner();return e?e._insertItem(s,this):null},appendTop:"#addChild",appendBottom:function(e){return this.insertChild(0,e)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(e){return e._insertItem(s,this)},copyTo:function(e){return this.clone(!1).addTo(e)},reduce:function(e){var i=this._children;if(i&&i.length===1){var n=i[0].reduce(e);return this._parent?(n.insertAbove(this),this.remove()):n.remove(),n}return this},_removeNamed:function(){var e=this._getOwner();if(e){var i=e._children,n=e._namedChildren,o=this._name,l=n[o],c=l?l.indexOf(this):-1;c!==-1&&(i[o]==this&&delete i[o],l.splice(c,1),l.length?i[o]=l[0]:delete n[o])}},_remove:function(e,i){var n=this._getOwner(),o=this._project,l=this._index;return this._style&&this._style._dispose(),n?(this._name&&this._removeNamed(),l!=null&&(o._activeLayer===this&&(o._activeLayer=this.getNextSibling()||this.getPreviousSibling()),p.splice(n._children,null,l,1)),this._installEvents(!1),e&&o._changes&&this._changed(5),i&&n._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(e){var i=e&&e.insertBelow(this);return i&&this.remove(),i},removeChildren:function(e,i){if(!this._children)return null;e=e||0,i=p.pick(i,this._children.length);for(var n=p.splice(this._children,null,e,i-e),o=n.length-1;o>=0;o--)n[o]._remove(!0,!1);return n.length>0&&this._changed(11),n},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var e=0,i=this._children.length;e<i;e++)this._children[e]._index=e;this._changed(11)}},isEmpty:function(e){var i=this._children,n=i?i.length:0;if(e){for(var o=0;o<n;o++)if(!i[o].isEmpty(e))return!1;return!0}return!n},isEditable:function(){for(var e=this;e;){if(!e._visible||e._locked)return!1;e=e._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(e){function i(g){var d=[];do d.unshift(g);while(g=g._parent);return d}for(var n=i(this),o=i(e),l=0,c=Math.min(n.length,o.length);l<c;l++)if(n[l]!=o[l])return n[l]._index<o[l]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(e){return this._getOrder(e)===-1},isBelow:function(e){return this._getOrder(e)===1},isParent:function(e){return this._parent===e},isChild:function(e){return e&&e._parent===this},isDescendant:function(e){for(var i=this;i=i._parent;)if(i===e)return!0;return!1},isAncestor:function(e){return e?e.isDescendant(this):!1},isSibling:function(e){return this._parent===e._parent},isGroupedWith:function(e){for(var i=this._parent;i;){if(i._parent&&/^(Group|Layer|CompoundPath)$/.test(i._class)&&e.isDescendant(i))return!0;i=i._parent}return!1}},p.each(["rotate","scale","shear","skew"],function(e){var i=e==="rotate";this[e]=function(){var n=arguments,o=(i?p:z).read(n),l=z.read(n,0,{readNull:!0});return this.transform(new ce()[e](o,l||this.getPosition(!0)))}},{translate:function(){var e=new ce;return this.transform(e.translate.apply(e,arguments))},transform:function(e,i,n){var o=this._matrix,l=e&&!e.isIdentity(),c=n&&this._canApplyMatrix||this._applyMatrix&&(l||!o.isIdentity()||i&&this._children);if(!l&&!c)return this;if(l){!e.isInvertible()&&o.isInvertible()&&(o._backup=o.getValues()),o.prepend(e,!0);var g=this._style,d=g.getFillColor(!0),m=g.getStrokeColor(!0);d&&d.transform(e),m&&m.transform(e)}if(c&&(c=this._transformContent(o,i,n))){var _=this._pivot;_&&o._transformPoint(_,_,!0),o.reset(!0),n&&this._canApplyMatrix&&(this._applyMatrix=!0)}var w=this._bounds,C=this._position;(l||c)&&this._changed(25);var x=l&&w&&e.decompose();if(x&&x.skewing.isZero()&&x.rotation%90===0){for(var b in w){var P=w[b];if(P.nonscaling)delete w[b];else if(c||!P.internal){var E=P.rect;e._transformBounds(E,E)}}this._bounds=w;var L=w[this._getBoundsCacheKey(this._boundsOptions||{})];L&&(this._position=this._getPositionFromBounds(L.rect))}else l&&C&&this._pivot&&(this._position=e._transformPoint(C,C));return this},_transformContent:function(e,i,n){var o=this._children;if(o){for(var l=0,c=o.length;l<c;l++)o[l].transform(e,i,n);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(z.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(z.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(z.read(arguments))},localToParent:function(){return this._matrix._transformPoint(z.read(arguments))},fitBounds:function(e,i){e=se.read(arguments);var n=this.getBounds(),o=n.height/n.width,l=e.height/e.width,c=(i?o>l:o<l)?e.width/n.width:e.height/n.height,g=new se(new z,new V(n.width*c,n.height*c));g.setCenter(e.getCenter()),this.setBounds(g)}}),{_setStyles:function(e,i,n){var o=this._style,l=this._matrix;if(o.hasFill()&&(e.fillStyle=o.getFillColor().toCanvasStyle(e,l)),o.hasStroke()){e.strokeStyle=o.getStrokeColor().toCanvasStyle(e,l),e.lineWidth=o.getStrokeWidth();var c=o.getStrokeJoin(),g=o.getStrokeCap(),d=o.getMiterLimit();if(c&&(e.lineJoin=c),g&&(e.lineCap=g),d&&(e.miterLimit=d),He.support.nativeDash){var m=o.getDashArray(),_=o.getDashOffset();m&&m.length&&("setLineDash"in e?(e.setLineDash(m),e.lineDashOffset=_):(e.mozDash=m,e.mozDashOffset=_))}}if(o.hasShadow()){var w=i.pixelRatio||1,C=n._shiftless().prepend(new ce().scale(w,w)),x=C.transform(new z(o.getShadowBlur(),0)),b=C.transform(this.getShadowOffset());e.shadowColor=o.getShadowColor().toCanvasStyle(e),e.shadowBlur=x.getLength(),e.shadowOffsetX=b.x,e.shadowOffsetY=b.y}},draw:function(e,i,n){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var o=i.matrices,l=i.viewMatrix,c=this._matrix,g=o[o.length-1].appended(c);if(!!g.isInvertible()){l=l?l.appended(g):g,o.push(g),i.updateMatrix&&(this._globalMatrix=g);var d=this._blendMode,m=ue.clamp(this._opacity,0,1),_=d==="normal",w=ki.nativeModes[d],C=_&&m===1||i.dontStart||i.clip||(w||_&&m<1)&&this._canComposite(),x=i.pixelRatio||1,b,P,E;if(!C){var L=this.getStrokeBounds(l);if(!L.width||!L.height){o.pop();return}E=i.offset,P=i.offset=L.getTopLeft().floor(),b=e,e=ot.getContext(L.getSize().ceil().add(1).multiply(x)),x!==1&&e.scale(x,x)}e.save();var S=n?n.appended(c):this._canScaleStroke&&!this.getStrokeScaling(!0)&&l,I=!C&&i.clipItem,y=!S||I;if(C?(e.globalAlpha=m,w&&(e.globalCompositeOperation=d)):y&&e.translate(-P.x,-P.y),y&&(C?c:l).applyToContext(e),I&&i.clipItem.draw(e,i.extend({clip:!0})),S){e.setTransform(x,0,0,x,0,0);var A=i.offset;A&&e.translate(-A.x,-A.y)}this._draw(e,i,l,S),e.restore(),o.pop(),i.clip&&!i.dontFinish&&e.clip(this.getFillRule()),C||(ki.process(d,e,b,m,P.subtract(E).multiply(x)),ot.release(e),i.offset=E)}}},_isUpdated:function(e){var i=this._parent;if(i instanceof ve)return i._isUpdated(e);var n=this._updateVersion===e;return!n&&i&&i._visible&&i._isUpdated(e)&&(this._updateVersion=e,n=!0),n},_drawSelection:function(e,i,n,o,l){var c=this._selection,g=c&1,d=c&2||g&&this._selectBounds,m=c&4;if(this._drawSelected||(g=!1),(g||d||m)&&this._isUpdated(l)){var _,w=this.getSelectedColor(!0)||(_=this.getLayer())&&_.getSelectedColor(!0),C=i.appended(this.getGlobalMatrix(!0)),x=n/2;if(e.strokeStyle=e.fillStyle=w?w.toCanvasStyle(e):"#009dec",g&&this._drawSelected(e,C,o),m){var b=this.getPosition(!0),P=this._parent,E=P?P.localToGlobal(b):b,L=E.x,S=E.y;e.beginPath(),e.arc(L,S,x,0,Math.PI*2,!0),e.stroke();for(var I=[[0,-1],[1,0],[0,1],[-1,0]],y=x,A=n+1,M=0;M<4;M++){var R=I[M],O=R[0],U=R[1];e.moveTo(L+O*y,S+U*y),e.lineTo(L+O*A,S+U*A),e.stroke()}}if(d){var G=C._transformCorners(this.getInternalBounds());e.beginPath();for(var M=0;M<8;M++)e[M?"lineTo":"moveTo"](G[M],G[++M]);e.closePath(),e.stroke();for(var M=0;M<8;M++)e.fillRect(G[M]-x,G[++M]-x,n,n)}}},_canComposite:function(){return!1}},p.each(["down","drag","up","move"],function(e){this["removeOn"+p.capitalize(e)]=function(){var i={};return i[e]=!0,this.removeOn(i)}},{removeOn:function(e){for(var i in e)if(e[i]){var n="mouse"+i,o=this._project,l=o._removeSets=o._removeSets||{};l[n]=l[n]||{},l[n][this._id]=this}return this}}),{tween:function(e,i,n){n||(n=i,i=e,e=null,n||(n=i,i=null));var o=n&&n.easing,l=n&&n.start,c=n!=null&&(typeof n=="number"?n:n.duration),g=new mr(this,e,i,c,o,l);function d(m){g._handleFrame(m.time*1e3),g.running||this.off("frame",d)}return c&&this.on("frame",d),g},tweenTo:function(e,i){return this.tween(null,e,i)},tweenFrom:function(e,i){return this.tween(e,null,i)}}),Le=Ce.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(i){this._children=[],this._namedChildren={},this._initialize(i)||this.addChildren(Array.isArray(i)?i:arguments)},_changed:function e(i){e.base.call(this,i),i&2050&&(this._clipItem=s)},_getClipItem:function(){var e=this._clipItem;if(e===s){e=null;for(var i=this._children,n=0,o=i.length;n<o;n++)if(i[n]._clipMask){e=i[n];break}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem()},setClipped:function(e){var i=this.getFirstChild();i&&i.setClipMask(e)},_getBounds:function e(i,n){var o=this._getClipItem();return o?o._getCachedBounds(o._matrix.prepended(i),p.set({},n,{stroke:!1})):e.base.call(this,i,n)},_hitTestChildren:function e(i,n,o){var l=this._getClipItem();return(!l||l.contains(i))&&e.base.call(this,i,n,o,l)},_draw:function(e,i){var n=i.clip,o=!n&&this._getClipItem();i=i.extend({clipItem:o,clip:!1}),n?(e.beginPath(),i.dontStart=i.dontFinish=!0):o&&o.draw(e,i.extend({clip:!0}));for(var l=this._children,c=0,g=l.length;c<g;c++){var d=l[c];d!==o&&d.draw(e,i)}}}),$e=Le.extend({_class:"Layer",initialize:function(){Le.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function e(){return this._parent?e.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),Fe=Ce.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(i,n){this._initialize(i,n)},_equals:function(e){return this._type===e._type&&this._size.equals(e._size)&&p.equals(this._radius,e._radius)},copyContent:function(e){this.setType(e._type),this.setSize(e._size),this.setRadius(e._radius)},getType:function(){return this._type},setType:function(e){this._type=e},getShape:"#getType",setShape:"#setType",getSize:function(){var e=this._size;return new ee(e.width,e.height,this,"setSize")},setSize:function(){var e=V.read(arguments);if(!this._size)this._size=e.clone();else if(!this._size.equals(e)){var i=this._type,n=e.width,o=e.height;i==="rectangle"?this._radius.set(V.min(this._radius,e.divide(2).abs())):i==="circle"?(n=o=(n+o)/2,this._radius=n/2):i==="ellipse"&&this._radius._set(n/2,o/2),this._size._set(n,o),this._changed(9)}},getRadius:function(){var e=this._radius;return this._type==="circle"?e:new ee(e.width,e.height,this,"setRadius")},setRadius:function(e){var i=this._type;if(i==="circle"){if(e===this._radius)return;var n=e*2;this._radius=e,this._size._set(n,n)}else if(e=V.read(arguments),!this._radius)this._radius=e.clone();else{if(this._radius.equals(e))return;if(this._radius.set(e),i==="rectangle"){var n=V.max(this._size,e.multiply(2));this._size.set(n)}else i==="ellipse"&&this._size._set(e.width*2,e.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(e){var i=new Ie[p.capitalize(this._type)]({center:new z,size:this._size,radius:this._radius,insert:!1});return i.copyAttributes(this),He.settings.applyMatrix&&i.setApplyMatrix(!0),(e===s||e)&&i.insertAbove(this),i},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(e,i,n,o){var l=this._style,c=l.hasFill(),g=l.hasStroke(),d=i.dontFinish||i.clip,m=!o;if(c||g||d){var _=this._type,w=this._radius,C=_==="circle";if(i.dontStart||e.beginPath(),m&&C)e.arc(0,0,w,0,Math.PI*2,!0);else{var x=C?w:w.width,b=C?w:w.height,P=this._size,E=P.width,L=P.height;if(m&&_==="rectangle"&&x===0&&b===0)e.rect(-E/2,-L/2,E,L);else{var S=E/2,I=L/2,y=1-.5522847498307936,A=x*y,M=b*y,R=[-S,-I+b,-S,-I+M,-S+A,-I,-S+x,-I,S-x,-I,S-A,-I,S,-I+M,S,-I+b,S,I-b,S,I-M,S-A,I,S-x,I,-S+x,I,-S+A,I,-S,I-M,-S,I-b];o&&o.transform(R,R,32),e.moveTo(R[0],R[1]),e.bezierCurveTo(R[2],R[3],R[4],R[5],R[6],R[7]),S!==x&&e.lineTo(R[8],R[9]),e.bezierCurveTo(R[10],R[11],R[12],R[13],R[14],R[15]),I!==b&&e.lineTo(R[16],R[17]),e.bezierCurveTo(R[18],R[19],R[20],R[21],R[22],R[23]),S!==x&&e.lineTo(R[24],R[25]),e.bezierCurveTo(R[26],R[27],R[28],R[29],R[30],R[31])}}e.closePath()}!d&&(c||g)&&(this._setStyles(e,i,n),c&&(e.fill(l.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),g&&e.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(e,i){var n=new se(this._size).setCenter(0,0),o=this._style,l=i.stroke&&o.hasStroke()&&o.getStrokeWidth();return e&&(n=e._transformBounds(n)),l?n.expand(Ie._getStrokePadding(l,this._getStrokeMatrix(e,i))):n}},new function(){function e(n,o,l){var c=n._radius;if(!c.isZero())for(var g=n._size.divide(2),d=1;d<=4;d++){var m=new z(d>1&&d<4?-1:1,d>2?-1:1),_=m.multiply(g),w=_.subtract(m.multiply(c)),C=new se(l?_.add(m.multiply(l)):_,w);if(C.contains(o))return{point:w,quadrant:d}}}function i(n,o,l,c){var g=n.divide(o);return(!c||g.isInQuadrant(c))&&g.subtract(g.normalize()).multiply(o).divide(l).length<=1}return{_contains:function n(o){if(this._type==="rectangle"){var l=e(this,o);return l?o.subtract(l.point).divide(this._radius).getLength()<=1:n.base.call(this,o)}else return o.divide(this.size).getLength()<=.5},_hitTestSelf:function n(o,l,c,g){var d=!1,m=this._style,_=l.stroke&&m.hasStroke(),w=l.fill&&m.hasFill();if(_||w){var C=this._type,x=this._radius,b=_?m.getStrokeWidth()/2:0,P=l._tolerancePadding.add(Ie._getStrokePadding(b,!m.getStrokeScaling()&&g));if(C==="rectangle"){var E=P.multiply(2),L=e(this,o,E);if(L)d=i(o.subtract(L.point),x,P,L.quadrant);else{var S=new se(this._size).setCenter(0,0),I=S.expand(E),y=S.expand(E.negate());d=I._containsPoint(o)&&!y._containsPoint(o)}}else d=i(o,x,P)}return d?new Qe(_?"stroke":"fill",this):n.base.apply(this,arguments)}}},{statics:new function(){function e(i,n,o,l,c){var g=p.create(Fe.prototype);return g._type=i,g._size=o,g._radius=l,g._initialize(p.getNamed(c),n),g}return{Circle:function(){var i=arguments,n=z.readNamed(i,"center"),o=p.readNamed(i,"radius");return e("circle",n,new V(o*2),o,i)},Rectangle:function(){var i=arguments,n=se.readNamed(i,"rectangle"),o=V.min(V.readNamed(i,"radius"),n.getSize(!0).divide(2));return e("rectangle",n.getCenter(!0),n.getSize(!0),o,i)},Ellipse:function(){var i=arguments,n=Fe._readEllipse(i),o=n.radius;return e("ellipse",n.center,o.multiply(2),o,i)},_readEllipse:function(i){var n,o;if(p.hasNamed(i,"radius"))n=z.readNamed(i,"center"),o=V.readNamed(i,"radius");else{var l=se.readNamed(i,"rectangle");n=l.getCenter(!0),o=l.getSize(!0).divide(2)}return{center:n,radius:o}}}}}),tt=Ce.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(i,n){if(!this._initialize(i,n!==s&&z.read(arguments))){var o,l=typeof i,c=l==="string"?T.getElementById(i):l==="object"?i:null;if(c&&c!==Ce.NO_INSERT){if(c.getContext||c.naturalHeight!=null)o=c;else if(c){var g=V.read(arguments);g.isZero()||(o=ot.getCanvas(g))}}o?this.setImage(o):this.setSource(i)}this._size||(this._size=new V,this._loaded=!1)},_equals:function(e){return this.getSource()===e.getSource()},copyContent:function(e){var i=e._image,n=e._canvas;if(i)this._setImage(i);else if(n){var o=ot.getCanvas(e._size);o.getContext("2d").drawImage(n,0,0),this._setImage(o)}this._crossOrigin=e._crossOrigin},getSize:function(){var e=this._size;return new ee(e?e.width:0,e?e.height:0,this,"setSize")},setSize:function(e,i){var n=V.read(arguments);if(n.equals(this._size))i&&this.clear();else if(n.width>0&&n.height>0){var o=!i&&this.getElement();this._setImage(ot.getCanvas(n)),o&&this.getContext(!0).drawImage(o,0,0,n.width,n.height)}else this._canvas&&ot.release(this._canvas),this._size=n.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(e){this.setSize(e,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(e){this.setSize(this.getWidth(),e)},getLoaded:function(){return this._loaded},isEmpty:function(){var e=this._size;return!e||e.width===0&&e.height===0},getResolution:function(){var e=this._matrix,i=new z(0,0).transform(e),n=new z(1,0).transform(e).subtract(i),o=new z(0,1).transform(e).subtract(i);return new V(72/n.getLength(),72/o.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(e){var i=this;function n(o){var l=i.getView(),c=o&&o.type||"load";l&&i.responds(c)&&(He=l._scope,i.emit(c,new Je(o)))}this._setImage(e),this._loaded?setTimeout(n,0):e&&Ft.add(e,{load:function(o){i._setImage(e),n(o)},error:n})},_setImage:function(e){this._canvas&&ot.release(this._canvas),e&&e.getContext?(this._image=null,this._canvas=e,this._loaded=!0):(this._image=e,this._canvas=null,this._loaded=!!(e&&e.src&&e.complete)),this._size=new V(e?e.naturalWidth||e.width:0,e?e.naturalHeight||e.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var e=ot.getContext(this._size);try{this._image&&e.drawImage(this._image,0,0),this._canvas=e.canvas}catch(i){ot.release(e)}}return this._canvas},setCanvas:"#setImage",getContext:function(e){return this._context||(this._context=this.getCanvas().getContext("2d")),e&&(this._image=null,this._changed(1025)),this._context},setContext:function(e){this._context=e},getSource:function(){var e=this._image;return e&&e.src||this.toDataURL()},setSource:function(e){var i=new h.Image,n=this._crossOrigin;n&&(i.crossOrigin=n),e&&(i.src=e),this.setImage(i)},getCrossOrigin:function(){var e=this._image;return e&&e.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(e){this._crossOrigin=e;var i=this._image;i&&(i.crossOrigin=e)},getSmoothing:function(){return this._smoothing},setSmoothing:function(e){this._smoothing=typeof e=="string"?e:e?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var e=se.read(arguments),i=ot.getContext(e.getSize());return i.drawImage(this.getCanvas(),e.x,e.y,e.width,e.height,0,0,e.width,e.height),i.canvas},getSubRaster:function(){var e=se.read(arguments),i=new tt(Ce.NO_INSERT);return i._setImage(this.getSubCanvas(e)),i.translate(e.getCenter().subtract(this.getSize().divide(2))),i._matrix.prepend(this._matrix),i.insertAbove(this),i},toDataURL:function(){var e=this._image,i=e&&e.src;if(/^data:/.test(i))return i;var n=this.getCanvas();return n?n.toDataURL.apply(n,arguments):null},drawImage:function(e){var i=z.read(arguments,1);this.getContext(!0).drawImage(e,i.x,i.y)},getAverageColor:function(e){var i,n;if(e?e instanceof Re?(n=e,i=e.getBounds()):typeof e=="object"&&("width"in e?i=new se(e):"x"in e&&(i=new se(e.x-.5,e.y-.5,1,1))):i=this.getBounds(),!i)return null;var o=32,l=Math.min(i.width,o),c=Math.min(i.height,o),g=tt._sampleContext;g?g.clearRect(0,0,o+1,o+1):g=tt._sampleContext=ot.getContext(new V(o)),g.save();var d=new ce().scale(l/i.width,c/i.height).translate(-i.x,-i.y);d.applyToContext(g),n&&n.draw(g,new p({clip:!0,matrices:[d]})),this._matrix.applyToContext(g);var m=this.getElement(),_=this._size;m&&g.drawImage(m,-_.width/2,-_.height/2),g.restore();for(var w=g.getImageData(.5,.5,Math.ceil(l),Math.ceil(c)).data,C=[0,0,0],x=0,b=0,P=w.length;b<P;b+=4){var E=w[b+3];x+=E,E/=255,C[0]+=w[b]*E,C[1]+=w[b+1]*E,C[2]+=w[b+2]*E}for(var b=0;b<3;b++)C[b]/=x;return x?Ve.read(C):null},getPixel:function(){var e=z.read(arguments),i=this.getContext().getImageData(e.x,e.y,1,1).data;return new Ve("rgb",[i[0]/255,i[1]/255,i[2]/255],i[3]/255)},setPixel:function(){var e=arguments,i=z.read(e),n=Ve.read(e),o=n._convert("rgb"),l=n._alpha,c=this.getContext(!0),g=c.createImageData(1,1),d=g.data;d[0]=o[0]*255,d[1]=o[1]*255,d[2]=o[2]*255,d[3]=l!=null?l*255:255,c.putImageData(g,i.x,i.y)},clear:function(){var e=this._size;this.getContext(!0).clearRect(0,0,e.width+1,e.height+1)},createImageData:function(){var e=V.read(arguments);return this.getContext().createImageData(e.width,e.height)},getImageData:function(){var e=se.read(arguments);return e.isEmpty()&&(e=new se(this._size)),this.getContext().getImageData(e.x,e.y,e.width,e.height)},setImageData:function(e){var i=z.read(arguments,1);this.getContext(!0).putImageData(e,i.x,i.y)},_getBounds:function(e,i){var n=new se(this._size).setCenter(0,0);return e?e._transformBounds(n):n},_hitTestSelf:function(e){if(this._contains(e)){var i=this;return new Qe("pixel",i,{offset:e.add(i._size.divide(2)).round(),color:{get:function(){return i.getPixel(this.offset)}}})}},_draw:function(e,i,n){var o=this.getElement();if(o&&o.width>0&&o.height>0){e.globalAlpha=ue.clamp(this._opacity,0,1),this._setStyles(e,i,n);var l=this._smoothing,c=l==="off";Et.setPrefixed(e,c?"imageSmoothingEnabled":"imageSmoothingQuality",c?!1:l),e.drawImage(o,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),Oe=Ce.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(i,n){this._initialize(i,n!==s&&z.read(arguments,1))||this.setDefinition(i instanceof Ne?i:new Ne(i))},_equals:function(e){return this._definition===e._definition},copyContent:function(e){this.setDefinition(e._definition)},getDefinition:function(){return this._definition},setDefinition:function(e){this._definition=e,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(e,i){var n=this._definition._item;return n._getCachedBounds(n._matrix.prepended(e),i)},_hitTestSelf:function(e,i,n){var o=i.extend({all:!1}),l=this._definition._item._hitTest(e,o,n);return l&&(l.item=this),l},_draw:function(e,i){this._definition._item.draw(e,i)}}),Ne=p.extend({_class:"SymbolDefinition",initialize:function(i,n){this._id=H.get(),this.project=He.project,i&&this.setItem(i,n)},_serialize:function(e,i){return i.add(this,function(){return p.serialize([this._class,this._item],e,!1,i)})},_changed:function(e){e&8&&Ce._clearBoundsCache(this),e&1&&this.project._changed(e)},getItem:function(){return this._item},setItem:function(e,i){e._symbol&&(e=e.clone()),this._item&&(this._item._symbol=null),this._item=e,e.remove(),e.setSelected(!1),i||e.setPosition(new z),e._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(e){return new Oe(this,e)},clone:function(){return new Ne(this._item.clone(!1))},equals:function(e){return e===this||e&&this._item.equals(e._item)||!1}}),Qe=p.extend({_class:"HitResult",initialize:function(i,n,o){this.type=i,this.item=n,o&&this.inject(o)},statics:{getOptions:function(e){var i=e&&p.read(e);return new p({type:null,tolerance:He.settings.hitTolerance,fill:!i,stroke:!i,segments:!i,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},i)}}}),Te=p.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(i,n,o,l,c,g){var d=arguments.length,m,_,w,C;d>0&&(i==null||typeof i=="object"?d===1&&i&&"point"in i?(m=i.point,_=i.handleIn,w=i.handleOut,C=i.selection):(m=i,_=n,w=o,C=l):(m=[i,n],_=o!==s?[o,l]:null,w=c!==s?[c,g]:null)),new It(m,this,"_point"),new It(_,this,"_handleIn"),new It(w,this,"_handleOut"),C&&this.setSelection(C)},_serialize:function(e,i){var n=this._point,o=this._selection,l=o||this.hasHandles()?[n,this._handleIn,this._handleOut]:n;return o&&l.push(o),p.serialize(l,e,!0,i)},_changed:function(e){var i=this._path;if(!!i){var n=i._curves,o=this._index,l;n&&((!e||e===this._point||e===this._handleIn)&&(l=o>0?n[o-1]:i._closed?n[n.length-1]:null)&&l._changed(),(!e||e===this._point||e===this._handleOut)&&(l=n[o])&&l._changed()),i._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(z.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(z.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(z.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var e=this._handleIn,i=this._handleOut;return!e.isZero()&&!i.isZero()&&e.isCollinear(i)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(e){var i=this._selection,n=this._path;this._selection=e=e||0,n&&e!==i&&(n._updateSelection(this,i,e),n._changed(257))},_changeSelection:function(e,i){var n=this._selection;this.setSelection(i?n|e:n&~e)},isSelected:function(){return!!(this._selection&7)},setSelected:function(e){this._changeSelection(7,e)},getIndex:function(){return this._index!==s?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var e=this._path,i=this._index;return e?(i>0&&!e._closed&&i===e._segments.length-1&&i--,e.getCurves()[i]||null):null},getLocation:function(){var e=this.getCurve();return e?new ht(e,this===e._segment1?0:1):null},getNext:function(){var e=this._path&&this._path._segments;return e&&(e[this._index+1]||this._path._closed&&e[0])||null},smooth:function(e,i,n){var o=e||{},l=o.type,c=o.factor,g=this.getPrevious(),d=this.getNext(),m=(g||this)._point,_=this._point,w=(d||this)._point,C=m.getDistance(_),x=_.getDistance(w);if(!l||l==="catmull-rom"){var b=c===s?.5:c,P=Math.pow(C,b),E=P*P,L=Math.pow(x,b),S=L*L;if(!i&&g){var I=2*S+3*L*P+E,y=3*L*(L+P);this.setHandleIn(y!==0?new z((S*m._x+I*_._x-E*w._x)/y-_._x,(S*m._y+I*_._y-E*w._y)/y-_._y):new z)}if(!n&&d){var I=2*E+3*P*L+S,y=3*P*(P+L);this.setHandleOut(y!==0?new z((E*w._x+I*_._x-S*m._x)/y-_._x,(E*w._y+I*_._y-S*m._y)/y-_._y):new z)}}else if(l==="geometric"){if(g&&d){var A=m.subtract(w),M=c===s?.4:c,R=M*C/(C+x);i||this.setHandleIn(A.multiply(R)),n||this.setHandleOut(A.multiply(R-M))}}else throw new Error("Smoothing method '"+l+"' not supported.")},getPrevious:function(){var e=this._path&&this._path._segments;return e&&(e[this._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var e=this._path;return e&&this._index===e._segments.length-1||!1},reverse:function(){var e=this._handleIn,i=this._handleOut,n=e.clone();e.set(i),i.set(n)},reversed:function(){return new Te(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new Te(this._point,this._handleIn,this._handleOut)},equals:function(e){return e===this||e&&this._class===e._class&&this._point.equals(e._point)&&this._handleIn.equals(e._handleIn)&&this._handleOut.equals(e._handleOut)||!1},toString:function(){var e=["point: "+this._point];return this._handleIn.isZero()||e.push("handleIn: "+this._handleIn),this._handleOut.isZero()||e.push("handleOut: "+this._handleOut),"{ "+e.join(", ")+" }"},transform:function(e){this._transformCoordinates(e,new Array(6),!0),this._changed()},interpolate:function(e,i,n){var o=1-n,l=n,c=e._point,g=i._point,d=e._handleIn,m=i._handleIn,_=i._handleOut,w=e._handleOut;this._point._set(o*c._x+l*g._x,o*c._y+l*g._y,!0),this._handleIn._set(o*d._x+l*m._x,o*d._y+l*m._y,!0),this._handleOut._set(o*w._x+l*_._x,o*w._y+l*_._y,!0),this._changed()},_transformCoordinates:function(e,i,n){var o=this._point,l=!n||!this._handleIn.isZero()?this._handleIn:null,c=!n||!this._handleOut.isZero()?this._handleOut:null,g=o._x,d=o._y,m=2;return i[0]=g,i[1]=d,l&&(i[m++]=l._x+g,i[m++]=l._y+d),c&&(i[m++]=c._x+g,i[m++]=c._y+d),e&&(e._transformCoordinates(i,i,m/2),g=i[0],d=i[1],n?(o._x=g,o._y=d,m=2,l&&(l._x=i[m++]-g,l._y=i[m++]-d),c&&(c._x=i[m++]-g,c._y=i[m++]-d)):(l||(i[m++]=g,i[m++]=d),c||(i[m++]=g,i[m++]=d))),i}}),It=z.extend({initialize:function(i,n,o){var l,c,g;if(!i)l=c=0;else if((l=i[0])!==s)c=i[1];else{var d=i;(l=d.x)===s&&(d=z.read(arguments),l=d.x),c=d.y,g=d.selected}this._x=l,this._y=c,this._owner=n,n[o]=this,g&&this.setSelected(!0)},_set:function(e,i){return this._x=e,this._y=i,this._owner._changed(this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner._changed(this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner._changed(this)},isZero:function(){var e=ue.isZero;return e(this._x)&&e(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){var e=this._owner;return this===e._point?1:this===e._handleIn?2:this===e._handleOut?4:0}}),_e=p.extend({_class:"Curve",beans:!0,initialize:function(i,n,o,l,c,g,d,m){var _=arguments.length,w,C,x,b,P,E;_===3?(this._path=i,w=n,C=o):_?_===1?"segment1"in i?(w=new Te(i.segment1),C=new Te(i.segment2)):"point1"in i?(x=i.point1,P=i.handle1,E=i.handle2,b=i.point2):Array.isArray(i)&&(x=[i[0],i[1]],b=[i[6],i[7]],P=[i[2]-i[0],i[3]-i[1]],E=[i[4]-i[6],i[5]-i[7]]):_===2?(w=new Te(i),C=new Te(n)):_===4?(x=i,P=n,E=o,b=l):_===8&&(x=[i,n],b=[d,m],P=[o-i,l-n],E=[c-d,g-m]):(w=new Te,C=new Te),this._segment1=w||new Te(x,null,P),this._segment2=C||new Te(b,E,null)},_serialize:function(e,i){return p.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],e,!0,i)},_changed:function(){this._length=this._bounds=s},clone:function(){return new _e(this._segment1,this._segment2)},toString:function(){var e=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||e.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||e.push("handle2: "+this._segment2._handleIn),e.push("point2: "+this._segment2._point),"{ "+e.join(", ")+" }"},classify:function(){return _e.classify(this.getValues())},remove:function(){var e=!1;if(this._path){var i=this._segment2,n=i._handleOut;e=i.remove(),e&&this._segment1._handleOut.set(n)}return e},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(z.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(z.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(z.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(z.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index+1]||this._path._closed&&e[0])||null},getPrevious:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var e=this._path;return e&&this._segment1._index===e._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(e){this.getPoint1().setSelected(e),this.getHandle1().setSelected(e),this.getHandle2().setSelected(e),this.getPoint2().setSelected(e)},getValues:function(e){return _e.getValues(this._segment1,this._segment2,e)},getPoints:function(){for(var e=this.getValues(),i=[],n=0;n<8;n+=2)i.push(new z(e[n],e[n+1]));return i}},{getLength:function(){return this._length==null&&(this._length=_e.getLength(this.getValues(),0,1)),this._length},getArea:function(){return _e.getArea(this.getValues())},getLine:function(){return new me(this._segment1._point,this._segment2._point)},getPart:function(e,i){return new _e(_e.getPart(this.getValues(),e,i))},getPartLength:function(e,i){return _e.getLength(this.getValues(),e,i)},divideAt:function(e){return this.divideAtTime(e&&e.curve===this?e.time:this.getTimeAt(e))},divideAtTime:function(e,i){var n=1e-8,o=1-n,l=null;if(e>=n&&e<=o){var c=_e.subdivide(this.getValues(),e),g=c[0],d=c[1],m=i||this.hasHandles(),_=this._segment1,w=this._segment2,C=this._path;m&&(_._handleOut._set(g[2]-g[0],g[3]-g[1]),w._handleIn._set(d[4]-d[6],d[5]-d[7]));var x=g[6],b=g[7],P=new Te(new z(x,b),m&&new z(g[4]-x,g[5]-b),m&&new z(d[2]-x,d[3]-b));C?(C.insert(_._index+1,P),l=this.getNext()):(this._segment2=P,this._changed(),l=new _e(P,w))}return l},splitAt:function(e){var i=this._path;return i?i.splitAt(e):null},splitAtTime:function(e){return this.splitAt(this.getLocationAtTime(e))},divide:function(e,i){return this.divideAtTime(e===s?.5:i?e:this.getTimeAt(e))},split:function(e,i){return this.splitAtTime(e===s?.5:i?e:this.getTimeAt(e))},reversed:function(){return new _e(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(e,i,n,o){var l=e._point,c=e._handleOut,g=i._handleIn,d=i._point,m=l.x,_=l.y,w=d.x,C=d.y,x=o?[m,_,m,_,w,C,w,C]:[m,_,m+c._x,_+c._y,w+g._x,C+g._y,w,C];return n&&n._transformCoordinates(x,x,4),x},subdivide:function(e,i){var n=e[0],o=e[1],l=e[2],c=e[3],g=e[4],d=e[5],m=e[6],_=e[7];i===s&&(i=.5);var w=1-i,C=w*n+i*l,x=w*o+i*c,b=w*l+i*g,P=w*c+i*d,E=w*g+i*m,L=w*d+i*_,S=w*C+i*b,I=w*x+i*P,y=w*b+i*E,A=w*P+i*L,M=w*S+i*y,R=w*I+i*A;return[[n,o,C,x,S,I,M,R],[M,R,y,A,E,L,m,_]]},getMonoCurves:function(e,i){var n=[],o=i?0:1,l=e[o+0],c=e[o+2],g=e[o+4],d=e[o+6];if(l>=c==c>=g&&c>=g==g>=d||_e.isStraight(e))n.push(e);else{var m=3*(c-g)-l+d,_=2*(l+g)-4*c,w=c-l,C=1e-8,x=1-C,b=[],P=ue.solveQuadratic(m,_,w,b,C,x);if(!P)n.push(e);else{b.sort();var E=b[0],L=_e.subdivide(e,E);n.push(L[0]),P>1&&(E=(b[1]-E)/(1-E),L=_e.subdivide(L[1],E),n.push(L[0])),n.push(L[1])}}return n},solveCubic:function(e,i,n,o,l,c){var g=e[i],d=e[i+2],m=e[i+4],_=e[i+6],w=0;if(!(g<n&&_<n&&d<n&&m<n||g>n&&_>n&&d>n&&m>n)){var C=3*(d-g),x=3*(m-d)-C,b=_-g-C-x;w=ue.solveCubic(b,x,C,g-n,o,l,c)}return w},getTimeOf:function(e,i){var n=new z(e[0],e[1]),o=new z(e[6],e[7]),l=1e-12,c=1e-7,g=i.isClose(n,l)?0:i.isClose(o,l)?1:null;if(g===null)for(var d=[i.x,i.y],m=[],_=0;_<2;_++)for(var w=_e.solveCubic(e,_,d[_],m,0,1),C=0;C<w;C++){var x=m[C];if(i.isClose(_e.getPoint(e,x),c))return x}return i.isClose(n,c)?0:i.isClose(o,c)?1:null},getNearestTime:function(e,i){if(_e.isStraight(e)){var n=e[0],o=e[1],l=e[6],c=e[7],g=l-n,d=c-o,m=g*g+d*d;if(m===0)return 0;var _=((i.x-n)*g+(i.y-o)*d)/m;return _<1e-12?0:_>.999999999999?1:_e.getTimeOf(e,new z(n+_*g,o+_*d))}var w=100,C=1/0,x=0;function b(L){if(L>=0&&L<=1){var S=i.getDistance(_e.getPoint(e,L),!0);if(S<C)return C=S,x=L,!0}}for(var P=0;P<=w;P++)b(P/w);for(var E=1/(w*2);E>1e-8;)!b(x-E)&&!b(x+E)&&(E/=2);return x},getPart:function(e,i,n){var o=i>n;if(o){var l=i;i=n,n=l}return i>0&&(e=_e.subdivide(e,i)[1]),n<1&&(e=_e.subdivide(e,(n-i)/(1-i))[0]),o?[e[6],e[7],e[4],e[5],e[2],e[3],e[0],e[1]]:e},isFlatEnough:function(e,i){var n=e[0],o=e[1],l=e[2],c=e[3],g=e[4],d=e[5],m=e[6],_=e[7],w=3*l-2*n-m,C=3*c-2*o-_,x=3*g-2*m-n,b=3*d-2*_-o;return Math.max(w*w,x*x)+Math.max(C*C,b*b)<=16*i*i},getArea:function(e){var i=e[0],n=e[1],o=e[2],l=e[3],c=e[4],g=e[5],d=e[6],m=e[7];return 3*((m-n)*(o+c)-(d-i)*(l+g)+l*(i-c)-o*(n-g)+m*(c+i/3)-d*(g+n/3))/20},getBounds:function(e){for(var i=e.slice(0,2),n=i.slice(),o=[0,0],l=0;l<2;l++)_e._addBounds(e[l],e[l+2],e[l+4],e[l+6],l,0,i,n,o);return new se(i[0],i[1],n[0]-i[0],n[1]-i[1])},_addBounds:function(e,i,n,o,l,c,g,d,m){function _(M,R){var O=M-R,U=M+R;O<g[l]&&(g[l]=O),U>d[l]&&(d[l]=U)}c/=2;var w=g[l]+c,C=d[l]-c;if(e<w||i<w||n<w||o<w||e>C||i>C||n>C||o>C)if(i<e!=i<o&&n<e!=n<o)_(e,0),_(o,0);else{var x=3*(i-n)-e+o,b=2*(e+n)-4*i,P=i-e,E=ue.solveQuadratic(x,b,P,m),L=1e-8,S=1-L;_(o,0);for(var I=0;I<E;I++){var y=m[I],A=1-y;L<=y&&y<=S&&_(A*A*A*e+3*A*A*y*i+3*A*y*y*n+y*y*y*o,c)}}}}},p.each(["getBounds","getStrokeBounds","getHandleBounds"],function(e){this[e]=function(){this._bounds||(this._bounds={});var i=this._bounds[e];return i||(i=this._bounds[e]=Ie[e]([this._segment1,this._segment2],!1,this._path)),i.clone()}},{}),p.each({isStraight:function(e,i,n,o){if(i.isZero()&&n.isZero())return!0;var l=o.subtract(e);if(l.isZero())return!1;if(l.isCollinear(i)&&l.isCollinear(n)){var c=new me(e,o),g=1e-7;if(c.getDistance(e.add(i))<g&&c.getDistance(o.add(n))<g){var d=l.dot(l),m=l.dot(i)/d,_=l.dot(n)/d;return m>=0&&m<=1&&_<=0&&_>=-1}}return!1},isLinear:function(e,i,n,o){var l=o.subtract(e).divide(3);return i.equals(l)&&n.negate().equals(l)}},function(e,i){this[i]=function(n){var o=this._segment1,l=this._segment2;return e(o._point,o._handleOut,l._handleIn,l._point,n)},this.statics[i]=function(n,o){var l=n[0],c=n[1],g=n[6],d=n[7];return e(new z(l,c),new z(n[2]-l,n[3]-c),new z(n[4]-g,n[5]-d),new z(g,d),o)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(e){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(e||0)},isCollinear:function(e){return e&&this.isStraight()&&e.isStraight()&&this.getLine().isCollinear(e.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(e,i){return this.getLocationAtTime(i?e:this.getTimeAt(e))},getLocationAtTime:function(e){return e!=null&&e>=0&&e<=1?new ht(this,e):null},getTimeAt:function(e,i){return _e.getTimeAt(this.getValues(),e,i)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var e=z.read(arguments);return e.isZero()?[]:_e.getTimesWithTangent(this.getValues(),e)},getOffsetAtTime:function(e){return this.getPartLength(0,e)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(z.read(arguments)))},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getTimeOf:function(){return _e.getTimeOf(this.getValues(),z.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var e=z.read(arguments),i=this.getValues(),n=_e.getNearestTime(i,e),o=_e.getPoint(i,n);return new ht(this,n,o,null,e.getDistance(o))},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()}},new function(){var e=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return p.each(e,function(i){this[i+"At"]=function(n,o){var l=this.getValues();return _e[i](l,o?n:_e.getTimeAt(l,n))},this[i+"AtTime"]=function(n){return _e[i](this.getValues(),n)}},{statics:{_evaluateMethods:e}})},new function(){function e(o){var l=o[0],c=o[1],g=o[2],d=o[3],m=o[4],_=o[5],w=o[6],C=o[7],x=9*(g-m)+3*(w-l),b=6*(l+m)-12*g,P=3*(g-l),E=9*(d-_)+3*(C-c),L=6*(c+_)-12*d,S=3*(d-c);return function(I){var y=(x*I+b)*I+P,A=(E*I+L)*I+S;return Math.sqrt(y*y+A*A)}}function i(o,l){return Math.max(2,Math.min(16,Math.ceil(Math.abs(l-o)*32)))}function n(o,l,c,g){if(l==null||l<0||l>1)return null;var d=o[0],m=o[1],_=o[2],w=o[3],C=o[4],x=o[5],b=o[6],P=o[7],E=ue.isZero;E(_-d)&&E(w-m)&&(_=d,w=m),E(C-b)&&E(x-P)&&(C=b,x=P);var L=3*(_-d),S=3*(C-_)-L,I=b-d-L-S,y=3*(w-m),A=3*(x-w)-y,M=P-m-y-A,R,O;if(c===0)R=l===0?d:l===1?b:((I*l+S)*l+L)*l+d,O=l===0?m:l===1?P:((M*l+A)*l+y)*l+m;else{var U=1e-8,G=1-U;if(l<U?(R=L,O=y):l>G?(R=3*(b-C),O=3*(P-x)):(R=(3*I*l+2*S)*l+L,O=(3*M*l+2*A)*l+y),g){R===0&&O===0&&(l<U||l>G)&&(R=C-_,O=x-w);var Y=Math.sqrt(R*R+O*O);Y&&(R/=Y,O/=Y)}if(c===3){var C=6*I*l+2*S,x=6*M*l+2*A,J=Math.pow(R*R+O*O,3/2);R=J!==0?(R*x-O*C)/J:0,O=0}}return c===2?new z(O,-R):new z(R,O)}return{statics:{classify:function(o){var l=o[0],c=o[1],g=o[2],d=o[3],m=o[4],_=o[5],w=o[6],C=o[7],x=l*(C-_)+c*(m-w)+w*_-C*m,b=g*(c-C)+d*(w-l)+l*C-c*w,P=m*(d-c)+_*(l-g)+g*c-d*l,E=3*P,L=E-b,S=L-b+x,I=Math.sqrt(S*S+L*L+E*E),y=I!==0?1/I:0,A=ue.isZero,M="serpentine";S*=y,L*=y,E*=y;function R(Y,J,W){var Q=J!==s,ie=Q&&J>0&&J<1,ae=Q&&W>0&&W<1;return Q&&(!(ie||ae)||Y==="loop"&&!(ie&&ae))&&(Y="arch",ie=ae=!1),{type:Y,roots:ie||ae?ie&&ae?J<W?[J,W]:[W,J]:[ie?J:W]:null}}if(A(S))return A(L)?R(A(E)?"line":"quadratic"):R(M,E/(3*L));var O=3*L*L-4*S*E;if(A(O))return R("cusp",L/(2*S));var U=O>0?Math.sqrt(O/3):Math.sqrt(-O),G=2*S;return R(O>0?M:"loop",(L+U)/G,(L-U)/G)},getLength:function(o,l,c,g){if(l===s&&(l=0),c===s&&(c=1),_e.isStraight(o)){var d=o;c<1&&(d=_e.subdivide(d,c)[0],l/=c),l>0&&(d=_e.subdivide(d,l)[1]);var m=d[6]-d[0],_=d[7]-d[1];return Math.sqrt(m*m+_*_)}return ue.integrate(g||e(o),l,c,i(l,c))},getTimeAt:function(o,l,c){if(c===s&&(c=l<0?1:0),l===0)return c;var g=Math.abs,d=1e-12,m=l>0,_=m?c:0,w=m?1:c,C=e(o),x=_e.getLength(o,_,w,C),b=g(l)-x;if(g(b)<d)return m?w:_;if(b>d)return null;var P=l/x,E=0;function L(S){return E+=ue.integrate(C,c,S,i(c,S)),c=S,E-l}return ue.findRoot(L,C,c+P,_,w,32,1e-12)},getPoint:function(o,l){return n(o,l,0,!1)},getTangent:function(o,l){return n(o,l,1,!0)},getWeightedTangent:function(o,l){return n(o,l,1,!1)},getNormal:function(o,l){return n(o,l,2,!0)},getWeightedNormal:function(o,l){return n(o,l,2,!1)},getCurvature:function(o,l){return n(o,l,3,!1).x},getPeaks:function(o){var l=o[0],c=o[1],g=o[2],d=o[3],m=o[4],_=o[5],w=o[6],C=o[7],x=-l+3*g-3*m+w,b=3*l-6*g+3*m,P=-3*l+3*g,E=-c+3*d-3*_+C,L=3*c-6*d+3*_,S=-3*c+3*d,I=1e-8,y=1-I,A=[];return ue.solveCubic(9*(x*x+E*E),9*(x*b+L*E),2*(b*b+L*L)+3*(P*x+S*E),P*b+L*S,A,I,y),A.sort()}}}},new function(){function e(b,P,E,L,S,I,y){var A=!y&&E.getPrevious()===S,M=!y&&E!==S&&E.getNext()===S,R=1e-8,O=1-R;if(L!==null&&L>=(A?R:0)&&L<=(M?O:1)&&I!==null&&I>=(M?R:0)&&I<=(A?O:1)){var U=new ht(E,L,null,y),G=new ht(S,I,null,y);U._intersection=G,G._intersection=U,(!P||P(U))&&ht.insert(b,U,!0)}}function i(b,P,E,L,S,I,y,A,M,R,O,U,G){if(++M>=4096||++A>=40)return M;var Y=1e-9,J=P[0],W=P[1],Q=P[6],ie=P[7],ae=me.getSignedDistance,oe=ae(J,W,Q,ie,P[2],P[3]),ge=ae(J,W,Q,ie,P[4],P[5]),Ae=oe*ge>0?3/4:4/9,Me=Ae*Math.min(0,oe,ge),De=Ae*Math.max(0,oe,ge),Ye=ae(J,W,Q,ie,b[0],b[1]),we=ae(J,W,Q,ie,b[2],b[3]),Se=ae(J,W,Q,ie,b[4],b[5]),qe=ae(J,W,Q,ie,b[6],b[7]),Xe=n(Ye,we,Se,qe),je=Xe[0],nt=Xe[1],st,ut;if(oe===0&&ge===0&&Ye===0&&we===0&&Se===0&&qe===0||(st=o(je,nt,Me,De))==null||(ut=o(je.reverse(),nt.reverse(),Me,De))==null)return M;var bt=R+(O-R)*st,pt=R+(O-R)*ut;if(Math.max(G-U,pt-bt)<Y){var ui=(bt+pt)/2,ri=(U+G)/2;e(S,I,y?L:E,y?ri:ui,y?E:L,y?ui:ri)}else{b=_e.getPart(b,st,ut);var pi=G-U;if(ut-st>.8)if(pt-bt>pi){var Qt=_e.subdivide(b,.5),ui=(bt+pt)/2;M=i(P,Qt[0],L,E,S,I,!y,A,M,U,G,bt,ui),M=i(P,Qt[1],L,E,S,I,!y,A,M,U,G,ui,pt)}else{var Qt=_e.subdivide(P,.5),ri=(U+G)/2;M=i(Qt[0],b,L,E,S,I,!y,A,M,U,ri,bt,pt),M=i(Qt[1],b,L,E,S,I,!y,A,M,ri,G,bt,pt)}else pi===0||pi>=Y?M=i(P,b,L,E,S,I,!y,A,M,U,G,bt,pt):M=i(b,P,E,L,S,I,y,A,M,bt,pt,U,G)}return M}function n(b,P,E,L){var S=[0,b],I=[1/3,P],y=[2/3,E],A=[1,L],M=P-(2*b+L)/3,R=E-(b+2*L)/3,O;if(M*R<0)O=[[S,I,A],[S,y,A]];else{var U=M/R;O=[U>=2?[S,I,A]:U<=.5?[S,y,A]:[S,I,y,A],[S,A]]}return(M||R)<0?O.reverse():O}function o(b,P,E,L){return b[0][1]<E?l(b,!0,E):P[0][1]>L?l(P,!1,L):b[0][0]}function l(b,P,E){for(var L=b[0][0],S=b[0][1],I=1,y=b.length;I<y;I++){var A=b[I][0],M=b[I][1];if(P?M>=E:M<=E)return M===E?A:L+(E-S)*(A-L)/(M-S);L=A,S=M}return null}function c(b,P,E,L,S){var I=ue.isZero;if(I(L)&&I(S)){var y=_e.getTimeOf(b,new z(P,E));return y===null?[]:[y]}for(var A=Math.atan2(-S,L),M=Math.sin(A),R=Math.cos(A),O=[],U=[],G=0;G<8;G+=2){var Y=b[G]-P,J=b[G+1]-E;O.push(Y*R-J*M,Y*M+J*R)}return _e.solveCubic(O,1,0,U,0,1),U}function g(b,P,E,L,S,I,y){for(var A=P[0],M=P[1],R=P[6],O=P[7],U=c(b,A,M,R-A,O-M),G=0,Y=U.length;G<Y;G++){var J=U[G],W=_e.getPoint(b,J),Q=_e.getTimeOf(P,W);Q!==null&&e(S,I,y?L:E,y?Q:J,y?E:L,y?J:Q)}}function d(b,P,E,L,S,I){var y=me.intersect(b[0],b[1],b[6],b[7],P[0],P[1],P[6],P[7]);y&&e(S,I,E,_e.getTimeOf(b,y),L,_e.getTimeOf(P,y))}function m(b,P,E,L,S,I){var y=1e-12,A=Math.min,M=Math.max;if(M(b[0],b[2],b[4],b[6])+y>A(P[0],P[2],P[4],P[6])&&A(b[0],b[2],b[4],b[6])-y<M(P[0],P[2],P[4],P[6])&&M(b[1],b[3],b[5],b[7])+y>A(P[1],P[3],P[5],P[7])&&A(b[1],b[3],b[5],b[7])-y<M(P[1],P[3],P[5],P[7])){var R=C(b,P);if(R)for(var O=0;O<2;O++){var U=R[O];e(S,I,E,U[0],L,U[1],!0)}else{var G=_e.isStraight(b),Y=_e.isStraight(P),J=G&&Y,W=G&&!Y,Q=S.length;if((J?d:G||Y?g:i)(W?P:b,W?b:P,W?L:E,W?E:L,S,I,W,0,0,0,1,0,1),!J||S.length===Q)for(var O=0;O<4;O++){var ie=O>>1,ae=O&1,oe=ie*6,ge=ae*6,Ae=new z(b[oe],b[oe+1]),Me=new z(P[ge],P[ge+1]);Ae.isClose(Me,y)&&e(S,I,E,ie,L,ae)}}}return S}function _(b,P,E,L){var S=_e.classify(b);if(S.type==="loop"){var I=S.roots;e(E,L,P,I[0],P,I[1])}return E}function w(b,P,E,L,S,I){var y=1e-7,A=!P;A&&(P=b);for(var M=b.length,R=P.length,O=new Array(M),U=A?O:new Array(R),G=[],Y=0;Y<M;Y++)O[Y]=b[Y].getValues(L);if(!A)for(var Y=0;Y<R;Y++)U[Y]=P[Y].getValues(S);for(var J=te.findCurveBoundsCollisions(O,U,y),W=0;W<M;W++){var Q=b[W],ie=O[W];A&&_(ie,Q,G,E);var ae=J[W];if(ae)for(var oe=0;oe<ae.length;oe++){if(I&&G.length)return G;var ge=ae[oe];if(!A||ge>W){var Ae=P[ge],Me=U[ge];m(ie,Me,Q,Ae,G,E)}}}return G}function C(b,P){function E(qe){var Xe=qe[6]-qe[0],je=qe[7]-qe[1];return Xe*Xe+je*je}var L=Math.abs,S=me.getDistance,I=1e-8,y=1e-7,A=_e.isStraight(b),M=_e.isStraight(P),R=A&&M,O=E(b)<E(P),U=O?P:b,G=O?b:P,Y=U[0],J=U[1],W=U[6]-Y,Q=U[7]-J;if(S(Y,J,W,Q,G[0],G[1],!0)<y&&S(Y,J,W,Q,G[6],G[7],!0)<y)!R&&S(Y,J,W,Q,U[2],U[3],!0)<y&&S(Y,J,W,Q,U[4],U[5],!0)<y&&S(Y,J,W,Q,G[2],G[3],!0)<y&&S(Y,J,W,Q,G[4],G[5],!0)<y&&(A=M=R=!0);else if(R)return null;if(A^M)return null;for(var ie=[b,P],ae=[],oe=0;oe<4&&ae.length<2;oe++){var ge=oe&1,Ae=ge^1,Me=oe>>1,De=_e.getTimeOf(ie[ge],new z(ie[Ae][Me?6:0],ie[Ae][Me?7:1]));if(De!=null){var Ye=ge?[Me,De]:[De,Me];(!ae.length||L(Ye[0]-ae[0][0])>I&&L(Ye[1]-ae[0][1])>I)&&ae.push(Ye)}if(oe>2&&!ae.length)break}if(ae.length!==2)ae=null;else if(!R){var we=_e.getPart(b,ae[0][0],ae[1][0]),Se=_e.getPart(P,ae[0][1],ae[1][1]);(L(Se[2]-we[2])>y||L(Se[3]-we[3])>y||L(Se[4]-we[4])>y||L(Se[5]-we[5])>y)&&(ae=null)}return ae}function x(b,P){var E=b[0],L=b[1],S=b[2],I=b[3],y=b[4],A=b[5],M=b[6],R=b[7],O=P.normalize(),U=O.x,G=O.y,Y=3*M-9*y+9*S-3*E,J=3*R-9*A+9*I-3*L,W=6*y-12*S+6*E,Q=6*A-12*I+6*L,ie=3*S-3*E,ae=3*I-3*L,oe=2*Y*G-2*J*U,ge=[];if(Math.abs(oe)<ue.CURVETIME_EPSILON){var Ae=Y*ae-J*ie,oe=Y*Q-J*W;if(oe!=0){var Me=-Ae/oe;Me>=0&&Me<=1&&ge.push(Me)}}else{var De=(W*W-4*Y*ie)*G*G+(-2*W*Q+4*J*ie+4*Y*ae)*U*G+(Q*Q-4*J*ae)*U*U,Ye=W*G-Q*U;if(De>=0&&oe!=0){var we=Math.sqrt(De),Se=-(Ye+we)/oe,qe=(-Ye+we)/oe;Se>=0&&Se<=1&&ge.push(Se),qe>=0&&qe<=1&&ge.push(qe)}}return ge}return{getIntersections:function(b){var P=this.getValues(),E=b&&b!==this&&b.getValues();return E?m(P,E,this,b,[]):_(P,this,[])},statics:{getOverlaps:C,getIntersections:w,getCurveLineIntersections:c,getTimesWithTangent:x}}}),ht=p.extend({_class:"CurveLocation",initialize:function(i,n,o,l,c){if(n>=.99999999){var g=i.getNext();g&&(n=0,i=g)}this._setCurve(i),this._time=n,this._point=o||i.getPointAtTime(n),this._overlap=l,this._distance=c,this._intersection=this._next=this._previous=null},_setPath:function(e){this._path=e,this._version=e?e._version:0},_setCurve:function(e){this._setPath(e._path),this._curve=e,this._segment=null,this._segment1=e._segment1,this._segment2=e._segment2},_setSegment:function(e){var i=e.getCurve();i?this._setCurve(i):(this._setPath(e._path),this._segment1=e,this._segment2=null),this._segment=e,this._time=e===this._segment1?0:1,this._point=e._point.clone()},getSegment:function(){var e=this._segment;if(!e){var i=this.getCurve(),n=this.getTime();n===0?e=i._segment1:n===1?e=i._segment2:n!=null&&(e=i.getPartLength(0,n)<i.getPartLength(n,1)?i._segment1:i._segment2),this._segment=e}return e},getCurve:function(){var e=this._path,i=this;e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function n(o){var l=o&&o.getCurve();if(l&&(i._time=l.getTimeOf(i._point))!=null)return i._setCurve(l),l}return this._curve||n(this._segment)||n(this._segment1)||n(this._segment2.getPrevious())},getPath:function(){var e=this.getCurve();return e&&e._path},getIndex:function(){var e=this.getCurve();return e&&e.getIndex()},getTime:function(){var e=this.getCurve(),i=this._time;return e&&i==null?this._time=e.getTimeOf(this._point):i},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var e=this._offset;if(e==null){e=0;var i=this.getPath(),n=this.getIndex();if(i&&n!=null)for(var o=i.getCurves(),l=0;l<n;l++)e+=o[l].getLength();this._offset=e+=this.getCurveOffset()}return e},getCurveOffset:function(){var e=this._curveOffset;if(e==null){var i=this.getCurve(),n=this.getTime();this._curveOffset=e=n!=null&&i&&i.getPartLength(0,n)}return e},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var e=this.getCurve(),i=e&&e.divideAtTime(this.getTime());return i&&this._setSegment(i._segment1),i},split:function(){var e=this.getCurve(),i=e._path,n=e&&e.splitAtTime(this.getTime());return n&&this._setSegment(i.getLastSegment()),n},equals:function(e,i){var n=this===e;if(!n&&e instanceof ht){var o=this.getCurve(),l=e.getCurve(),c=o._path,g=l._path;if(c===g){var d=Math.abs,m=1e-7,_=d(this.getOffset()-e.getOffset()),w=!i&&this._intersection,C=!i&&e._intersection;n=(_<m||c&&d(c.getLength()-_)<m)&&(!w&&!C||w&&C&&w.equals(C,!0))}}return n},toString:function(){var e=[],i=this.getPoint(),n=ne.instance;i&&e.push("point: "+i);var o=this.getIndex();o!=null&&e.push("index: "+o);var l=this.getTime();return l!=null&&e.push("time: "+n.number(l)),this._distance!=null&&e.push("distance: "+n.number(this._distance)),"{ "+e.join(", ")+" }"},isTouching:function(){var e=this._intersection;if(e&&this.getTangent().isCollinear(e.getTangent())){var i=this.getCurve(),n=e.getCurve();return!(i.isStraight()&&n.isStraight()&&i.getLine().intersect(n.getLine()))}return!1},isCrossing:function(){var e=this._intersection;if(!e)return!1;var i=this.getTime(),n=e.getTime(),o=1e-8,l=1-o,c=i>=o&&i<=l,g=n>=o&&n<=l;if(c&&g)return!this.isTouching();var d=this.getCurve(),m=d&&i<o?d.getPrevious():d,_=e.getCurve(),w=_&&n<o?_.getPrevious():_;if(i>l&&(d=d.getNext()),n>l&&(_=_.getNext()),!m||!d||!w||!_)return!1;var C=[];function x(U,G){var Y=U.getValues(),J=_e.classify(Y).roots||_e.getPeaks(Y),W=J.length,Q=_e.getLength(Y,G&&W?J[W-1]:0,!G&&W?J[0]:1);C.push(W?Q:Q/32)}function b(U,G,Y){return G<Y?U>G&&U<Y:U>G||U<Y}c||(x(m,!0),x(d,!1)),g||(x(w,!0),x(_,!1));var P=this.getPoint(),E=Math.min.apply(Math,C),L=c?d.getTangentAtTime(i):d.getPointAt(E).subtract(P),S=c?L.negate():m.getPointAt(-E).subtract(P),I=g?_.getTangentAtTime(n):_.getPointAt(E).subtract(P),y=g?I.negate():w.getPointAt(-E).subtract(P),A=S.getAngle(),M=L.getAngle(),R=y.getAngle(),O=I.getAngle();return!!(c?b(A,R,O)^b(M,R,O)&&b(A,O,R)^b(M,O,R):b(R,A,M)^b(O,A,M)&&b(R,M,A)^b(O,M,A))},hasOverlap:function(){return!!this._overlap}},p.each(_e._evaluateMethods,function(e){var i=e+"At";this[e]=function(){var n=this.getCurve(),o=this.getTime();return o!=null&&n&&n[i](o,!0)}},{preserve:!0}),new function(){function e(i,n,o){var l=i.length,c=0,g=l-1;function d(P,E){for(var L=P+E;L>=-1&&L<=l;L+=E){var S=i[(L%l+l)%l];if(!n.getPoint().isClose(S.getPoint(),1e-7))break;if(n.equals(S))return S}return null}for(;c<=g;){var m=c+g>>>1,_=i[m],w;if(o&&(w=n.equals(_)?_:d(m,-1)||d(m,1)))return n._overlap&&(w._overlap=w._intersection._overlap=!0),w;var C=n.getPath(),x=_.getPath(),b=C!==x?C._id-x._id:n.getIndex()+n.getTime()-(_.getIndex()+_.getTime());b<0?g=m-1:c=m+1}return i.splice(c,0,n),n}return{statics:{insert:e,expand:function(i){for(var n=i.slice(),o=i.length-1;o>=0;o--)e(n,i[o]._intersection,!1);return n}}}}),Re=Ce.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(e){var i,n,o;if(p.isPlainObject(e)?(n=e.segments,i=e.pathData):Array.isArray(e)?n=e:typeof e=="string"&&(i=e),n){var l=n[0];o=l&&Array.isArray(l[0])}else i&&(o=(i.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(i));var c=o?ve:Ie;return new c(e)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(e){this.isClockwise()!=(e=!!e)&&this.reverse()},setPathData:function(e){var i=e&&e.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),n,o=!1,l,c,g=new z,d=new z;function m(y,A){var M=+n[y];return o&&(M+=g[A]),M}function _(y){return new z(m(y,"x"),m(y+1,"y"))}this.clear();for(var w=0,C=i&&i.length;w<C;w++){var x=i[w],b=x[0],P=b.toLowerCase();n=x.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var E=n&&n.length;switch(o=b===P,l==="z"&&!/[mz]/.test(P)&&this.moveTo(g),P){case"m":case"l":for(var L=P==="m",S=0;S<E;S+=2)this[L?"moveTo":"lineTo"](g=_(S)),L&&(d=g,L=!1);c=g;break;case"h":case"v":var I=P==="h"?"x":"y";g=g.clone();for(var S=0;S<E;S++)g[I]=m(S,I),this.lineTo(g);c=g;break;case"c":for(var S=0;S<E;S+=6)this.cubicCurveTo(_(S),c=_(S+2),g=_(S+4));break;case"s":for(var S=0;S<E;S+=4)this.cubicCurveTo(/[cs]/.test(l)?g.multiply(2).subtract(c):g,c=_(S),g=_(S+2)),l=P;break;case"q":for(var S=0;S<E;S+=4)this.quadraticCurveTo(c=_(S),g=_(S+2));break;case"t":for(var S=0;S<E;S+=2)this.quadraticCurveTo(c=/[qt]/.test(l)?g.multiply(2).subtract(c):g,g=_(S)),l=P;break;case"a":for(var S=0;S<E;S+=7)this.arcTo(g=_(S+5),new V(+n[S],+n[S+1]),+n[S+2],+n[S+4],+n[S+3]);break;case"z":this.closePath(1e-12),g=d;break}l=P}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(e){var i=e.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(e):{};return i.onPath||!!(this.getFillRule()==="evenodd"?i.windingL&1||i.windingR&1:i.winding)},getIntersections:function(e,i,n,o){var l=this===e||!e,c=this._matrix._orNullIfIdentity(),g=l?c:(n||e._matrix)._orNullIfIdentity();return l||this.getBounds(c).intersects(e.getBounds(g),1e-12)?_e.getIntersections(this.getCurves(),!l&&e.getCurves(),i,c,g,o):[]},getCrossings:function(e){return this.getIntersections(e,function(i){return i.isCrossing()})},getNearestLocation:function(){for(var e=z.read(arguments),i=this.getCurves(),n=1/0,o=null,l=0,c=i.length;l<c;l++){var g=i[l].getNearestLocation(e);g._distance<n&&(n=g._distance,o=g)}return o},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()},interpolate:function(e,i,n){var o=!this._children,l=o?"_segments":"_children",c=e[l],g=i[l],d=this[l];if(!c||!g||c.length!==g.length)throw new Error("Invalid operands in interpolate() call: "+e+", "+i);var m=d.length,_=g.length;if(m<_)for(var w=o?Te:Ie,C=m;C<_;C++)this.add(new w);else m>_&&this[o?"removeSegments":"removeChildren"](_,m);for(var C=0;C<_;C++)d[C].interpolate(c[C],g[C],n);o&&(this.setClosed(e._closed),this._changed(9))},compare:function(e){var i=!1;if(e){var n=this._children||[this],o=e._children?e._children.slice():[e],l=n.length,c=o.length,g=[],d=0;i=!0;for(var m=te.findItemBoundsCollisions(n,o,ue.GEOMETRIC_EPSILON),_=l-1;_>=0&&i;_--){var w=n[_];i=!1;var C=m[_];if(C)for(var x=C.length-1;x>=0&&!i;x--)w.compare(o[C[x]])&&(g[C[x]]||(g[C[x]]=!0,d++),i=!0)}i=i&&d===c}return i}}),Ie=Re.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(i){this._closed=!1,this._segments=[],this._version=0;var n=arguments,o=Array.isArray(i)?typeof i[0]=="object"?i:n:i&&i.size===s&&(i.x!==s||i.point!==s)?n:null;o&&o.length>0?this.setSegments(o):(this._curves=s,this._segmentSelection=0,!o&&typeof i=="string"&&(this.setPathData(i),i=null)),this._initialize(!o&&i)},_equals:function(e){return this._closed===e._closed&&p.equals(this._segments,e._segments)},copyContent:function(e){this.setSegments(e._segments),this._closed=e._closed},_changed:function e(i){if(e.base.call(this,i),i&8){if(this._length=this._area=s,i&32)this._version++;else if(this._curves)for(var n=0,o=this._curves.length;n<o;n++)this._curves[n]._changed()}else i&64&&(this._bounds=s)},getStyle:function(){var e=this._parent;return(e instanceof ve?e:this)._style},getSegments:function(){return this._segments},setSegments:function(e){var i=this.isFullySelected(),n=e&&e.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=s,n){var o=e[n-1];typeof o=="boolean"&&(this.setClosed(o),n--),this._add(Te.readList(e,0,{},n))}i&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var e=this._curves,i=this._segments;if(!e){var n=this._countCurves();e=this._curves=new Array(n);for(var o=0;o<n;o++)e[o]=new _e(this,i[o],i[o+1]||i[0])}return e},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var e=this.getCurves();return e[e.length-1]},isClosed:function(){return this._closed},setClosed:function(e){if(this._closed!=(e=!!e)){if(this._closed=e,this._curves){var i=this._curves.length=this._countCurves();e&&(this._curves[i-1]=new _e(this,this._segments[i-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(e,i){var n=this._segments,o=n.length,l=new ne(i),c=new Array(6),g=!0,d,m,_,w,C,x,b,P,E=[];function L(I,y){if(I._transformCoordinates(e,c),d=c[0],m=c[1],g)E.push("M"+l.pair(d,m)),g=!1;else if(C=c[2],x=c[3],C===d&&x===m&&b===_&&P===w){if(!y){var A=d-_,M=m-w;E.push(A===0?"v"+l.number(M):M===0?"h"+l.number(A):"l"+l.pair(A,M))}}else E.push("c"+l.pair(b-_,P-w)+" "+l.pair(C-_,x-w)+" "+l.pair(d-_,m-w));_=d,w=m,b=c[4],P=c[5]}if(!o)return"";for(var S=0;S<o;S++)L(n[S]);return this._closed&&o>0&&(L(n[0],!0),E.push("z")),E.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(e){for(var i=this._segments,n=new Array(6),o=0,l=i.length;o<l;o++)i[o]._transformCoordinates(e,n,!0);return!0},_add:function(e,g){for(var n=this._segments,o=this._curves,l=e.length,c=g==null,g=c?n.length:g,d=0;d<l;d++){var m=e[d];m._path&&(m=e[d]=m.clone()),m._path=this,m._index=g+d,m._selection&&this._updateSelection(m,0,m._selection)}if(c)p.push(n,e);else{n.splice.apply(n,[g,0].concat(e));for(var d=g+l,_=n.length;d<_;d++)n[d]._index=d}if(o){var w=this._countCurves(),C=g>0&&g+l-1===w?g-1:g,x=C,b=Math.min(C+l,w);e._curves&&(o.splice.apply(o,[C,0].concat(e._curves)),x+=e._curves.length);for(var d=x;d<b;d++)o.splice(d,0,new _e(this,null,null));this._adjustCurves(C,b)}return this._changed(41),e},_adjustCurves:function(e,i){for(var n=this._segments,o=this._curves,l,c=e;c<i;c++)l=o[c],l._path=this,l._segment1=n[c],l._segment2=n[c+1]||n[0],l._changed();(l=o[this._closed&&!e?n.length-1:e-1])&&(l._segment2=n[e]||n[0],l._changed()),(l=o[i])&&(l._segment1=n[i],l._changed())},_countCurves:function(){var e=this._segments.length;return!this._closed&&e>0?e-1:e},add:function(e){var i=arguments;return i.length>1&&typeof e!="number"?this._add(Te.readList(i)):this._add([Te.read(i)])[0]},insert:function(e,i){var n=arguments;return n.length>2&&typeof i!="number"?this._add(Te.readList(n,1),e):this._add([Te.read(n,1)],e)[0]},addSegment:function(){return this._add([Te.read(arguments)])[0]},insertSegment:function(e){return this._add([Te.read(arguments,1)],e)[0]},addSegments:function(e){return this._add(Te.readList(e))},insertSegments:function(e,i){return this._add(Te.readList(i),e)},removeSegment:function(e){return this.removeSegments(e,e+1)[0]||null},removeSegments:function(e,i,n){e=e||0,i=p.pick(i,this._segments.length);var o=this._segments,l=this._curves,c=o.length,g=o.splice(e,i-e),d=g.length;if(!d)return g;for(var m=0;m<d;m++){var _=g[m];_._selection&&this._updateSelection(_,_._selection,0),_._index=_._path=null}for(var m=e,w=o.length;m<w;m++)o[m]._index=m;if(l){for(var C=e>0&&i===c+(this._closed?1:0)?e-1:e,l=l.splice(C,d),m=l.length-1;m>=0;m--)l[m]._path=null;n&&(g._curves=l.slice(1)),this._adjustCurves(C,C)}return this._changed(41),g},clear:"#removeSegments",hasHandles:function(){for(var e=this._segments,i=0,n=e.length;i<n;i++)if(e[i].hasHandles())return!0;return!1},clearHandles:function(){for(var e=this._segments,i=0,n=e.length;i<n;i++)e[i].clearHandles()},getLength:function(){if(this._length==null){for(var e=this.getCurves(),i=0,n=0,o=e.length;n<o;n++)i+=e[n].getLength();this._length=i}return this._length},getArea:function(){var e=this._area;if(e==null){var i=this._segments,n=this._closed;e=0;for(var o=0,l=i.length;o<l;o++){var c=o+1===l;e+=_e.getArea(_e.getValues(i[o],i[c?0:o+1],null,c&&!n))}this._area=e}return e},isFullySelected:function(){var e=this._segments.length;return this.isSelected()&&e>0&&this._segmentSelection===e*7},setFullySelected:function(e){e&&this._selectSegments(!0),this.setSelected(e)},setSelection:function e(i){i&1||this._selectSegments(!1),e.base.call(this,i)},_selectSegments:function(e){var i=this._segments,n=i.length,o=e?7:0;this._segmentSelection=o*n;for(var l=0;l<n;l++)i[l]._selection=o},_updateSelection:function(e,i,n){e._selection=n;var o=this._segmentSelection+=n-i;o>0&&this.setSelected(!0)},divideAt:function(e){var i=this.getLocationAt(e),n;return i&&(n=i.getCurve().divideAt(i.getCurveOffset()))?n._segment1:null},splitAt:function(e){var i=this.getLocationAt(e),n=i&&i.index,o=i&&i.time,l=1e-8,c=1-l;o>c&&(n++,o=0);var g=this.getCurves();if(n>=0&&n<g.length){o>=l&&g[n++].divideAtTime(o);var d=this.removeSegments(n,this._segments.length,!0),m;return this._closed?(this.setClosed(!1),m=this):(m=new Ie(Ce.NO_INSERT),m.insertAbove(this),m.copyAttributes(this)),m._add(d,0),this.addSegment(d[0]),m}return null},split:function(e,i){var n,o=i===s?e:(n=this.getCurves()[e])&&n.getLocationAtTime(i);return o!=null?this.splitAt(o):null},join:function(e,i){var n=i||0;if(e&&e!==this){var o=e._segments,l=this.getLastSegment(),c=e.getLastSegment();if(!c)return this;l&&l._point.isClose(c._point,n)&&e.reverse();var g=e.getFirstSegment();if(l&&l._point.isClose(g._point,n))l.setHandleOut(g._handleOut),this._add(o.slice(1));else{var d=this.getFirstSegment();d&&d._point.isClose(g._point,n)&&e.reverse(),c=e.getLastSegment(),d&&d._point.isClose(c._point,n)?(d.setHandleIn(c._handleIn),this._add(o.slice(0,o.length-1),0)):this._add(o.slice())}e._closed&&this._add([o[0]]),e.remove()}var m=this.getFirstSegment(),_=this.getLastSegment();return m!==_&&m._point.isClose(_._point,n)&&(m.setHandleIn(_._handleIn),_.remove(),this.setClosed(!0)),this},reduce:function(e){for(var i=this.getCurves(),n=e&&e.simplify,o=n?1e-7:0,l=i.length-1;l>=0;l--){var c=i[l];!c.hasHandles()&&(!c.hasLength(o)||n&&c.isCollinear(c.getNext()))&&c.remove()}return this},reverse:function(){this._segments.reverse();for(var e=0,i=this._segments.length;e<i;e++){var n=this._segments[e],o=n._handleIn;n._handleIn=n._handleOut,n._handleOut=o,n._index=e}this._curves=null,this._changed(9)},flatten:function(e){for(var i=new Be(this,e||.25,256,!0),n=i.parts,o=n.length,l=[],c=0;c<o;c++)l.push(new Te(n[c].curve.slice(0,2)));!this._closed&&o>0&&l.push(new Te(n[o-1].curve.slice(6))),this.setSegments(l)},simplify:function(e){var i=new be(this).fit(e||2.5);return i&&this.setSegments(i),!!i},smooth:function(e){var i=this,n=e||{},o=n.type||"asymmetric",l=this._segments,c=l.length,g=this._closed;function d(je,nt){var st=je&&je.index;if(st!=null){var ut=je.path;if(ut&&ut!==i)throw new Error(je._class+" "+st+" of "+ut+" is not part of "+i);nt&&je instanceof _e&&st++}else st=typeof je=="number"?je:nt;return Math.min(st<0&&g?st%c:st<0?st+c:st,c-1)}var m=g&&n.from===s&&n.to===s,_=d(n.from,0),w=d(n.to,c-1);if(_>w)if(g)_-=c;else{var C=_;_=w,w=C}if(/^(?:asymmetric|continuous)$/.test(o)){var x=o==="asymmetric",b=Math.min,P=w-_+1,E=P-1,L=m?b(P,4):1,S=L,I=L,y=[];if(g||(S=b(1,_),I=b(1,c-w-1)),E+=S+I,E<=1)return;for(var A=0,M=_-S;A<=E;A++,M++)y[A]=l[(M<0?M+c:M)%c]._point;for(var R=y[0]._x+2*y[1]._x,O=y[0]._y+2*y[1]._y,U=2,G=E-1,Y=[R],J=[O],W=[U],Q=[],ie=[],A=1;A<E;A++){var ae=A<G,oe=ae||x?1:2,ge=ae?4:x?2:7,Ae=ae?4:x?3:8,Me=ae?2:x?0:1,De=oe/U;U=W[A]=ge-De,R=Y[A]=Ae*y[A]._x+Me*y[A+1]._x-De*R,O=J[A]=Ae*y[A]._y+Me*y[A+1]._y-De*O}Q[G]=Y[G]/W[G],ie[G]=J[G]/W[G];for(var A=E-2;A>=0;A--)Q[A]=(Y[A]-Q[A+1])/W[A],ie[A]=(J[A]-ie[A+1])/W[A];Q[E]=(3*y[E]._x-Q[G])/2,ie[E]=(3*y[E]._y-ie[G])/2;for(var A=S,Ye=E-I,M=_;A<=Ye;A++,M++){var we=l[M<0?M+c:M],Se=we._point,qe=Q[A]-Se._x,Xe=ie[A]-Se._y;(m||A<Ye)&&we.setHandleOut(qe,Xe),(m||A>S)&&we.setHandleIn(-qe,-Xe)}}else for(var A=_;A<=w;A++)l[A<0?A+c:A].smooth(n,!m&&A===_,!m&&A===w)},toShape:function(e){if(!this._closed)return null;var i=this._segments,n,o,l,c;function g(x,b){var P=i[x],E=P.getNext(),L=i[b],S=L.getNext();return P._handleOut.isZero()&&E._handleIn.isZero()&&L._handleOut.isZero()&&S._handleIn.isZero()&&E._point.subtract(P._point).isCollinear(S._point.subtract(L._point))}function d(x){var b=i[x],P=b.getPrevious(),E=b.getNext();return P._handleOut.isZero()&&b._handleIn.isZero()&&b._handleOut.isZero()&&E._handleIn.isZero()&&b._point.subtract(P._point).isOrthogonal(E._point.subtract(b._point))}function m(x){var b=i[x],P=b.getNext(),E=b._handleOut,L=P._handleIn,S=.5522847498307936;if(E.isOrthogonal(L)){var I=b._point,y=P._point,A=new me(I,E,!0).intersect(new me(y,L,!0),!0);return A&&ue.isZero(E.getLength()/A.subtract(I).getLength()-S)&&ue.isZero(L.getLength()/A.subtract(y).getLength()-S)}return!1}function _(x,b){return i[x]._point.getDistance(i[b]._point)}if(!this.hasHandles()&&i.length===4&&g(0,2)&&g(1,3)&&d(1)?(n=Fe.Rectangle,o=new V(_(0,3),_(0,1)),c=i[1]._point.add(i[2]._point).divide(2)):i.length===8&&m(0)&&m(2)&&m(4)&&m(6)&&g(1,5)&&g(3,7)?(n=Fe.Rectangle,o=new V(_(1,6),_(0,3)),l=o.subtract(new V(_(0,7),_(1,2))).divide(2),c=i[3]._point.add(i[4]._point).divide(2)):i.length===4&&m(0)&&m(1)&&m(2)&&m(3)&&(ue.isZero(_(0,2)-_(1,3))?(n=Fe.Circle,l=_(0,2)/2):(n=Fe.Ellipse,l=new V(_(2,0)/2,_(3,1)/2)),c=i[1]._point),n){var w=this.getPosition(!0),C=new n({center:w,size:o,radius:l,insert:!1});return C.copyAttributes(this,!0),C._matrix.prepend(this._matrix),C.rotate(c.subtract(w).getAngle()+90),(e===s||e)&&C.insertAbove(this),C}return null},toPath:"#clone",compare:function e(i){if(!i||i instanceof ve)return e.base.call(this,i);var n=this.getCurves(),o=i.getCurves(),l=n.length,c=o.length;if(!l||!c)return l==c;for(var g=n[0].getValues(),d=[],m=0,_,w=0,C,x=0;x<c;x++){var L=o[x].getValues();d.push(L);var b=_e.getOverlaps(g,L);if(b){_=!x&&b[0][0]>0?c-1:x,C=b[0][1];break}}for(var P=Math.abs,E=1e-8,L=d[_],S;g&&L;){var b=_e.getOverlaps(g,L);if(b){var I=b[0][0];if(P(I-w)<E){w=b[1][0],w===1&&(g=++m<l?n[m].getValues():null,w=0);var y=b[0][1];if(P(y-C)<E){if(S||(S=[_,y]),C=b[1][1],C===1&&(++_>=c&&(_=0),L=d[_]||o[_].getValues(),C=0),!g)return S[0]===_&&S[1]===C;continue}}}break}return!1},_hitTestSelf:function(e,i,n,o){var l=this,c=this.getStyle(),g=this._segments,d=g.length,m=this._closed,_=i._tolerancePadding,w=_,C,x,b,P,E,L,S=i.stroke&&c.hasStroke(),I=i.fill&&c.hasFill(),y=i.curves,A=S?c.getStrokeWidth()/2:I&&i.tolerance>0||y?0:null;A!==null&&(A>0?(C=c.getStrokeJoin(),x=c.getStrokeCap(),b=c.getMiterLimit(),w=w.add(Ie._getStrokePadding(A,o))):C=x="round");function M(Q,ie){return e.subtract(Q).divide(ie).length<=1}function R(Q,ie,ae){if(!i.selected||ie.isSelected()){var oe=Q._point;if(ie!==oe&&(ie=ie.add(oe)),M(ie,w))return new Qe(ae,l,{segment:Q,point:ie})}}function O(Q,ie){return(ie||i.segments)&&R(Q,Q._point,"segment")||!ie&&i.handles&&(R(Q,Q._handleIn,"handle-in")||R(Q,Q._handleOut,"handle-out"))}function U(Q){P.add(Q)}function G(Q){var ie=m||Q._index>0&&Q._index<d-1;if((ie?C:x)==="round")return M(Q._point,w);if(P=new Ie({internal:!0,closed:!0}),ie?Q.isSmooth()||Ie._addBevelJoin(Q,C,A,b,null,o,U,!0):x==="square"&&Ie._addSquareCap(Q,x,A,null,o,U,!0),!P.isEmpty()){var ae;return P.contains(e)||(ae=P.getNearestLocation(e))&&M(ae.getPoint(),_)}}if(i.ends&&!i.segments&&!m){if(L=O(g[0],!0)||O(g[d-1],!0))return L}else if(i.segments||i.handles){for(var Y=0;Y<d;Y++)if(L=O(g[Y]))return L}if(A!==null){if(E=this.getNearestLocation(e),E){var J=E.getTime();J===0||J===1&&d>1?G(E.getSegment())||(E=null):M(E.getPoint(),w)||(E=null)}if(!E&&C==="miter"&&d>1)for(var Y=0;Y<d;Y++){var W=g[Y];if(e.getDistance(W._point)<=b*A&&G(W)){E=W.getLocation();break}}}return!E&&I&&this._contains(e)||E&&!S&&!y?new Qe("fill",this):E?new Qe(S?"stroke":"curve",this,{location:E,point:E.getPoint()}):null}},p.each(_e._evaluateMethods,function(e){this[e+"At"]=function(i){var n=this.getLocationAt(i);return n&&n[e]()}},{beans:!1,getLocationOf:function(){for(var e=z.read(arguments),i=this.getCurves(),n=0,o=i.length;n<o;n++){var l=i[n].getLocationOf(e);if(l)return l}return null},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getLocationAt:function(e){if(typeof e=="number"){for(var i=this.getCurves(),n=0,o=0,l=i.length;o<l;o++){var c=n,g=i[o];if(n+=g.getLength(),n>e)return g.getLocationAt(e-c)}if(i.length>0&&e<=this.getLength())return new ht(i[i.length-1],1)}else if(e&&e.getPath&&e.getPath()===this)return e;return null},getOffsetsWithTangent:function(){var e=z.read(arguments);if(e.isZero())return[];for(var i=[],n=0,o=this.getCurves(),l=0,c=o.length;l<c;l++){for(var g=o[l],d=g.getTimesWithTangent(e),m=0,_=d.length;m<_;m++){var w=n+g.getOffsetAtTime(d[m]);i.indexOf(w)<0&&i.push(w)}n+=g.length}return i}}),new function(){function e(n,o,l,c){if(c<=0)return;var g=c/2,d=c-2,m=g-1,_=new Array(6),w,C;function x(I){var y=_[I],A=_[I+1];(w!=y||C!=A)&&(n.beginPath(),n.moveTo(w,C),n.lineTo(y,A),n.stroke(),n.beginPath(),n.arc(y,A,g,0,Math.PI*2,!0),n.fill())}for(var b=0,P=o.length;b<P;b++){var E=o[b],L=E._selection;if(E._transformCoordinates(l,_),w=_[0],C=_[1],L&2&&x(2),L&4&&x(4),n.fillRect(w-g,C-g,c,c),d>0&&!(L&1)){var S=n.fillStyle;n.fillStyle="#ffffff",n.fillRect(w-m,C-m,d,d),n.fillStyle=S}}}function i(n,o,l){var c=o._segments,g=c.length,d=new Array(6),m=!0,_,w,C,x,b,P,E,L;function S(y){if(l)y._transformCoordinates(l,d),_=d[0],w=d[1];else{var A=y._point;_=A._x,w=A._y}if(m)n.moveTo(_,w),m=!1;else{if(l)b=d[2],P=d[3];else{var M=y._handleIn;b=_+M._x,P=w+M._y}b===_&&P===w&&E===C&&L===x?n.lineTo(_,w):n.bezierCurveTo(E,L,b,P,_,w)}if(C=_,x=w,l)E=d[4],L=d[5];else{var M=y._handleOut;E=C+M._x,L=x+M._y}}for(var I=0;I<g;I++)S(c[I]);o._closed&&g>0&&S(c[0])}return{_draw:function(n,o,l,c){var g=o.dontStart,d=o.dontFinish||o.clip,m=this.getStyle(),_=m.hasFill(),w=m.hasStroke(),C=m.getDashArray(),x=!He.support.nativeDash&&w&&C&&C.length;g||n.beginPath(),(_||w&&!x||d)&&(i(n,this,c),this._closed&&n.closePath());function b(y){return C[(y%x+x)%x]}if(!d&&(_||w)&&(this._setStyles(n,o,l),_&&(n.fill(m.getFillRule()),n.shadowColor="rgba(0,0,0,0)"),w)){if(x){g||n.beginPath();for(var P=new Be(this,.25,32,!1,c),E=P.length,L=-m.getDashOffset(),S,I=0;L>0;)L-=b(I--)+b(I--);for(;L<E;)S=L+b(I++),(L>0||S>0)&&P.drawPart(n,Math.max(L,0),Math.max(S,0)),L=S+b(I++)}n.stroke()}},_drawSelected:function(n,o){n.beginPath(),i(n,this,o),n.stroke(),e(n,this._segments,o,He.settings.handleSize)}}},new function(){function e(i){var n=i._segments;if(!n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}return{moveTo:function(){var i=this._segments;i.length===1&&this.removeSegment(0),i.length||this._add([new Te(z.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new Te(z.read(arguments))])},cubicCurveTo:function(){var i=arguments,n=z.read(i),o=z.read(i),l=z.read(i),c=e(this);c.setHandleOut(n.subtract(c._point)),this._add([new Te(l,o.subtract(l))])},quadraticCurveTo:function(){var i=arguments,n=z.read(i),o=z.read(i),l=e(this)._point;this.cubicCurveTo(n.add(l.subtract(n).multiply(1/3)),n.add(o.subtract(n).multiply(1/3)),o)},curveTo:function(){var i=arguments,n=z.read(i),o=z.read(i),l=p.pick(p.read(i),.5),c=1-l,g=e(this)._point,d=n.subtract(g.multiply(c*c)).subtract(o.multiply(l*l)).divide(2*l*c);if(d.isNaN())throw new Error("Cannot put a curve through points with parameter = "+l);this.quadraticCurveTo(d,o)},arcTo:function(){var i=arguments,n=Math.abs,o=Math.sqrt,l=e(this),c=l._point,g=z.read(i),d,m=p.peek(i),_=p.pick(m,!0),w,C,x,b;if(typeof _=="boolean")var P=c.add(g).divide(2),d=P.add(P.subtract(c).rotate(_?-90:90));else if(p.remain(i)<=2)d=g,g=z.read(i);else if(!c.equals(g)){var E=V.read(i),L=ue.isZero;if(L(E.width)||L(E.height))return this.lineTo(g);var S=p.read(i),_=!!p.read(i),I=!!p.read(i),P=c.add(g).divide(2),y=c.subtract(P).rotate(-S),A=y.x,M=y.y,R=n(E.width),O=n(E.height),U=R*R,G=O*O,Y=A*A,J=M*M,W=o(Y/U+J/G);if(W>1&&(R*=W,O*=W,U=R*R,G=O*O),W=(U*G-U*J-G*Y)/(U*J+G*Y),n(W)<1e-12&&(W=0),W<0)throw new Error("Cannot create an arc with the given arguments");w=new z(R*M/O,-O*A/R).multiply((I===_?-1:1)*o(W)).rotate(S).add(P),b=new ce().translate(w).rotate(S).scale(R,O),x=b._inverseTransform(c),C=x.getDirectedAngle(b._inverseTransform(g)),!_&&C>0?C-=360:_&&C<0&&(C+=360)}if(d){var Q=new me(c.add(d).divide(2),d.subtract(c).rotate(90),!0),ie=new me(d.add(g).divide(2),g.subtract(d).rotate(90),!0),ae=new me(c,g),oe=ae.getSide(d);if(w=Q.intersect(ie,!0),!w){if(!oe)return this.lineTo(g);throw new Error("Cannot create an arc with the given arguments")}x=c.subtract(w),C=x.getDirectedAngle(g.subtract(w));var ge=ae.getSide(w,!0);ge===0?C=oe*n(C):oe===ge&&(C+=C<0?360:-360)}if(C){for(var Ae=1e-7,Me=n(C),De=Me>=360?4:Math.ceil((Me-Ae)/90),Ye=C/De,we=Ye*Math.PI/360,Se=4/3*Math.sin(we)/(1+Math.cos(we)),qe=[],Xe=0;Xe<=De;Xe++){var y=g,je=null;if(Xe<De&&(je=x.rotate(90).multiply(Se),b?(y=b._transformPoint(x),je=b._transformPoint(x.add(je)).subtract(y)):y=w.add(x)),!Xe)l.setHandleOut(je);else{var nt=x.rotate(-90).multiply(Se);b&&(nt=b._transformPoint(x.add(nt)).subtract(y)),qe.push(new Te(y,nt,je))}x=x.rotate(Ye)}this._add(qe)}},lineBy:function(){var i=z.read(arguments),n=e(this)._point;this.lineTo(n.add(i))},curveBy:function(){var i=arguments,n=z.read(i),o=z.read(i),l=p.read(i),c=e(this)._point;this.curveTo(c.add(n),c.add(o),l)},cubicCurveBy:function(){var i=arguments,n=z.read(i),o=z.read(i),l=z.read(i),c=e(this)._point;this.cubicCurveTo(c.add(n),c.add(o),c.add(l))},quadraticCurveBy:function(){var i=arguments,n=z.read(i),o=z.read(i),l=e(this)._point;this.quadraticCurveTo(l.add(n),l.add(o))},arcBy:function(){var i=arguments,n=e(this)._point,o=n.add(z.read(i)),l=p.pick(p.peek(i),!0);typeof l=="boolean"?this.arcTo(o,l):this.arcTo(o,n.add(z.read(i)))},closePath:function(i){this.setClosed(!0),this.join(this,i)}}},{_getBounds:function(e,i){var n=i.handle?"getHandleBounds":i.stroke?"getStrokeBounds":"getBounds";return Ie[n](this._segments,this._closed,this,e,i)},statics:{getBounds:function(e,i,n,o,l,c){var g=e[0];if(!g)return new se;var d=new Array(6),m=g._transformCoordinates(o,new Array(6)),_=m.slice(0,2),w=_.slice(),C=new Array(2);function x(E){E._transformCoordinates(o,d);for(var L=0;L<2;L++)_e._addBounds(m[L],m[L+4],d[L+2],d[L],L,c?c[L]:0,_,w,C);var S=m;m=d,d=S}for(var b=1,P=e.length;b<P;b++)x(e[b]);return i&&x(g),new se(_[0],_[1],w[0]-_[0],w[1]-_[1])},getStrokeBounds:function(e,i,n,o,l){var c=n.getStyle(),g=c.hasStroke(),d=c.getStrokeWidth(),m=g&&n._getStrokeMatrix(o,l),_=g&&Ie._getStrokePadding(d,m),w=Ie.getBounds(e,i,n,o,l,_);if(!g)return w;var C=d/2,x=c.getStrokeJoin(),b=c.getStrokeCap(),P=c.getMiterLimit(),E=new se(new V(_));function L(R){w=w.include(R)}function S(R){w=w.unite(E.setCenter(R._point.transform(o)))}function I(R,O){O==="round"||R.isSmooth()?S(R):Ie._addBevelJoin(R,O,C,P,o,m,L)}function y(R,O){O==="round"?S(R):Ie._addSquareCap(R,O,C,o,m,L)}var A=e.length-(i?0:1);if(A>0){for(var M=1;M<A;M++)I(e[M],x);i?I(e[0],x):(y(e[0],b),y(e[e.length-1],b))}return w},_getStrokePadding:function(e,i){if(!i)return[e,e];var n=new z(e,0).transform(i),o=new z(0,e).transform(i),l=n.getAngleInRadians(),c=n.getLength(),g=o.getLength(),d=Math.sin(l),m=Math.cos(l),_=Math.tan(l),w=Math.atan2(g*_,c),C=Math.atan2(g,_*c);return[Math.abs(c*Math.cos(w)*m+g*Math.sin(w)*d),Math.abs(g*Math.sin(C)*m+c*Math.cos(C)*d)]},_addBevelJoin:function(e,i,n,o,l,c,g,d){var m=e.getCurve(),_=m.getPrevious(),w=m.getPoint1().transform(l),C=_.getNormalAtTime(1).multiply(n).transform(c),x=m.getNormalAtTime(0).multiply(n).transform(c),b=C.getDirectedAngle(x);if((b<0||b>=180)&&(C=C.negate(),x=x.negate()),d&&g(w),g(w.add(C)),i==="miter"){var P=new me(w.add(C),new z(-C.y,C.x),!0).intersect(new me(w.add(x),new z(-x.y,x.x),!0),!0);P&&w.getDistance(P)<=o*n&&g(P)}g(w.add(x))},_addSquareCap:function(e,i,n,o,l,c,g){var d=e._point.transform(o),m=e.getLocation(),_=m.getNormal().multiply(m.getTime()===0?n:-n).transform(l);i==="square"&&(g&&(c(d.subtract(_)),c(d.add(_))),d=d.add(_.rotate(-90))),c(d.add(_)),c(d.subtract(_))},getHandleBounds:function(e,i,n,o,l){var c=n.getStyle(),g=l.stroke&&c.hasStroke(),d,m;if(g){var _=n._getStrokeMatrix(o,l),w=c.getStrokeWidth()/2,C=w;c.getStrokeJoin()==="miter"&&(C=w*c.getMiterLimit()),c.getStrokeCap()==="square"&&(C=Math.max(C,w*Math.SQRT2)),d=Ie._getStrokePadding(w,_),m=Ie._getStrokePadding(C,_)}for(var x=new Array(6),b=1/0,P=-b,E=b,L=P,S=0,I=e.length;S<I;S++){var y=e[S];y._transformCoordinates(o,x);for(var A=0;A<6;A+=2){var M=A?d:m,R=M?M[0]:0,O=M?M[1]:0,U=x[A],G=x[A+1],Y=U-R,J=U+R,W=G-O,Q=G+O;Y<b&&(b=Y),J>P&&(P=J),W<E&&(E=W),Q>L&&(L=Q)}}return new se(b,E,P-b,L-E)}}});Ie.inject({statics:new function(){var e=.5522847498307936,i=[new Te([-1,0],[0,e],[0,-e]),new Te([0,-1],[-e,0],[e,0]),new Te([1,0],[0,-e],[0,e]),new Te([0,1],[e,0],[-e,0])];function n(l,c,g){var d=p.getNamed(g),m=new Ie(d&&d.insert==!1&&Ce.NO_INSERT);return m._add(l),m._closed=c,m.set(d,{insert:!0})}function o(l,c,g){for(var d=new Array(4),m=0;m<4;m++){var _=i[m];d[m]=new Te(_._point.multiply(c).add(l),_._handleIn.multiply(c),_._handleOut.multiply(c))}return n(d,!0,g)}return{Line:function(){var l=arguments;return n([new Te(z.readNamed(l,"from")),new Te(z.readNamed(l,"to"))],!1,l)},Circle:function(){var l=arguments,c=z.readNamed(l,"center"),g=p.readNamed(l,"radius");return o(c,new V(g),l)},Rectangle:function(){var l=arguments,c=se.readNamed(l,"rectangle"),g=V.readNamed(l,"radius",0,{readNull:!0}),d=c.getBottomLeft(!0),m=c.getTopLeft(!0),_=c.getTopRight(!0),w=c.getBottomRight(!0),C;if(!g||g.isZero())C=[new Te(d),new Te(m),new Te(_),new Te(w)];else{g=V.min(g,c.getSize(!0).divide(2));var x=g.width,b=g.height,P=x*e,E=b*e;C=[new Te(d.add(x,0),null,[-P,0]),new Te(d.subtract(0,b),[0,E]),new Te(m.add(0,b),null,[0,-E]),new Te(m.add(x,0),[-P,0],null),new Te(_.subtract(x,0),null,[P,0]),new Te(_.add(0,b),[0,-E],null),new Te(w.subtract(0,b),null,[0,E]),new Te(w.subtract(x,0),[P,0])]}return n(C,!0,l)},RoundRectangle:"#Rectangle",Ellipse:function(){var l=arguments,c=Fe._readEllipse(l);return o(c.center,c.radius,l)},Oval:"#Ellipse",Arc:function(){var l=arguments,c=z.readNamed(l,"from"),g=z.readNamed(l,"through"),d=z.readNamed(l,"to"),m=p.getNamed(l),_=new Ie(m&&m.insert==!1&&Ce.NO_INSERT);return _.moveTo(c),_.arcTo(g,d),_.set(m)},RegularPolygon:function(){for(var l=arguments,c=z.readNamed(l,"center"),g=p.readNamed(l,"sides"),d=p.readNamed(l,"radius"),m=360/g,_=g%3===0,w=new z(0,_?-d:d),C=_?-1:.5,x=new Array(g),b=0;b<g;b++)x[b]=new Te(c.add(w.rotate((b+C)*m)));return n(x,!0,l)},Star:function(){for(var l=arguments,c=z.readNamed(l,"center"),g=p.readNamed(l,"points")*2,d=p.readNamed(l,"radius1"),m=p.readNamed(l,"radius2"),_=360/g,w=new z(0,-1),C=new Array(g),x=0;x<g;x++)C[x]=new Te(c.add(w.rotate(_*x).multiply(x%2?m:d)));return n(C,!0,l)}}}});var ve=Re.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(i){this._children=[],this._namedChildren={},this._initialize(i)||(typeof i=="string"?this.setPathData(i):this.addChildren(Array.isArray(i)?i:arguments))},insertChildren:function e(i,n){var o=n,l=o[0];l&&typeof l[0]=="number"&&(o=[o]);for(var c=n.length-1;c>=0;c--){var g=o[c];o===n&&!(g instanceof Ie)&&(o=p.slice(o)),Array.isArray(g)?o[c]=new Ie({segments:g,insert:!1}):g instanceof ve&&(o.splice.apply(o,[c,1].concat(g.removeChildren())),g.remove())}return e.base.call(this,i,o)},reduce:function e(i){for(var n=this._children,o=n.length-1;o>=0;o--){var l=n[o].reduce(i);l.isEmpty()&&l.remove()}if(!n.length){var l=new Ie(Ce.NO_INSERT);return l.copyAttributes(this),l.insertAbove(this),this.remove(),l}return e.base.call(this)},isClosed:function(){for(var e=this._children,i=0,n=e.length;i<n;i++)if(!e[i]._closed)return!1;return!0},setClosed:function(e){for(var i=this._children,n=0,o=i.length;n<o;n++)i[n].setClosed(e)},getFirstSegment:function(){var e=this.getFirstChild();return e&&e.getFirstSegment()},getLastSegment:function(){var e=this.getLastChild();return e&&e.getLastSegment()},getCurves:function(){for(var e=this._children,i=[],n=0,o=e.length;n<o;n++)p.push(i,e[n].getCurves());return i},getFirstCurve:function(){var e=this.getFirstChild();return e&&e.getFirstCurve()},getLastCurve:function(){var e=this.getLastChild();return e&&e.getLastCurve()},getArea:function(){for(var e=this._children,i=0,n=0,o=e.length;n<o;n++)i+=e[n].getArea();return i},getLength:function(){for(var e=this._children,i=0,n=0,o=e.length;n<o;n++)i+=e[n].getLength();return i},getPathData:function(e,i){for(var n=this._children,o=[],l=0,c=n.length;l<c;l++){var g=n[l],d=g._matrix;o.push(g.getPathData(e&&!d.isIdentity()?e.appended(d):e,i))}return o.join("")},_hitTestChildren:function e(i,n,o){return e.base.call(this,i,n.class===Ie||n.type==="path"?n:p.set({},n,{fill:!1}),o)},_draw:function(e,i,n,o){var l=this._children;if(!!l.length){i=i.extend({dontStart:!0,dontFinish:!0}),e.beginPath();for(var c=0,g=l.length;c<g;c++)l[c].draw(e,i,o);if(!i.clip){this._setStyles(e,i,n);var d=this._style;d.hasFill()&&(e.fill(d.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),d.hasStroke()&&e.stroke()}}},_drawSelected:function(e,i,n){for(var o=this._children,l=0,c=o.length;l<c;l++){var g=o[l],d=g._matrix;n[g._id]||g._drawSelected(e,d.isIdentity()?i:i.appended(d))}}},new function(){function e(i,n){var o=i._children;if(n&&!o.length)throw new Error("Use a moveTo() command first");return o[o.length-1]}return p.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(i){this[i]=function(){var n=e(this,!0);n[i].apply(n,arguments)}},{moveTo:function(){var i=e(this),n=i&&i.isEmpty()?i:new Ie(Ce.NO_INSERT);n!==i&&this.addChild(n),n.moveTo.apply(n,arguments)},moveBy:function(){var i=e(this,!0),n=i&&i.getLastSegment(),o=z.read(arguments);this.moveTo(n?o.add(n._point):o)},closePath:function(i){e(this,!0).closePath(i)}})},p.each(["reverse","flatten","simplify","smooth"],function(e){this[e]=function(i){for(var n=this._children,o,l=0,c=n.length;l<c;l++)o=n[l][e](i)||o;return o}},{}));Re.inject(new function(){var e=Math.min,i=Math.max,n=Math.abs,o={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function l(S){return S._children||[S]}function c(S,I){var y=S.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(I){for(var A=l(y),M=0,R=A.length;M<R;M++){var S=A[M];!S._closed&&!S.isEmpty()&&(S.closePath(1e-12),S.getFirstSegment().setHandleIn(0,0),S.getLastSegment().setHandleOut(0,0))}y=y.resolveCrossings().reorient(y.getFillRule()==="nonzero",!0)}return y}function g(S,I,y,A,M){var R=new ve(Ce.NO_INSERT);return R.addChildren(S,!0),R=R.reduce({simplify:I}),M&&M.insert==!1||R.insertAbove(A&&y.isSibling(A)&&y.getIndex()<A.getIndex()?A:y),R.copyAttributes(y,!0),R}function d(S){return S.hasOverlap()||S.isCrossing()}function m(S,I,y,A){if(A&&(A.trace==!1||A.stroke)&&/^(subtract|intersect)$/.test(y))return _(S,I,y);var M=c(S,!0),R=I&&S!==I&&c(I,!0),O=o[y];O[y]=!0,R&&(O.subtract||O.exclude)^(R.isClockwise()^M.isClockwise())&&R.reverse();var U=b(ht.expand(M.getIntersections(R,d))),G=l(M),Y=R&&l(R),J=[],W=[],Q;function ie(je){for(var nt=0,st=je.length;nt<st;nt++){var ut=je[nt];p.push(J,ut._segments),p.push(W,ut.getCurves()),ut._overlapsOnly=!0}}function ae(je){for(var nt=[],st=0,ut=je&&je.length;st<ut;st++)nt.push(W[je[st]]);return nt}if(U.length){ie(G),Y&&ie(Y);for(var oe=new Array(W.length),ge=0,Ae=W.length;ge<Ae;ge++)oe[ge]=W[ge].getValues();for(var Me=te.findCurveBoundsCollisions(oe,oe,0,!0),De={},ge=0;ge<W.length;ge++){var Ye=W[ge],we=Ye._path._id,Se=De[we]=De[we]||{};Se[Ye.getIndex()]={hor:ae(Me[ge].hor),ver:ae(Me[ge].ver)}}for(var ge=0,Ae=U.length;ge<Ae;ge++)E(U[ge]._segment,M,R,De,O);for(var ge=0,Ae=J.length;ge<Ae;ge++){var qe=J[ge],Xe=qe._intersection;qe._winding||E(qe,M,R,De,O),Xe&&Xe._overlap||(qe._path._overlapsOnly=!1)}Q=L(J,O)}else Q=x(Y?G.concat(Y):G.slice(),function(je){return!!O[je]});return g(Q,!0,S,I,A)}function _(S,I,y){var A=c(S),M=c(I),R=A.getIntersections(M,d),O=y==="subtract",U=y==="divide",G={},Y=[];function J(ie){if(!G[ie._id]&&(U||M.contains(ie.getPointAt(ie.getLength()/2))^O))return Y.unshift(ie),G[ie._id]=!0}for(var W=R.length-1;W>=0;W--){var Q=R[W].split();Q&&(J(Q)&&Q.getFirstSegment().setHandleIn(0,0),A.getLastSegment().setHandleOut(0,0))}return J(A),g(Y,!1,S,I)}function w(S,I){for(var y=S;y;){if(y===I)return;y=y._previous}for(;S._next&&S._next!==I;)S=S._next;if(!S._next){for(;I._previous;)I=I._previous;S._next=I,I._previous=S}}function C(S){for(var I=S.length-1;I>=0;I--)S[I].clearHandles()}function x(S,I,y){var A=S&&S.length;if(A){var M=p.each(S,function(Me,De){this[Me._id]={container:null,winding:Me.isClockwise()?1:-1,index:De}},{}),R=S.slice().sort(function(Me,De){return n(De.getArea())-n(Me.getArea())}),O=R[0],U=te.findItemBoundsCollisions(R,null,ue.GEOMETRIC_EPSILON);y==null&&(y=O.isClockwise());for(var G=0;G<A;G++){var Y=R[G],J=M[Y._id],W=0,Q=U[G];if(Q){for(var ie=null,ae=Q.length-1;ae>=0;ae--)if(Q[ae]<G){ie=ie||Y.getInteriorPoint();var oe=R[Q[ae]];if(oe.contains(ie)){var ge=M[oe._id];W=ge.winding,J.winding+=W,J.container=ge.exclude?ge.container:oe;break}}}if(I(J.winding)===I(W))J.exclude=!0,S[J.index]=null;else{var Ae=J.container;Y.setClockwise(Ae?!Ae.isClockwise():y)}}}return S}function b(S,I,y){var A=I&&[],M=1e-8,R=1-M,O=!1,U=y||[],G=y&&{},Y,J,W;function Q(nt){return nt._path._id+"."+nt._segment1._index}for(var ie=(y&&y.length)-1;ie>=0;ie--){var ae=y[ie];ae._path&&(G[Q(ae)]=!0)}for(var ie=S.length-1;ie>=0;ie--){var oe=S[ie],ge=oe._time,Ae=ge,Me=I&&!I(oe),ae=oe._curve,De;if(ae&&(ae!==J?(O=!ae.hasHandles()||G&&G[Q(ae)],Y=[],W=null,J=ae):W>=M&&(ge/=W)),Me){Y&&Y.push(oe);continue}else I&&A.unshift(oe);if(W=Ae,ge<M)De=ae._segment1;else if(ge>R)De=ae._segment2;else{var Ye=ae.divideAtTime(ge,!0);O&&U.push(ae,Ye),De=Ye._segment1;for(var we=Y.length-1;we>=0;we--){var Se=Y[we];Se._time=(Se._time-ge)/(1-ge)}}oe._setSegment(De);var qe=De._intersection,Xe=oe._intersection;if(qe){w(qe,Xe);for(var je=qe;je;)w(je._intersection,qe),je=je._next}else De._intersection=Xe}return y||C(U),A||S}function P(S,I,y,A,M){var R=Array.isArray(I)?I:I[y?"hor":"ver"],O=y?1:0,U=O^1,G=[S.x,S.y],Y=G[O],J=G[U],W=1e-9,Q=1e-6,ie=Y-W,ae=Y+W,oe=0,ge=0,Ae=0,Me=0,De=!1,Ye=!1,we=1,Se=[],qe,Xe;function je(Vt){var ti=Vt[U+0],Ii=Vt[U+6];if(!(J<e(ti,Ii)||J>i(ti,Ii))){var ci=Vt[O+0],Di=Vt[O+2],vn=Vt[O+4],Hi=Vt[O+6];if(ti===Ii){(ci<ae&&Hi>ie||Hi<ae&&ci>ie)&&(De=!0);return}var Bi=J===ti?0:J===Ii||ie>i(ci,Di,vn,Hi)||ae<e(ci,Di,vn,Hi)?1:_e.solveCubic(Vt,U,J,Se,0,1)>0?Se[0]:1,Pi=Bi===0?ci:Bi===1?Hi:_e.getPoint(Vt,Bi)[y?"y":"x"],Li=ti>Ii?1:-1,en=qe[U]>qe[U+6]?1:-1,Wi=qe[O+6];return J!==ti?(Pi<ie?Ae+=Li:Pi>ae?Me+=Li:De=!0,Pi>Y-Q&&Pi<Y+Q&&(we/=2)):(Li!==en?ci<ie?Ae+=Li:ci>ae&&(Me+=Li):ci!=Wi&&(Wi<ae&&Pi>ae?(Me+=Li,De=!0):Wi>ie&&Pi<ie&&(Ae+=Li,De=!0)),we/=4),qe=Vt,!M&&Pi>ie&&Pi<ae&&_e.getTangent(Vt,Bi)[y?"x":"y"]===0&&P(S,I,!y,A,!0)}}function nt(Vt){var ti=Vt[U+0],Ii=Vt[U+2],ci=Vt[U+4],Di=Vt[U+6];if(J<=i(ti,Ii,ci,Di)&&J>=e(ti,Ii,ci,Di)){for(var vn=Vt[O+0],Hi=Vt[O+2],Bi=Vt[O+4],Pi=Vt[O+6],Li=ie>i(vn,Hi,Bi,Pi)||ae<e(vn,Hi,Bi,Pi)?[Vt]:_e.getMonoCurves(Vt,y),en,Wi=0,us=Li.length;Wi<us;Wi++)if(en=je(Li[Wi]))return en}}for(var st=0,ut=R.length;st<ut;st++){var bt=R[st],pt=bt._path,ui=bt.getValues(),ri;if((!st||R[st-1]._path!==pt)&&(qe=null,pt._closed||(Xe=_e.getValues(pt.getLastCurve().getSegment2(),bt.getSegment1(),null,!A),Xe[U]!==Xe[U+6]&&(qe=Xe)),!qe)){qe=ui;for(var pi=pt.getLastCurve();pi&&pi!==bt;){var Qt=pi.getValues();if(Qt[U]!==Qt[U+6]){qe=Qt;break}pi=pi.getPrevious()}}if(ri=nt(ui))return ri;if(st+1===ut||R[st+1]._path!==pt){if(Xe&&(ri=nt(Xe)))return ri;De&&!Ae&&!Me&&(Ae=Me=pt.isClockwise(A)^y?1:-1),oe+=Ae,ge+=Me,Ae=Me=0,De&&(Ye=!0,De=!1),Xe=null}}return oe=n(oe),ge=n(ge),{winding:i(oe,ge),windingL:oe,windingR:ge,quality:we,onPath:Ye}}function E(S,I,y,A,M){var R=[],O=S,U=0,W;do{var G=S.getCurve();if(G){var Y=G.getLength();R.push({segment:S,curve:G,length:Y}),U+=Y}S=S.getNext()}while(S&&!S._intersection&&S!==O);for(var J=[.5,.25,.75],W={winding:0,quality:-1},Q=.001,ie=1-Q,ae=0;ae<J.length&&W.quality<.5;ae++)for(var Y=U*J[ae],oe=0,ge=R.length;oe<ge;oe++){var Ae=R[oe],Me=Ae.length;if(Y<=Me){var G=Ae.curve,De=G._path,Ye=De._parent,we=Ye instanceof ve?Ye:De,Se=ue.clamp(G.getTimeAt(Y),Q,ie),qe=G.getPointAtTime(Se),Xe=n(G.getTangentAtTime(Se).y)<Math.SQRT1_2,je=null;if(M.subtract&&y){var nt=we===I?y:I,st=nt._getWinding(qe,Xe,!0);if(we===I&&st.winding||we===y&&!st.winding){if(st.quality<1)continue;je={winding:0,quality:1}}}je=je||P(qe,A[De._id][G.getIndex()],Xe,!0),je.quality>W.quality&&(W=je);break}Y-=Me}for(var oe=R.length-1;oe>=0;oe--)R[oe].segment._winding=W}function L(S,I){var y=[],A;function M(ut){var bt;return!!(ut&&!ut._visited&&(!I||I[(bt=ut._winding||{}).winding]&&!(I.unite&&bt.winding===2&&bt.windingL&&bt.windingR)))}function R(ut){if(ut){for(var bt=0,pt=A.length;bt<pt;bt++)if(ut===A[bt])return!0}return!1}function O(ut){for(var bt=ut._segments,pt=0,ui=bt.length;pt<ui;pt++)bt[pt]._visited=!0}function U(ut,bt){var pt=ut._intersection,ui=pt,ri=[];bt&&(A=[ut]);function pi(Qt,Vt){for(;Qt&&Qt!==Vt;){var ti=Qt._segment,Ii=ti&&ti._path;if(Ii){var ci=ti.getNext()||Ii.getFirstSegment(),Di=ci._intersection;ti!==ut&&(R(ti)||R(ci)||ci&&M(ti)&&(M(ci)||Di&&M(Di._segment)))&&ri.push(ti),bt&&A.push(ti)}Qt=Qt._next}}if(pt){for(pi(pt);pt&&pt._previous;)pt=pt._previous;pi(pt,ui)}return ri}S.sort(function(ut,bt){var pt=ut._intersection,ui=bt._intersection,ri=!!(pt&&pt._overlap),pi=!!(ui&&ui._overlap),Qt=ut._path,Vt=bt._path;return ri^pi?ri?1:-1:!pt^!ui?pt?1:-1:Qt!==Vt?Qt._id-Vt._id:ut._index-bt._index});for(var G=0,Y=S.length;G<Y;G++){var J=S[G],W=M(J),Q=null,ie=!1,ae=!0,oe=[],ge,Ae,Me;if(W&&J._path._overlapsOnly){var De=J._path,Ye=J._intersection._segment._path;De.compare(Ye)&&(De.getArea()&&y.push(De.clone(!1)),O(De),O(Ye),W=!1)}for(;W;){var we=!Q,Se=U(J,we),qe=Se.shift(),ie=!we&&(R(J)||R(qe)),Xe=!ie&&qe;if(we&&(Q=new Ie(Ce.NO_INSERT),ge=null),ie){(J.isFirst()||J.isLast())&&(ae=J._path._closed),J._visited=!0;break}if(Xe&&ge&&(oe.push(ge),ge=null),ge||(Xe&&Se.push(J),ge={start:Q._segments.length,crossings:Se,visited:Ae=[],handleIn:Me}),Xe&&(J=qe),!M(J)){Q.removeSegments(ge.start);for(var je=0,nt=Ae.length;je<nt;je++)Ae[je]._visited=!1;Ae.length=0;do J=ge&&ge.crossings.shift(),(!J||!J._path)&&(J=null,ge=oe.pop(),ge&&(Ae=ge.visited,Me=ge.handleIn));while(ge&&!M(J));if(!J)break}var st=J.getNext();Q.add(new Te(J._point,Me,st&&J._handleOut)),J._visited=!0,Ae.push(J),J=st||J._path.getFirstSegment(),Me=st&&st._handleIn}ie&&(ae&&(Q.getFirstSegment().setHandleIn(Me),Q.setClosed(ae)),Q.getArea()!==0&&y.push(Q))}return y}return{_getWinding:function(S,I,y){return P(S,this.getCurves(),I,y)},unite:function(S,I){return m(this,S,"unite",I)},intersect:function(S,I){return m(this,S,"intersect",I)},subtract:function(S,I){return m(this,S,"subtract",I)},exclude:function(S,I){return m(this,S,"exclude",I)},divide:function(S,I){return I&&(I.trace==!1||I.stroke)?_(this,S,"divide"):g([this.subtract(S,I),this.intersect(S,I)],!0,this,S,I)},resolveCrossings:function(){var S=this._children,I=S||[this];function y(ge,Ae){var Me=ge&&ge._intersection;return Me&&Me._overlap&&Me._path===Ae}var A=!1,M=!1,R=this.getIntersections(null,function(ge){return ge.hasOverlap()&&(A=!0)||ge.isCrossing()&&(M=!0)}),O=A&&M&&[];if(R=ht.expand(R),A)for(var U=b(R,function(ge){return ge.hasOverlap()},O),G=U.length-1;G>=0;G--){var Y=U[G],J=Y._path,W=Y._segment,Q=W.getPrevious(),ie=W.getNext();y(Q,J)&&y(ie,J)&&(W.remove(),Q._handleOut._set(0,0),ie._handleIn._set(0,0),Q!==W&&!Q.getCurve().hasLength()&&(ie._handleIn.set(Q._handleIn),Q.remove()))}M&&(b(R,A&&function(ge){var Ae=ge.getCurve(),Me=ge.getSegment(),De=ge._intersection,Ye=De._curve,we=De._segment;if(Ae&&Ye&&Ae._path&&Ye._path)return!0;Me&&(Me._intersection=null),we&&(we._intersection=null)},O),O&&C(O),I=L(p.each(I,function(ge){p.push(this,ge._segments)},[])));var ae=I.length,oe;return ae>1&&S?(I!==S&&this.setChildren(I),oe=this):ae===1&&!S&&(I[0]!==this&&this.setSegments(I[0].removeSegments()),oe=this),oe||(oe=new ve(Ce.NO_INSERT),oe.addChildren(I),oe=oe.reduce(),oe.copyAttributes(this),this.replaceWith(oe)),oe},reorient:function(S,I){var y=this._children;return y&&y.length?this.setChildren(x(this.removeChildren(),function(A){return!!(S?A:A&1)},I)):I!==s&&this.setClockwise(I),this},getInteriorPoint:function(){var S=this.getBounds(),I=S.getCenter(!0);if(!this.contains(I)){for(var y=this.getCurves(),A=I.y,M=[],R=[],O=0,U=y.length;O<U;O++){var G=y[O].getValues(),Y=G[1],J=G[3],W=G[5],Q=G[7];if(A>=e(Y,J,W,Q)&&A<=i(Y,J,W,Q))for(var ie=_e.getMonoCurves(G),ae=0,oe=ie.length;ae<oe;ae++){var ge=ie[ae],Ae=ge[1],Me=ge[7];if(Ae!==Me&&(A>=Ae&&A<=Me||A>=Me&&A<=Ae)){var De=A===Ae?ge[0]:A===Me?ge[6]:_e.solveCubic(ge,1,A,R,0,1)===1?_e.getPoint(ge,R[0]).x:(ge[0]+ge[6])/2;M.push(De)}}}M.length>1&&(M.sort(function(Ye,we){return Ye-we}),I.x=(M[0]+M[1])/2)}return I}}});var Be=p.extend({_class:"PathFlattener",initialize:function(e,i,n,o,l){var c=[],g=[],d=0,m=1/(n||32),_=e._segments,w=_[0],C;function x(L,S){var I=_e.getValues(L,S,l);c.push(I),b(I,L._index,0,1)}function b(L,S,I,y){if(y-I>m&&!(o&&_e.isStraight(L))&&!_e.isFlatEnough(L,i||.25)){var A=_e.subdivide(L,.5),M=(I+y)/2;b(A[0],S,I,M),b(A[1],S,M,y)}else{var R=L[6]-L[0],O=L[7]-L[1],U=Math.sqrt(R*R+O*O);U>0&&(d+=U,g.push({offset:d,curve:L,index:S,time:y}))}}for(var P=1,E=_.length;P<E;P++)C=_[P],x(w,C),w=C;e._closed&&x(C||w,_[0]),this.curves=c,this.parts=g,this.length=d,this.index=0},_get:function(e){for(var i=this.parts,n=i.length,o,l=this.index;o=l,!(!l||i[--l].offset<e););for(;o<n;o++){var c=i[o];if(c.offset>=e){this.index=o;var g=i[o-1],d=g&&g.index===c.index?g.time:0,m=g?g.offset:0;return{index:c.index,time:d+(c.time-d)*(e-m)/(c.offset-m)}}}return{index:i[n-1].index,time:1}},drawPart:function(e,i,n){for(var o=this._get(i),l=this._get(n),c=o.index,g=l.index;c<=g;c++){var d=_e.getPart(this.curves[c],c===o.index?o.time:0,c===l.index?l.time:1);c===o.index&&e.moveTo(d[0],d[1]),e.bezierCurveTo.apply(e,d.slice(2))}}},p.each(_e._evaluateMethods,function(e){this[e+"At"]=function(i){var n=this._get(i);return _e[e](this.curves[n.index],n.time)}},{})),be=p.extend({initialize:function(e){for(var i=this.points=[],n=e._segments,o=e._closed,l=0,c,g=n.length;l<g;l++){var d=n[l].point;(!c||!c.equals(d))&&i.push(c=d.clone())}o&&(i.unshift(i[i.length-1]),i.push(i[1])),this.closed=o},fit:function(e){var i=this.points,n=i.length,o=null;return n>0&&(o=[new Te(i[0])],n>1&&(this.fitCubic(o,e,0,n-1,i[1].subtract(i[0]),i[n-2].subtract(i[n-1])),this.closed&&(o.shift(),o.pop()))),o},fitCubic:function(e,i,n,o,l,c){var g=this.points;if(o-n===1){var d=g[n],m=g[o],_=d.getDistance(m)/3;this.addCurve(e,[d,d.add(l.normalize(_)),m.add(c.normalize(_)),m]);return}for(var w=this.chordLengthParameterize(n,o),C=Math.max(i,i*i),x,b=!0,P=0;P<=4;P++){var E=this.generateBezier(n,o,w,l,c),L=this.findMaxError(n,o,E,w);if(L.error<i&&b){this.addCurve(e,E);return}if(x=L.index,L.error>=C)break;b=this.reparameterize(n,o,w,E),C=L.error}var S=g[x-1].subtract(g[x+1]);this.fitCubic(e,i,n,x,l,S),this.fitCubic(e,i,x,o,S.negate(),c)},addCurve:function(e,i){var n=e[e.length-1];n.setHandleOut(i[1].subtract(i[0])),e.push(new Te(i[3],i[2].subtract(i[3])))},generateBezier:function(e,i,n,o,l){for(var c=1e-12,g=Math.abs,d=this.points,m=d[e],_=d[i],w=[[0,0],[0,0]],C=[0,0],x=0,b=i-e+1;x<b;x++){var P=n[x],E=1-P,L=3*P*E,S=E*E*E,I=L*E,y=L*P,A=P*P*P,M=o.normalize(I),R=l.normalize(y),O=d[e+x].subtract(m.multiply(S+I)).subtract(_.multiply(y+A));w[0][0]+=M.dot(M),w[0][1]+=M.dot(R),w[1][0]=w[0][1],w[1][1]+=R.dot(R),C[0]+=M.dot(O),C[1]+=R.dot(O)}var U=w[0][0]*w[1][1]-w[1][0]*w[0][1],G,Y;if(g(U)>c){var J=w[0][0]*C[1]-w[1][0]*C[0],W=C[0]*w[1][1]-C[1]*w[0][1];G=W/U,Y=J/U}else{var Q=w[0][0]+w[0][1],ie=w[1][0]+w[1][1];G=Y=g(Q)>c?C[0]/Q:g(ie)>c?C[1]/ie:0}var ae=_.getDistance(m),oe=c*ae,ge,Ae;if(G<oe||Y<oe)G=Y=ae/3;else{var Me=_.subtract(m);ge=o.normalize(G),Ae=l.normalize(Y),ge.dot(Me)-Ae.dot(Me)>ae*ae&&(G=Y=ae/3,ge=Ae=null)}return[m,m.add(ge||o.normalize(G)),_.add(Ae||l.normalize(Y)),_]},reparameterize:function(e,i,n,o){for(var l=e;l<=i;l++)n[l-e]=this.findRoot(o,this.points[l],n[l-e]);for(var l=1,c=n.length;l<c;l++)if(n[l]<=n[l-1])return!1;return!0},findRoot:function(e,i,n){for(var o=[],l=[],c=0;c<=2;c++)o[c]=e[c+1].subtract(e[c]).multiply(3);for(var c=0;c<=1;c++)l[c]=o[c+1].subtract(o[c]).multiply(2);var g=this.evaluate(3,e,n),d=this.evaluate(2,o,n),m=this.evaluate(1,l,n),_=g.subtract(i),w=d.dot(d)+_.dot(m);return ue.isMachineZero(w)?n:n-_.dot(d)/w},evaluate:function(e,i,n){for(var o=i.slice(),l=1;l<=e;l++)for(var c=0;c<=e-l;c++)o[c]=o[c].multiply(1-n).add(o[c+1].multiply(n));return o[0]},chordLengthParameterize:function(e,i){for(var n=[0],o=e+1;o<=i;o++)n[o-e]=n[o-e-1]+this.points[o].getDistance(this.points[o-1]);for(var o=1,l=i-e;o<=l;o++)n[o]/=n[l];return n},findMaxError:function(e,i,n,o){for(var l=Math.floor((i-e+1)/2),c=0,g=e+1;g<i;g++){var d=this.evaluate(3,n,o[g-e]),m=d.subtract(this.points[g]),_=m.x*m.x+m.y*m.y;_>=c&&(c=_,l=g)}return{error:c,index:l}}}),Ue=Ce.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(i){this._content="",this._lines=[];var n=i&&p.isPlainObject(i)&&i.x===s&&i.y===s;this._initialize(n&&i,!n&&z.read(arguments))},_equals:function(e){return this._content===e._content},copyContent:function(e){this.setContent(e._content)},getContent:function(){return this._content},setContent:function(e){this._content=""+e,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),gt=Ue.extend({_class:"PointText",initialize:function(){Ue.apply(this,arguments)},getPoint:function(){var e=this._matrix.getTranslation();return new K(e.x,e.y,this,"setPoint")},setPoint:function(){var e=z.read(arguments);this.translate(e.subtract(this._matrix.getTranslation()))},_draw:function(e,i,n){if(!!this._content){this._setStyles(e,i,n);var o=this._lines,l=this._style,c=l.hasFill(),g=l.hasStroke(),d=l.getLeading(),m=e.shadowColor;e.font=l.getFontStyle(),e.textAlign=l.getJustification();for(var _=0,w=o.length;_<w;_++){e.shadowColor=m;var C=o[_];c&&(e.fillText(C,0,0),e.shadowColor="rgba(0,0,0,0)"),g&&e.strokeText(C,0,0),e.translate(0,d)}}},_getBounds:function(e,i){var n=this._style,o=this._lines,l=o.length,c=n.getJustification(),g=n.getLeading(),d=this.getView().getTextWidth(n.getFontStyle(),o),m=0;c!=="left"&&(m-=d/(c==="center"?2:1));var _=new se(m,l?-.75*g:0,d,l*g);return e?e._transformBounds(_,_):_}}),Ve=p.extend(new function(){var e={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},i={},n={transparent:[0,0,0,0]},o;function l(d){var m=d.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||d.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),_="rgb",w;if(m){var C=m[4]?4:3;w=new Array(C);for(var x=0;x<C;x++){var b=m[x+1];w[x]=parseInt(b.length==1?b+b:b,16)/255}}else if(m=d.match(/^(rgb|hsl)a?\((.*)\)$/)){_=m[1],w=m[2].trim().split(/[,\s]+/g);for(var P=_==="hsl",x=0,E=Math.min(w.length,4);x<E;x++){var L=w[x],b=parseFloat(L);if(P)if(x===0){var S=L.match(/([a-z]*)$/)[1];b*={turn:360,rad:180/Math.PI,grad:.9}[S]||1}else x<3&&(b/=100);else x<3&&(b/=/%$/.test(L)?100:255);w[x]=b}}else{var I=n[d];if(!I)if(f){o||(o=ot.getContext(1,1),o.globalCompositeOperation="copy"),o.fillStyle="rgba(0,0,0,0)",o.fillStyle=d,o.fillRect(0,0,1,1);var y=o.getImageData(0,0,1,1).data;I=n[d]=[y[0]/255,y[1]/255,y[2]/255]}else I=[0,0,0];w=I.slice()}return[_,w]}var c=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],g={"rgb-hsb":function(d,m,_){var w=Math.max(d,m,_),C=Math.min(d,m,_),x=w-C,b=x===0?0:(w==d?(m-_)/x+(m<_?6:0):w==m?(_-d)/x+2:(d-m)/x+4)*60;return[b,w===0?0:x/w,w]},"hsb-rgb":function(d,m,_){d=(d/60%6+6)%6;var C=Math.floor(d),w=d-C,C=c[C],x=[_,_*(1-m),_*(1-m*w),_*(1-m*(1-w))];return[x[C[0]],x[C[1]],x[C[2]]]},"rgb-hsl":function(d,m,_){var w=Math.max(d,m,_),C=Math.min(d,m,_),x=w-C,b=x===0,P=b?0:(w==d?(m-_)/x+(m<_?6:0):w==m?(_-d)/x+2:(d-m)/x+4)*60,E=(w+C)/2,L=b?0:E<.5?x/(w+C):x/(2-w-C);return[P,L,E]},"hsl-rgb":function(d,m,_){if(d=(d/360%1+1)%1,m===0)return[_,_,_];for(var w=[d+1/3,d,d-1/3],C=_<.5?_*(1+m):_+m-_*m,x=2*_-C,b=[],P=0;P<3;P++){var E=w[P];E<0&&(E+=1),E>1&&(E-=1),b[P]=6*E<1?x+(C-x)*6*E:2*E<1?C:3*E<2?x+(C-x)*(2/3-E)*6:x}return b},"rgb-gray":function(d,m,_){return[d*.2989+m*.587+_*.114]},"gray-rgb":function(d){return[d,d,d]},"gray-hsb":function(d){return[0,0,d]},"gray-hsl":function(d){return[0,0,d]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return p.each(e,function(d,m){i[m]=[],p.each(d,function(_,w){var C=p.capitalize(_),x=/^(hue|saturation)$/.test(_),b=i[m][w]=m==="gradient"?_==="gradient"?function(P){var E=this._components[0];return P=rt.read(Array.isArray(P)?P:arguments,0,{readNull:!0}),E!==P&&(E&&E._removeOwner(this),P&&P._addOwner(this)),P}:function(){return z.read(arguments,0,{readNull:_==="highlight",clone:!0})}:function(P){return P==null||isNaN(P)?0:+P};this["get"+C]=function(){return this._type===m||x&&/^hs[bl]$/.test(this._type)?this._components[w]:this._convert(m)[w]},this["set"+C]=function(P){this._type!==m&&!(x&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(m),this._properties=e[m],this._type=m),this._components[w]=b.call(this,P),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function d(m){var _=arguments,w=this.__read,C=0,x,b,P,E;Array.isArray(m)&&(_=m,m=_[0]);var L=m!=null&&typeof m;if(L==="string"&&m in e&&(x=m,m=_[1],Array.isArray(m)?(b=m,P=_[2]):(w&&(C=1),_=p.slice(_,1),L=typeof m)),!b){if(E=L==="number"?_:L==="object"&&m.length!=null?m:null,E){x||(x=E.length>=3?"rgb":"gray");var S=e[x].length;P=E[S],w&&(C+=E===arguments?S+(P!=null?1:0):1),E.length>S&&(E=p.slice(E,0,S))}else if(L==="string"){var I=l(m);x=I[0],b=I[1],b.length===4&&(P=b[3],b.length--)}else if(L==="object")if(m.constructor===d){if(x=m._type,b=m._components.slice(),P=m._alpha,x==="gradient")for(var y=1,A=b.length;y<A;y++){var M=b[y];M&&(b[y]=M.clone())}}else if(m.constructor===rt)x="gradient",E=_;else{x="hue"in m?"lightness"in m?"hsl":"hsb":"gradient"in m||"stops"in m||"radial"in m?"gradient":"gray"in m?"gray":"rgb";var R=e[x],O=i[x];this._components=b=[];for(var y=0,A=R.length;y<A;y++){var U=m[R[y]];U==null&&!y&&x==="gradient"&&"stops"in m&&(U={stops:m.stops,radial:m.radial}),U=O[y].call(this,U),U!=null&&(b[y]=U)}P=m.alpha}w&&x&&(C=1)}if(this._type=x||"rgb",!b){this._components=b=[];for(var O=i[this._type],y=0,A=O.length;y<A;y++){var U=O[y].call(this,E&&E[y]);U!=null&&(b[y]=U)}}return this._components=b,this._properties=e[this._type],this._alpha=P,w&&(this.__read=C),this},set:"#initialize",_serialize:function(d,m){var _=this.getComponents();return p.serialize(/^(gray|rgb)$/.test(this._type)?_:[this._type].concat(_),d,!0,m)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(d){var m;return this._type===d?this._components.slice():(m=g[this._type+"-"+d])?m.apply(this,this._components):g["rgb-"+d].apply(this,g[this._type+"-rgb"].apply(this,this._components))},convert:function(d){return new Ve(d,this._convert(d),this._alpha)},getType:function(){return this._type},setType:function(d){this._components=this._convert(d),this._properties=e[d],this._type=d},getComponents:function(){var d=this._components.slice();return this._alpha!=null&&d.push(this._alpha),d},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(d){this._alpha=d==null?null:Math.min(Math.max(d,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(d){var m=p.isPlainValue(d,!0)?Ve.read(arguments):d;return m===this||m&&this._class===m._class&&this._type===m._type&&this.getAlpha()===m.getAlpha()&&p.equals(this._components,m._components)||!1},toString:function(){for(var d=this._properties,m=[],_=this._type==="gradient",w=ne.instance,C=0,x=d.length;C<x;C++){var b=this._components[C];b!=null&&m.push(d[C]+": "+(_?b:w.number(b)))}return this._alpha!=null&&m.push("alpha: "+w.number(this._alpha)),"{ "+m.join(", ")+" }"},toCSS:function(d){var m=this._convert("rgb"),_=d||this._alpha==null?1:this._alpha;function w(C){return Math.round((C<0?0:C>1?1:C)*255)}return m=[w(m[0]),w(m[1]),w(m[2])],_<1&&m.push(_<0?0:_),d?"#"+((1<<24)+(m[0]<<16)+(m[1]<<8)+m[2]).toString(16).slice(1):(m.length==4?"rgba(":"rgb(")+m.join(",")+")"},toCanvasStyle:function(d,m){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var _=this._components,w=_[0],C=w._stops,x=_[1],b=_[2],P=_[3],E=m&&m.inverted(),L;if(E&&(x=E._transformPoint(x),b=E._transformPoint(b),P&&(P=E._transformPoint(P))),w._radial){var S=b.getDistance(x);if(P){var I=P.subtract(x);I.getLength()>S&&(P=x.add(I.normalize(S-.1)))}var y=P||x;L=d.createRadialGradient(y.x,y.y,0,x.x,x.y,S)}else L=d.createLinearGradient(x.x,x.y,b.x,b.y);for(var A=0,M=C.length;A<M;A++){var R=C[A],O=R._offset;L.addColorStop(O==null?A/(M-1):O,R._color.toCanvasStyle())}return this._canvasStyle=L},transform:function(d){if(this._type==="gradient"){for(var m=this._components,_=1,w=m.length;_<w;_++){var C=m[_];d._transformPoint(C,C,!0)}this._changed()}},statics:{_types:e,random:function(){var d=Math.random;return new Ve(d(),d(),d())},_setOwner:function(d,m,_){return d&&(d._owner&&m&&d._owner!==m&&(d=d.clone()),!d._owner^!m&&(d._owner=m||null,d._setter=_||null)),d}}})},new function(){var e={add:function(i,n){return i+n},subtract:function(i,n){return i-n},multiply:function(i,n){return i*n},divide:function(i,n){return i/n}};return p.each(e,function(i,n){this[n]=function(o){o=Ve.read(arguments);for(var l=this._type,c=this._components,g=o._convert(l),d=0,m=c.length;d<m;d++)g[d]=i(c[d],g[d]);return new Ve(l,g,this._alpha!=null?i(this._alpha,o.getAlpha()):null)}},{})}),rt=p.extend({_class:"Gradient",initialize:function(i,n){this._id=H.get(),i&&p.isPlainObject(i)&&(this.set(i),i=n=null),this._stops==null&&this.setStops(i||["white","black"]),this._radial==null&&this.setRadial(typeof n=="string"&&n==="radial"||n||!1)},_serialize:function(e,i){return i.add(this,function(){return p.serialize([this._stops,this._radial],e,!0,i)})},_changed:function(){for(var e=0,i=this._owners&&this._owners.length;e<i;e++)this._owners[e]._changed()},_addOwner:function(e){this._owners||(this._owners=[]),this._owners.push(e)},_removeOwner:function(e){var i=this._owners?this._owners.indexOf(e):-1;i!=-1&&(this._owners.splice(i,1),this._owners.length||(this._owners=s))},clone:function(){for(var e=[],i=0,n=this._stops.length;i<n;i++)e[i]=this._stops[i].clone();return new rt(e,this._radial)},getStops:function(){return this._stops},setStops:function(e){if(e.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var i=this._stops;if(i)for(var n=0,o=i.length;n<o;n++)i[n]._owner=s;i=this._stops=Kt.readList(e,0,{clone:!0});for(var n=0,o=i.length;n<o;n++)i[n]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(e){this._radial=e,this._changed()},equals:function(e){if(e===this)return!0;if(e&&this._class===e._class){var i=this._stops,n=e._stops,o=i.length;if(o===n.length){for(var l=0;l<o;l++)if(!i[l].equals(n[l]))return!1;return!0}}return!1}}),Kt=p.extend({_class:"GradientStop",initialize:function(i,n){var o=i,l=n;typeof i=="object"&&n===s&&(Array.isArray(i)&&typeof i[0]!="number"?(o=i[0],l=i[1]):("color"in i||"offset"in i||"rampPoint"in i)&&(o=i.color,l=i.offset||i.rampPoint||0)),this.setColor(o),this.setOffset(l)},clone:function(){return new Kt(this._color.clone(),this._offset)},_serialize:function(e,i){var n=this._color,o=this._offset;return p.serialize(o==null?[n]:[n,o],e,!0,i)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(e){this._offset=e,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){Ve._setOwner(this._color,null),this._color=Ve._setOwner(Ve.read(arguments,0),this,"setColor"),this._changed()},equals:function(e){return e===this||e&&this._class===e._class&&this._color.equals(e._color)&&this._offset==e._offset||!1}}),Xt=p.extend(new function(){var e={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new z,selectedColor:null},i=p.set({},e,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),n=p.set({},i,{fillColor:new Ve}),o={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},l={beans:!0},c={_class:"Style",beans:!0,initialize:function(d,m,_){this._values={},this._owner=m,this._project=m&&m._project||_||He.project,this._defaults=!m||m instanceof Le?i:m instanceof Ue?n:e,d&&this.set(d)}};return p.each(i,function(g,d){var m=/Color$/.test(d),_=d==="shadowOffset",w=p.capitalize(d),C=o[d],x="set"+w,b="get"+w;c[x]=function(P){var E=this._owner,L=E&&E._children,S=L&&L.length>0&&!(E instanceof ve);if(S)for(var I=0,y=L.length;I<y;I++)L[I]._style[x](P);if((d==="selectedColor"||!S)&&d in this._defaults){var A=this._values[d];A!==P&&(m&&(A&&(Ve._setOwner(A,null),A._canvasStyle=null),P&&P.constructor===Ve&&(P=Ve._setOwner(P,E,S&&x))),this._values[d]=P,E&&E._changed(C||129))}},c[b]=function(P){var E=this._owner,L=E&&E._children,S=L&&L.length>0&&!(E instanceof ve),I;if(S&&!P)for(var y=0,A=L.length;y<A;y++){var M=L[y]._style[b]();if(!y)I=M;else if(!p.equals(I,M))return s}else if(d in this._defaults){var I=this._values[d];if(I===s)I=this._defaults[d],I&&I.clone&&(I=I.clone());else{var R=m?Ve:_?z:null;R&&!(I&&I.constructor===R)&&(this._values[d]=I=R.read([I],0,{readNull:!0,clone:!0}))}}return I&&m&&(I=Ve._setOwner(I,E,S&&x)),I},l[b]=function(P){return this._style[b](P)},l[x]=function(P){this._style[x](P)}}),p.each({Font:"FontFamily",WindingRule:"FillRule"},function(g,d){var m="get"+d,_="set"+d;c[m]=l[m]="#get"+g,c[_]=l[_]="#set"+g}),Ce.inject(l),c},{set:function(e){var i=e instanceof Xt,n=i?e._values:e;if(n){for(var o in n)if(o in this._defaults){var l=n[o];this[o]=l&&i&&l.clone?l.clone():l}}},equals:function(e){function i(n,o,l){var c=n._values,g=o._values,d=o._defaults;for(var m in c){var _=c[m],w=g[m];if(!(l&&m in g)&&!p.equals(_,w===s?d[m]:w))return!1}return!0}return e===this||e&&this._class===e._class&&i(this,e)&&i(e,this,!0)||!1},_dispose:function(){var e;e=this.getFillColor(),e&&(e._canvasStyle=null),e=this.getStrokeColor(),e&&(e._canvasStyle=null),e=this.getShadowColor(),e&&(e._canvasStyle=null)},hasFill:function(){var e=this.getFillColor();return!!e&&e.alpha>0},hasStroke:function(){var e=this.getStrokeColor();return!!e&&e.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var e=this.getShadowColor();return!!e&&e.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var e=this.getFontSize();return this.getFontWeight()+" "+e+(/[a-z]/i.test(e+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function e(){var i=e.base.call(this),n=this.getFontSize();return/pt|em|%|px/.test(n)&&(n=this.getView().getPixelSize(n)),i!=null?i:n*1.2}}),Et=new function(){function e(i,n,o,l){for(var c=["","webkit","moz","Moz","ms","o"],g=n[0].toUpperCase()+n.substring(1),d=0;d<6;d++){var m=c[d],_=m?m+g:n;if(_ in i){if(o)i[_]=l;else return i[_];break}}}return{getStyles:function(i){var n=i&&i.nodeType!==9?i.ownerDocument:i,o=n&&n.defaultView;return o&&o.getComputedStyle(i,"")},getBounds:function(i,n){var o=i.ownerDocument,l=o.body,c=o.documentElement,g;try{g=i.getBoundingClientRect()}catch(w){g={left:0,top:0,width:0,height:0}}var d=g.left-(c.clientLeft||l.clientLeft||0),m=g.top-(c.clientTop||l.clientTop||0);if(!n){var _=o.defaultView;d+=_.pageXOffset||c.scrollLeft||l.scrollLeft,m+=_.pageYOffset||c.scrollTop||l.scrollTop}return new se(d,m,g.width,g.height)},getViewportBounds:function(i){var n=i.ownerDocument,o=n.defaultView,l=n.documentElement;return new se(0,0,o.innerWidth||l.clientWidth,o.innerHeight||l.clientHeight)},getOffset:function(i,n){return Et.getBounds(i,n).getPoint()},getSize:function(i){return Et.getBounds(i,!0).getSize()},isInvisible:function(i){return Et.getSize(i).equals(new V(0,0))},isInView:function(i){return!Et.isInvisible(i)&&Et.getViewportBounds(i).intersects(Et.getBounds(i,!0))},isInserted:function(i){return T.body.contains(i)},getPrefixed:function(i,n){return i&&e(i,n)},setPrefixed:function(i,n,o){if(typeof n=="object")for(var l in n)e(i,l,!0,n[l]);else e(i,n,!0,o)}}},Ft={add:function(e,i){if(e)for(var n in i)for(var o=i[n],l=n.split(/[\s,]+/g),c=0,g=l.length;c<g;c++){var d=l[c],m=e===T&&(d==="touchstart"||d==="touchmove")?{passive:!1}:!1;e.addEventListener(d,o,m)}},remove:function(e,i){if(e)for(var n in i)for(var o=i[n],l=n.split(/[\s,]+/g),c=0,g=l.length;c<g;c++)e.removeEventListener(l[c],o,!1)},getPoint:function(e){var i=e.targetTouches?e.targetTouches.length?e.targetTouches[0]:e.changedTouches[0]:e;return new z(i.pageX||i.clientX+T.documentElement.scrollLeft,i.pageY||i.clientY+T.documentElement.scrollTop)},getTarget:function(e){return e.target||e.srcElement},getRelatedTarget:function(e){return e.relatedTarget||e.toElement},getOffset:function(e,i){return Ft.getPoint(e).subtract(Et.getOffset(i||Ft.getTarget(e)))}};Ft.requestAnimationFrame=new function(){var e=Et.getPrefixed(f,"requestAnimationFrame"),i=!1,n=[],o;function l(){var c=n;n=[];for(var g=0,d=c.length;g<d;g++)c[g]();i=e&&n.length,i&&e(l)}return function(c){n.push(c),e?i||(e(l),i=!0):o||(o=setInterval(l,1e3/60))}};var Nt=p.extend(k,{_class:"View",initialize:function e(i,n){function o(C){return n[C]||parseInt(n.getAttribute(C),10)}function l(){var C=Et.getSize(n);return C.isNaN()||C.isZero()?new V(o("width"),o("height")):C}var c;if(f&&n){this._id=n.getAttribute("id"),this._id==null&&n.setAttribute("id",this._id="paper-view-"+e._id++),Ft.add(n,this._viewEvents);var g="none";if(Et.setPrefixed(n.style,{userDrag:g,userSelect:g,touchCallout:g,contentZooming:g,tapHighlightColor:"rgba(0,0,0,0)"}),D.hasAttribute(n,"resize")){var d=this;Ft.add(f,this._windowEvents={resize:function(){d.setViewSize(l())}})}if(c=l(),D.hasAttribute(n,"stats")&&typeof Stats!="undefined"){this._stats=new Stats;var m=this._stats.domElement,_=m.style,w=Et.getOffset(n);_.position="absolute",_.left=w.x+"px",_.top=w.y+"px",T.body.appendChild(m)}}else c=new V(n),n=null;this._project=i,this._scope=i._scope,this._element=n,this._pixelRatio||(this._pixelRatio=f&&f.devicePixelRatio||1),this._setElementSize(c.width,c.height),this._viewSize=c,e._views.push(this),e._viewsById[this._id]=this,(this._matrix=new ce)._owner=this,e._focused||(e._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!He.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Nt._focused===this&&(Nt._focused=null),Nt._views.splice(Nt._views.indexOf(this),1),delete Nt._viewsById[this._id];var e=this._project;return e._view===this&&(e._view=null),Ft.remove(this._element,this._viewEvents),Ft.remove(f,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:p.each(Ce._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(e){this[e]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(e){this._autoUpdate=e,e&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var e=this;Ft.requestAnimationFrame(function(){if(e._requested=!1,e._animate){e.requestUpdate();var i=e._element;(!Et.getPrefixed(T,"hidden")||D.getAttribute(i,"keepalive")==="true")&&Et.isInView(i)&&e._handleFrame()}e._autoUpdate&&e.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){He=this._scope;var e=Date.now()/1e3,i=this._last?e-this._last:0;this._last=e,this.emit("frame",new p({delta:i,time:this._time+=i,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(e,i){var n=this._frameItems;i?(n[e._id]={item:e,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete n[e._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(e){for(var i in this._frameItems){var n=this._frameItems[i];n.item.emit("frame",new p(e,{time:n.time+=e.delta,count:n.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=s},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var e=this._viewSize;return new ee(e.width,e.height,this,"setViewSize")},setViewSize:function(){var e=V.read(arguments),i=e.subtract(this._viewSize);i.isZero()||(this._setElementSize(e.width,e.height),this._viewSize.set(e),this._changed(),this.emit("resize",{size:e,delta:i}),this._autoUpdate&&this.update())},_setElementSize:function(e,i){var n=this._element;n&&(n.width!==e&&(n.width=e),n.height!==i&&(n.height=i))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new se(new z,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Et.isInView(this._element)},isInserted:function(){return Et.isInserted(this._element)},getPixelSize:function(e){var i=this._element,n;if(i){var o=i.parentNode,l=T.createElement("div");l.style.fontSize=e,o.appendChild(l),n=parseFloat(Et.getStyles(l).fontSize),o.removeChild(l)}else n=parseFloat(n);return n},getTextWidth:function(e,i){return 0}},p.each(["rotate","scale","shear","skew"],function(e){var i=e==="rotate";this[e]=function(){var n=arguments,o=(i?p:z).read(n),l=z.read(n,0,{readNull:!0});return this.transform(new ce()[e](o,l||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var e=new ce;return this.transform(e.translate.apply(e,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var e=z.read(arguments);this.translate(this.getCenter().subtract(e))},getZoom:function(){var e=this._decompose().scaling;return(e.x+e.y)/2},setZoom:function(e){this.transform(new ce().scale(e/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(e){var i=this.getRotation();i!=null&&e!=null&&this.rotate(e-i)},getScaling:function(){var e=this._decompose().scaling;return new K(e.x,e.y,this,"setScaling")},setScaling:function(){var e=this.getScaling(),i=z.read(arguments,0,{clone:!0,readNull:!0});e&&i&&this.scale(i.x/e.x,i.y/e.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},transform:function(e){this._matrix.append(e)},scrollBy:function(){this.translate(z.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(z.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(z.read(arguments))},getEventPoint:function(e){return this.viewToProject(Ft.getOffset(e,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(e,i){T&&typeof i=="string"&&(i=T.getElementById(i));var n=f?Ti:Nt;return new n(e,i)}}},new function(){if(!f)return;var e,i,n=!1,o=!1;function l(W){var Q=Ft.getTarget(W);return Q.getAttribute&&Nt._viewsById[Q.getAttribute("id")]}function c(){var W=Nt._focused;if(!W||!W.isVisible()){for(var Q=0,ie=Nt._views.length;Q<ie;Q++)if((W=Nt._views[Q]).isVisible()){Nt._focused=i=W;break}}}function g(W,Q,ie){W._handleMouseEvent("mousemove",Q,ie)}var d=f.navigator,m,_,w;d.pointerEnabled||d.msPointerEnabled?(m="pointerdown MSPointerDown",_="pointermove MSPointerMove",w="pointerup pointercancel MSPointerUp MSPointerCancel"):(m="touchstart",_="touchmove",w="touchend touchcancel","ontouchstart"in f&&d.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(m+=" mousedown",_+=" mousemove",w+=" mouseup"));var C={},x={mouseout:function(W){var Q=Nt._focused,ie=Ft.getRelatedTarget(W);if(Q&&(!ie||ie.nodeName==="HTML")){var ae=Ft.getOffset(W,Q._element),oe=ae.x,ge=Math.abs,Ae=ge(oe),Me=1<<25,De=Ae-Me;ae.x=ge(De)<Ae?De*(oe<0?-1:1):oe,g(Q,W,Q.viewToProject(ae))}},scroll:c};C[m]=function(W){var Q=Nt._focused=l(W);n||(n=!0,Q._handleMouseEvent("mousedown",W))},x[_]=function(W){var Q=Nt._focused;if(!o){var ie=l(W);ie?Q!==ie&&(Q&&g(Q,W),e||(e=Q),Q=Nt._focused=i=ie):i&&i===Q&&(e&&!e.isInserted()&&(e=null),Q=Nt._focused=e,e=null,c())}Q&&g(Q,W)},x[m]=function(){o=!0},x[w]=function(W){var Q=Nt._focused;Q&&n&&Q._handleMouseEvent("mouseup",W),o=n=!1},Ft.add(T,x),Ft.add(f,{load:c});var b=!1,P=!1,E={doubleclick:"click",mousedrag:"mousemove"},L=!1,S,I,y,A,M,R,O,U;function G(W,Q,ie,ae,oe,ge,Ae){var Me=!1,De;function Ye(we,Se){if(we.responds(Se)){if(De||(De=new gi(Se,ae,oe,Q||we,ge?oe.subtract(ge):null)),we.emit(Se,De)&&(b=!0,De.prevented&&(P=!0),De.stopped))return Me=!0}else{var qe=E[Se];if(qe)return Ye(we,qe)}}for(;W&&W!==Ae&&!Ye(W,ie);)W=W._parent;return Me}function Y(W,Q,ie,ae,oe,ge){return W._project.removeOn(ie),P=b=!1,M&&G(M,null,ie,ae,oe,ge)||Q&&Q!==M&&!Q.isDescendant(M)&&G(Q,null,ie==="mousedrag"?"mousemove":ie,ae,oe,ge,M)||G(W,M||Q||W,ie,ae,oe,ge)}var J={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:C,_handleMouseEvent:function(W,Q,ie){var ae=this._itemEvents,oe=ae.native[W],ge=W==="mousemove",Ae=this._scope.tool,Me=this;function De(nt){return ae.virtual[nt]||Me.responds(nt)||Ae&&Ae.responds(nt)}ge&&n&&De("mousedrag")&&(W="mousedrag"),ie||(ie=this.getEventPoint(Q));var Ye=this.getBounds().contains(ie),we=oe&&Ye&&Me._project.hitTest(ie,{tolerance:0,fill:!0,stroke:!0}),Se=we&&we.item||null,qe=!1,Xe={};if(Xe[W.substr(5)]=!0,oe&&Se!==A&&(A&&G(A,null,"mouseleave",Q,ie),Se&&G(Se,null,"mouseenter",Q,ie),A=Se),L^Ye&&(G(this,null,Ye?"mouseenter":"mouseleave",Q,ie),qe=!0),(Ye||Xe.drag)&&!ie.equals(I)&&(Y(this,Se,ge?W:"mousemove",Q,ie,I),qe=!0),L=Ye,Xe.down&&Ye||Xe.up&&S){if(Y(this,Se,W,Q,ie,S),Xe.down){if(U=Se===R&&Date.now()-O<300,y=R=Se,!P&&Se){for(var je=Se;je&&!je.responds("mousedrag");)je=je._parent;je&&(M=Se)}S=ie}else Xe.up&&(!P&&Se===y&&(O=Date.now(),Y(this,Se,U?"doubleclick":"click",Q,ie,S),U=!1),y=M=null);L=!1,qe=!0}I=ie,qe&&Ae&&(b=Ae._handleMouseEvent(W,Q,ie,Xe)||b),Q.cancelable!==!1&&(b&&!Xe.move||Xe.down&&De("mouseup"))&&Q.preventDefault()},_handleKeyEvent:function(W,Q,ie,ae){var oe=this._scope,ge=oe.tool,Ae;function Me(De){De.responds(W)&&(He=oe,De.emit(W,Ae=Ae||new _t(W,Q,ie,ae)))}this.isVisible()&&(Me(this),ge&&ge.responds(W)&&Me(ge))},_countItemEvent:function(W,Q){var ie=this._itemEvents,ae=ie.native,oe=ie.virtual;for(var ge in J)ae[ge]=(ae[ge]||0)+(J[ge][W]||0)*Q;oe[W]=(oe[W]||0)+Q},statics:{updateFocus:c,_resetState:function(){n=o=b=L=!1,e=i=S=I=y=A=M=R=O=U=null}}}}),Ti=Nt.extend({_class:"CanvasView",initialize:function(i,n){if(!(n instanceof f.HTMLCanvasElement)){var o=V.read(arguments,1);if(o.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+p.slice(arguments,1));n=ot.getCanvas(o)}var l=this._context=n.getContext("2d");if(l.save(),this._pixelRatio=1,!/^off|false$/.test(D.getAttribute(n,"hidpi"))){var c=f.devicePixelRatio||1,g=Et.getPrefixed(l,"backingStorePixelRatio")||1;this._pixelRatio=c/g}Nt.call(this,i,n),this._needsUpdate=!0},remove:function e(){return this._context.restore(),e.base.call(this)},_setElementSize:function e(i,n){var o=this._pixelRatio;if(e.base.call(this,i*o,n*o),o!==1){var l=this._element,c=this._context;if(!D.hasAttribute(l,"resize")){var g=l.style;g.width=i+"px",g.height=n+"px"}c.restore(),c.save(),c.scale(o,o)}},getContext:function(){return this._context},getPixelSize:function e(i){var n=He.agent,o;if(n&&n.firefox)o=e.base.call(this,i);else{var l=this._context,c=l.font;l.font=i+" serif",o=parseFloat(l.font),l.font=c}return o},getTextWidth:function(e,i){var n=this._context,o=n.font,l=0;n.font=e;for(var c=0,g=i.length;c<g;c++)l=Math.max(l,n.measureText(i[c]).width);return n.font=o,l},update:function(){if(!this._needsUpdate)return!1;var e=this._project,i=this._context,n=this._viewSize;return i.clearRect(0,0,n.width+1,n.height+1),e&&e.draw(i,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Je=p.extend({_class:"Event",initialize:function(i){this.event=i,this.type=i&&i.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return Rt.modifiers}}),_t=Je.extend({_class:"KeyEvent",initialize:function(i,n,o,l){this.type=i,this.event=n,this.key=o,this.character=l},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),Rt=new function(){var e={"	":"tab"," ":"space","\b":"backspace","\x7F":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},i={tab:"	",space:" ",enter:"\r"},n={},o={},l,c,g=new p({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var _=He&&He.agent;return _&&_.mac?this.meta:this.control}}});function d(_){var w=_.key||_.keyIdentifier;return w=/^U\+/.test(w)?String.fromCharCode(parseInt(w.substr(2),16)):/^Arrow[A-Z]/.test(w)?w.substr(5):w==="Unidentified"||w===s?String.fromCharCode(_.keyCode):w,e[w]||(w.length>1?p.hyphenate(w):w.toLowerCase())}function m(_,w,C,x){var b=Nt._focused,P;if(n[w]=_,_?o[w]=C:delete o[w],w.length>1&&(P=p.camelize(w))in g){g[P]=_;var E=He&&He.agent;if(P==="meta"&&E&&E.mac)if(_)l={};else{for(var L in l)L in o&&m(!1,L,l[L],x);l=null}}else _&&l&&(l[w]=C);b&&b._handleKeyEvent(_?"keydown":"keyup",x,w,C)}return Ft.add(T,{keydown:function(_){var w=d(_),C=He&&He.agent;w.length>1||C&&C.chrome&&(_.altKey||C.mac&&_.metaKey||!C.mac&&_.ctrlKey)?m(!0,w,i[w]||(w.length>1?"":w),_):c=w},keypress:function(_){if(c){var w=d(_),C=_.charCode,x=C>=32?String.fromCharCode(C):w.length>1?"":w;w!==c&&(w=x.toLowerCase()),m(!0,w,x,_),c=null}},keyup:function(_){var w=d(_);w in o&&m(!1,w,o[w],_)}}),Ft.add(f,{blur:function(_){for(var w in o)m(!1,w,o[w],_)}}),{modifiers:g,isDown:function(_){return!!n[_]}}},gi=Je.extend({_class:"MouseEvent",initialize:function(i,n,o,l,c){this.type=i,this.event=n,this.point=o,this.target=l,this.delta=c},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),wi=Je.extend({_class:"ToolEvent",_item:null,initialize:function(i,n,o){this.tool=i,this.type=n,this.event=o},_choosePoint:function(e,i){return e||(i?i.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(e){this._point=e},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(e){this._lastPoint=e},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(e){this._downPoint=e},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(e){this._middlePoint=e},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(e){this._delta=e},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(e){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=e},getItem:function(){if(!this._item){var e=this.tool._scope.project.hitTest(this.getPoint());if(e){for(var i=e.item,n=i._parent;/^(Group|CompoundPath)$/.test(n._class);)i=n,n=n._parent;this._item=i}}return this._item},setItem:function(e){this._item=e},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),In=X.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(i){X.call(this),this._moveCount=-1,this._downCount=-1,this.set(i)},getMinDistance:function(){return this._minDistance},setMinDistance:function(e){this._minDistance=e,e!=null&&this._maxDistance!=null&&e>this._maxDistance&&(this._maxDistance=e)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(e){this._maxDistance=e,this._minDistance!=null&&e!=null&&e<this._minDistance&&(this._minDistance=e)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(e){this._minDistance=this._maxDistance=e},_handleMouseEvent:function(e,i,n,o){He=this._scope,o.drag&&!this.responds(e)&&(e="mousemove");var l=o.move||o.drag,c=this.responds(e),g=this.minDistance,d=this.maxDistance,m=!1,_=this;function w(x,b){var P=n,E=l?_._point:_._downPoint||P;if(l){if(_._moveCount>=0&&P.equals(E))return!1;if(E&&(x!=null||b!=null)){var L=P.subtract(E),S=L.getLength();if(S<(x||0))return!1;b&&(P=E.add(L.normalize(Math.min(S,b))))}_._moveCount++}return _._point=P,_._lastPoint=E||P,o.down&&(_._moveCount=-1,_._downPoint=P,_._downCount++),!0}function C(){c&&(m=_.emit(e,new wi(_,e,i))||m)}if(o.down)w(),C();else if(o.up)w(null,d),C();else if(c)for(;w(g,d);)C();return m}}),mr=p.extend(k,{_class:"Tween",statics:{easings:new p({linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+2*(2-e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}})},initialize:function e(i,n,o,l,c,g){this.object=i;var d=typeof c,m=d==="function";this.type=m?d:d==="string"?c:"linear",this.easing=m?c:e.easings[this.type],this.duration=l,this.running=!1,this._then=null,this._startTime=null;var _=n||o;this._keys=_?Object.keys(_):[],this._parsedKeys=this._parseKeys(this._keys),this._from=_&&this._getState(n),this._to=_&&this._getState(o),g!==!1&&this.start()},then:function(e){return this._then=e,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(e){if(this.running){e>=1&&(e=1,this.running=!1);for(var i=this.easing(e),n=this._keys,o=function(w){return typeof w=="function"?w(i,e):w},l=0,c=n&&n.length;l<c;l++){var g=n[l],d=o(this._from[g]),m=o(this._to[g]),_=d&&m&&d.__add&&m.__add?m.__subtract(d).__multiply(i).__add(d):(m-d)*i+d;this._setProperty(this._parsedKeys[g],_)}this.responds("update")&&this.emit("update",new p({progress:e,factor:i})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(e){var i=this._startTime,n=i?(e-i)/this.duration:0;i||(this._startTime=e),this.update(n)},_getState:function(e){for(var i=this._keys,n={},o=0,l=i.length;o<l;o++){var c=i[o],g=this._parsedKeys[c],d=this._getProperty(g),m;if(e){var _=this._resolveValue(d,e[c]);this._setProperty(g,_),m=this._getProperty(g),m=m&&m.clone?m.clone():m,this._setProperty(g,d)}else m=d&&d.clone?d.clone():d;n[c]=m}return n},_resolveValue:function(e,i){if(i){if(Array.isArray(i)&&i.length===2){var n=i[0];return n&&n.match&&n.match(/^[+\-\*\/]=/)?this._calculate(e,n[0],i[1]):i}else if(typeof i=="string"){var o=i.match(/^[+\-*/]=(.*)/);if(o){var l=JSON.parse(o[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(e,i[0],l)}}}return i},_calculate:function(e,i,n){return He.PaperScript.calculateBinary(e,i,n)},_parseKeys:function(e){for(var i={},n=0,o=e.length;n<o;n++){var l=e[n],c=l.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");i[l]=c.split("/")}return i},_getProperty:function(e,i){for(var n=this.object,o=0,l=e.length-(i||0);o<l&&n;o++)n=n[e[o]];return n},_setProperty:function(e,i){var n=this._getProperty(e,1);n&&(n[e[e.length-1]]=i)}}),ei={request:function(e){var i=new h.XMLHttpRequest;return i.open((e.method||"get").toUpperCase(),e.url,p.pick(e.async,!0)),e.mimeType&&i.overrideMimeType(e.mimeType),i.onload=function(){var n=i.status;n===0||n===200?e.onLoad&&e.onLoad.call(i,i.responseText):i.onerror()},i.onerror=function(){var n=i.status,o='Could not load "'+e.url+'" (Status: '+n+")";if(e.onError)e.onError(o,n);else throw new Error(o)},i.send(null)}},ot=p.exports.CanvasProvider={canvases:[],getCanvas:function(e,i){if(!f)return null;var n,o=!0;typeof e=="object"&&(i=e.height,e=e.width),this.canvases.length?n=this.canvases.pop():(n=T.createElement("canvas"),o=!1);var l=n.getContext("2d");if(!l)throw new Error("Canvas "+n+" is unable to provide a 2D context.");return n.width===e&&n.height===i?o&&l.clearRect(0,0,e+1,i+1):(n.width=e,n.height=i),l.save(),n},getContext:function(e,i){var n=this.getCanvas(e,i);return n?n.getContext("2d"):null},release:function(e){var i=e&&e.canvas?e.canvas:e;i&&i.getContext&&(i.getContext("2d").restore(),this.canvases.push(i))}},ki=new function(){var e=Math.min,i=Math.max,n=Math.abs,o,l,c,g,d,m,_,w,C,x,b;function P(M,R,O){return .2989*M+.587*R+.114*O}function E(M,R,O,Y){var G=Y-P(M,R,O);C=M+G,x=R+G,b=O+G;var Y=P(C,x,b),J=e(C,x,b),W=i(C,x,b);if(J<0){var Q=Y-J;C=Y+(C-Y)*Y/Q,x=Y+(x-Y)*Y/Q,b=Y+(b-Y)*Y/Q}if(W>255){var ie=255-Y,ae=W-Y;C=Y+(C-Y)*ie/ae,x=Y+(x-Y)*ie/ae,b=Y+(b-Y)*ie/ae}}function L(M,R,O){return i(M,R,O)-e(M,R,O)}function S(M,R,O,U){var G=[M,R,O],Y=i(M,R,O),J=e(M,R,O),W;J=J===M?0:J===R?1:2,Y=Y===M?0:Y===R?1:2,W=e(J,Y)===0?i(J,Y)===1?2:1:0,G[Y]>G[J]?(G[W]=(G[W]-G[J])*U/(G[Y]-G[J]),G[Y]=U):G[W]=G[Y]=0,G[J]=0,C=G[0],x=G[1],b=G[2]}var I={multiply:function(){C=d*o/255,x=m*l/255,b=_*c/255},screen:function(){C=d+o-d*o/255,x=m+l-m*l/255,b=_+c-_*c/255},overlay:function(){C=d<128?2*d*o/255:255-2*(255-d)*(255-o)/255,x=m<128?2*m*l/255:255-2*(255-m)*(255-l)/255,b=_<128?2*_*c/255:255-2*(255-_)*(255-c)/255},"soft-light":function(){var M=o*d/255;C=M+d*(255-(255-d)*(255-o)/255-M)/255,M=l*m/255,x=M+m*(255-(255-m)*(255-l)/255-M)/255,M=c*_/255,b=M+_*(255-(255-_)*(255-c)/255-M)/255},"hard-light":function(){C=o<128?2*o*d/255:255-2*(255-o)*(255-d)/255,x=l<128?2*l*m/255:255-2*(255-l)*(255-m)/255,b=c<128?2*c*_/255:255-2*(255-c)*(255-_)/255},"color-dodge":function(){C=d===0?0:o===255?255:e(255,255*d/(255-o)),x=m===0?0:l===255?255:e(255,255*m/(255-l)),b=_===0?0:c===255?255:e(255,255*_/(255-c))},"color-burn":function(){C=d===255?255:o===0?0:i(0,255-(255-d)*255/o),x=m===255?255:l===0?0:i(0,255-(255-m)*255/l),b=_===255?255:c===0?0:i(0,255-(255-_)*255/c)},darken:function(){C=d<o?d:o,x=m<l?m:l,b=_<c?_:c},lighten:function(){C=d>o?d:o,x=m>l?m:l,b=_>c?_:c},difference:function(){C=d-o,C<0&&(C=-C),x=m-l,x<0&&(x=-x),b=_-c,b<0&&(b=-b)},exclusion:function(){C=d+o*(255-d-d)/255,x=m+l*(255-m-m)/255,b=_+c*(255-_-_)/255},hue:function(){S(o,l,c,L(d,m,_)),E(C,x,b,P(d,m,_))},saturation:function(){S(d,m,_,L(o,l,c)),E(C,x,b,P(d,m,_))},luminosity:function(){E(d,m,_,P(o,l,c))},color:function(){E(o,l,c,P(d,m,_))},add:function(){C=e(d+o,255),x=e(m+l,255),b=e(_+c,255)},subtract:function(){C=i(d-o,0),x=i(m-l,0),b=i(_-c,0)},average:function(){C=(d+o)/2,x=(m+l)/2,b=(_+c)/2},negation:function(){C=255-n(255-o-d),x=255-n(255-l-m),b=255-n(255-c-_)}},y=this.nativeModes=p.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(M){this[M]=!0},{}),A=ot.getContext(1,1);A&&(p.each(I,function(M,R){var O=R==="darken",U=!1;A.save();try{A.fillStyle=O?"#300":"#a00",A.fillRect(0,0,1,1),A.globalCompositeOperation=R,A.globalCompositeOperation===R&&(A.fillStyle=O?"#a00":"#300",A.fillRect(0,0,1,1),U=A.getImageData(0,0,1,1).data[0]!==O?170:51)}catch(G){}A.restore(),y[R]=U}),ot.release(A)),this.process=function(M,R,O,U,G){var Y=R.canvas,J=M==="normal";if(J||y[M])O.save(),O.setTransform(1,0,0,1,0,0),O.globalAlpha=U,J||(O.globalCompositeOperation=M),O.drawImage(Y,G.x,G.y),O.restore();else{var W=I[M];if(!W)return;for(var Q=O.getImageData(G.x,G.y,Y.width,Y.height),ie=Q.data,ae=R.getImageData(0,0,Y.width,Y.height).data,oe=0,ge=ie.length;oe<ge;oe+=4){o=ae[oe],d=ie[oe],l=ae[oe+1],m=ie[oe+1],c=ae[oe+2],_=ie[oe+2],g=ae[oe+3],w=ie[oe+3],W();var Ae=g*U/255,Me=1-Ae;ie[oe]=Ae*C+Me*d,ie[oe+1]=Ae*x+Me*m,ie[oe+2]=Ae*b+Me*_,ie[oe+3]=g*U+Me*w}O.putImageData(Q,G.x,G.y)}}},et=new function(){var e="http://www.w3.org/2000/svg",i="http://www.w3.org/2000/xmlns",n="http://www.w3.org/1999/xlink",o={href:n,xlink:i,xmlns:i+"/","xmlns:xlink":i+"/"};function l(d,m,_){return g(T.createElementNS(e,d),m,_)}function c(d,m){var _=o[m],w=_?d.getAttributeNS(_,m):d.getAttribute(m);return w==="null"?null:w}function g(d,m,_){for(var w in m){var C=m[w],x=o[w];typeof C=="number"&&_&&(C=_.number(C)),x?d.setAttributeNS(x,w,C):d.setAttribute(w,C)}return d}return{svg:e,xmlns:i,xlink:n,create:l,get:c,set:g}},Pt=p.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(e,i){return!i&&(e instanceof Re||e instanceof Fe||e instanceof Ue)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(e,i){var n=p.capitalize(i),o=e[2];this[i]={type:e[1],property:i,attribute:e[0],toSVG:o,fromSVG:o&&p.each(o,function(l,c){this[l]=c},{}),exportFilter:e[3],get:"get"+n,set:"set"+n}},{});new function(){var e;function i(I,y,A){var M=new p,R=I.getTranslation();if(y){var O;I.isInvertible()?(I=I._shiftless(),O=I._inverseTransform(R),R=null):O=new z,M[A?"cx":"x"]=O.x,M[A?"cy":"y"]=O.y}if(!I.isIdentity()){var U=I.decompose();if(U){var G=[],Y=U.rotation,J=U.scaling,W=U.skewing;R&&!R.isZero()&&G.push("translate("+e.point(R)+")"),Y&&G.push("rotate("+e.number(Y)+")"),(!ue.isZero(J.x-1)||!ue.isZero(J.y-1))&&G.push("scale("+e.point(J)+")"),W.x&&G.push("skewX("+e.number(W.x)+")"),W.y&&G.push("skewY("+e.number(W.y)+")"),M.transform=G.join(" ")}else M.transform="matrix("+I.getValues().join(",")+")"}return M}function n(I,y){for(var A=i(I._matrix),M=I._children,R=et.create("g",A,e),O=0,U=M.length;O<U;O++){var G=M[O],Y=L(G,y);if(Y)if(G.isClipMask()){var J=et.create("clipPath");J.appendChild(Y),P(G,J,"clip"),et.set(R,{"clip-path":"url(#"+J.id+")"})}else R.appendChild(Y)}return R}function o(I,y){var A=i(I._matrix,!0),M=I.getSize(),R=I.getImage();return A.x-=M.width/2,A.y-=M.height/2,A.width=M.width,A.height=M.height,A.href=y.embedImages==!1&&R&&R.src||I.toDataURL(),et.create("image",A,e)}function l(I,y){var A=y.matchShapes;if(A){var M=I.toShape(!1);if(M)return c(M)}var R=I._segments,O=R.length,U,G=i(I._matrix);if(A&&O>=2&&!I.hasHandles())if(O>2){U=I._closed?"polygon":"polyline";for(var Y=[],J=0;J<O;J++)Y.push(e.point(R[J]._point));G.points=Y.join(" ")}else{U="line";var W=R[0]._point,Q=R[1]._point;G.set({x1:W.x,y1:W.y,x2:Q.x,y2:Q.y})}else U="path",G.d=I.getPathData(null,y.precision);return et.create(U,G,e)}function c(I){var y=I._type,A=I._radius,M=i(I._matrix,!0,y!=="rectangle");if(y==="rectangle"){y="rect";var R=I._size,O=R.width,U=R.height;M.x-=O/2,M.y-=U/2,M.width=O,M.height=U,A.isZero()&&(A=null)}return A&&(y==="circle"?M.r=A:(M.rx=A.width,M.ry=A.height)),et.create(y,M,e)}function g(I,y){var A=i(I._matrix),M=I.getPathData(null,y.precision);return M&&(A.d=M),et.create("path",A,e)}function d(I,y){var A=i(I._matrix,!0),M=I._definition,R=b(M,"symbol"),O=M._item,U=O.getStrokeBounds();return R||(R=et.create("symbol",{viewBox:e.rectangle(U)}),R.appendChild(L(O,y)),P(M,R,"symbol")),A.href="#"+R.id,A.x+=U.x,A.y+=U.y,A.width=U.width,A.height=U.height,A.overflow="visible",et.create("use",A,e)}function m(I){var y=b(I,"color");if(!y){var A=I.getGradient(),M=A._radial,R=I.getOrigin(),O=I.getDestination(),U;if(M){U={cx:R.x,cy:R.y,r:R.getDistance(O)};var G=I.getHighlight();G&&(U.fx=G.x,U.fy=G.y)}else U={x1:R.x,y1:R.y,x2:O.x,y2:O.y};U.gradientUnits="userSpaceOnUse",y=et.create((M?"radial":"linear")+"Gradient",U,e);for(var Y=A._stops,J=0,W=Y.length;J<W;J++){var Q=Y[J],ie=Q._color,ae=ie.getAlpha(),oe=Q._offset;U={offset:oe==null?J/(W-1):oe},ie&&(U["stop-color"]=ie.toCSS(!0)),ae<1&&(U["stop-opacity"]=ae),y.appendChild(et.create("stop",U,e))}P(I,y,"color")}return"url(#"+y.id+")"}function _(I){var y=et.create("text",i(I._matrix,!0),e);return y.textContent=I._content,y}var w={Group:n,Layer:n,Raster:o,Path:l,Shape:c,CompoundPath:g,SymbolItem:d,PointText:_};function C(I,y,A){var M={},R=!A&&I.getParent(),O=[];return I._name!=null&&(M.id=I._name),p.each(Pt,function(U){var G=U.get,Y=U.type,J=I[G]();if(U.exportFilter?U.exportFilter(I,J):!R||!p.equals(R[G](),J)){if(Y==="color"&&J!=null){var W=J.getAlpha();W<1&&(M[U.attribute+"-opacity"]=W)}Y==="style"?O.push(U.attribute+": "+J):M[U.attribute]=J==null?"none":Y==="color"?J.gradient?m(J):J.toCSS(!0):Y==="array"?J.join(","):Y==="lookup"?U.toSVG[J]:J}}),O.length&&(M.style=O.join(";")),M.opacity===1&&delete M.opacity,I._visible||(M.visibility="hidden"),et.set(y,M,e)}var x;function b(I,y){return x||(x={ids:{},svgs:{}}),I&&x.svgs[y+"-"+(I._id||I.__id||(I.__id=H.get("svg")))]}function P(I,y,A){x||b();var M=x.ids[A]=(x.ids[A]||0)+1;y.id=A+"-"+M,x.svgs[A+"-"+(I._id||I.__id)]=y}function E(I,y){var A=I,M=null;if(x){A=I.nodeName.toLowerCase()==="svg"&&I;for(var R in x.svgs)M||(A||(A=et.create("svg"),A.appendChild(I)),M=A.insertBefore(et.create("defs"),A.firstChild)),M.appendChild(x.svgs[R]);x=null}return y.asString?new h.XMLSerializer().serializeToString(A):A}function L(I,y,A){var M=w[I._class],R=M&&M(I,y);if(R){var O=y.onExport;O&&(R=O(I,R,y)||R);var U=JSON.stringify(I._data);U&&U!=="{}"&&U!=="null"&&R.setAttribute("data-paper-data",U)}return R&&C(I,R,A)}function S(I){return I||(I={}),e=new ne(I.precision),I}Ce.inject({exportSVG:function(I){return I=S(I),E(L(this,I,!0),I)}}),ze.inject({exportSVG:function(I){I=S(I);var y=this._children,A=this.getView(),M=p.pick(I.bounds,"view"),R=I.matrix||M==="view"&&A._matrix,O=R&&ce.read([R]),U=M==="view"?new se([0,0],A.getViewSize()):M==="content"?Ce._getBounds(y,O,{stroke:!0}).rect:se.read([M],0,{readNull:!0}),G={version:"1.1",xmlns:et.svg,"xmlns:xlink":et.xlink};U&&(G.width=U.width,G.height=U.height,(U.x||U.x===0||U.y||U.y===0)&&(G.viewBox=e.rectangle(U)));var Y=et.create("svg",G,e),J=Y;O&&!O.isIdentity()&&(J=Y.appendChild(et.create("g",i(O),e)));for(var W=0,Q=y.length;W<Q;W++)J.appendChild(L(y[W],I,!0));return E(Y,I)}})},new function(){var e={},i;function n(y,A,M,R,O,U){var G=et.get(y,A)||U,Y=G==null?R?null:M?"":0:M?G:parseFloat(G);return/%\s*$/.test(G)?Y/100*(O?1:i[/x|^width/.test(A)?"width":"height"]):Y}function o(y,A,M,R,O,U,G){return A=n(y,A||"x",!1,R,O,U),M=n(y,M||"y",!1,R,O,G),R&&(A==null||M==null)?null:new z(A,M)}function l(y,A,M,R,O){return A=n(y,A||"width",!1,R,O),M=n(y,M||"height",!1,R,O),R&&(A==null||M==null)?null:new V(A,M)}function c(y,A,M){return y==="none"?null:A==="number"?parseFloat(y):A==="array"?y?y.split(/[\s,]+/g).map(parseFloat):[]:A==="color"?L(y)||y:A==="lookup"?M[y]:y}function g(y,A,M,R){var O=y.childNodes,U=A==="clippath",G=A==="defs",Y=new Le,J=Y._project,W=J._currentStyle,Q=[];if(!U&&!G&&(Y=E(Y,y,R),J._currentStyle=Y._style.clone()),R)for(var ie=y.querySelectorAll("defs"),ae=0,oe=ie.length;ae<oe;ae++)S(ie[ae],M,!1);for(var ae=0,oe=O.length;ae<oe;ae++){var ge=O[ae],Ae;ge.nodeType===1&&!/^defs$/i.test(ge.nodeName)&&(Ae=S(ge,M,!1))&&!(Ae instanceof Ne)&&Q.push(Ae)}return Y.addChildren(Q),U&&(Y=E(Y.reduce(),y,R)),J._currentStyle=W,(U||G)&&(Y.remove(),Y=null),Y}function d(y,A){for(var M=y.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),R=[],O=0,U=M.length;O<U;O+=2)R.push(new z(parseFloat(M[O]),parseFloat(M[O+1])));var G=new Ie(R);return A==="polygon"&&G.closePath(),G}function m(y){return Re.create(y.getAttribute("d"))}function _(y,A){var M=(n(y,"href",!0)||"").substring(1),R=A==="radialgradient",O;if(M)O=e[M].getGradient(),O._radial^R&&(O=O.clone(),O._radial=R);else{for(var U=y.childNodes,G=[],Y=0,J=U.length;Y<J;Y++){var W=U[Y];W.nodeType===1&&G.push(E(new Kt,W))}O=new rt(G,R)}var Q,ie,ae,oe=n(y,"gradientUnits",!0)!=="userSpaceOnUse";R?(Q=o(y,"cx","cy",!1,oe,"50%","50%"),ie=Q.add(n(y,"r",!1,!1,oe,"50%"),0),ae=o(y,"fx","fy",!0,oe)):(Q=o(y,"x1","y1",!1,oe,"0%","0%"),ie=o(y,"x2","y2",!1,oe,"100%","0%"));var ge=E(new Ve(O,Q,ie,ae),y);return ge._scaleToBounds=oe,null}var w={"#document":function(y,A,M,R){for(var O=y.childNodes,U=0,G=O.length;U<G;U++){var Y=O[U];if(Y.nodeType===1)return S(Y,M,R)}},g,svg:g,clippath:g,polygon:d,polyline:d,path:m,lineargradient:_,radialgradient:_,image:function(y){var A=new tt(n(y,"href",!0));return A.on("load",function(){var M=l(y);this.setSize(M);var R=o(y).add(M.divide(2));this._matrix.append(new ce().translate(R))}),A},symbol:function(y,A,M,R){return new Ne(g(y,A,M,R),!0)},defs:g,use:function(y){var A=(n(y,"href",!0)||"").substring(1),M=e[A],R=o(y);return M?M instanceof Ne?M.place(R):M.clone().translate(R):null},circle:function(y){return new Fe.Circle(o(y,"cx","cy"),n(y,"r"))},ellipse:function(y){return new Fe.Ellipse({center:o(y,"cx","cy"),radius:l(y,"rx","ry")})},rect:function(y){return new Fe.Rectangle(new se(o(y),l(y)),l(y,"rx","ry"))},line:function(y){return new Ie.Line(o(y,"x1","y1"),o(y,"x2","y2"))},text:function(y){var A=new gt(o(y).add(o(y,"dx","dy")));return A.setContent(y.textContent.trim()||""),A},switch:g};function C(y,A,M,R){if(y.transform){for(var O=(R.getAttribute(M)||"").split(/\)\s*/g),U=new ce,G=0,Y=O.length;G<Y;G++){var J=O[G];if(!J)break;for(var W=J.split(/\(\s*/),Q=W[0],ie=W[1].split(/[\s,]+/g),ae=0,oe=ie.length;ae<oe;ae++)ie[ae]=parseFloat(ie[ae]);switch(Q){case"matrix":U.append(new ce(ie[0],ie[1],ie[2],ie[3],ie[4],ie[5]));break;case"rotate":U.rotate(ie[0],ie[1]||0,ie[2]||0);break;case"translate":U.translate(ie[0],ie[1]||0);break;case"scale":U.scale(ie);break;case"skewX":U.skew(ie[0],0);break;case"skewY":U.skew(0,ie[0]);break}}y.transform(U)}}function x(y,A,M){var R=M==="fill-opacity"?"getFillColor":"getStrokeColor",O=y[R]&&y[R]();O&&O.setAlpha(parseFloat(A))}var b=p.set(p.each(Pt,function(y){this[y.attribute]=function(A,M){if(A[y.set]&&(A[y.set](c(M,y.type,y.fromSVG)),y.type==="color")){var R=A[y.get]();if(R&&R._scaleToBounds){var O=A.getBounds();R.transform(new ce().translate(O.getPoint()).scale(O.getSize()))}}}},{}),{id:function(y,A){e[A]=y,y.setName&&y.setName(A)},"clip-path":function(y,A){var M=L(A);if(M)if(M=M.clone(),M.setClipMask(!0),y instanceof Le)y.insertChild(0,M);else return new Le(M,y)},gradientTransform:C,transform:C,"fill-opacity":x,"stroke-opacity":x,visibility:function(y,A){y.setVisible&&y.setVisible(A==="visible")},display:function(y,A){y.setVisible&&y.setVisible(A!==null)},"stop-color":function(y,A){y.setColor&&y.setColor(A)},"stop-opacity":function(y,A){y._color&&y._color.setAlpha(parseFloat(A))},offset:function(y,A){if(y.setOffset){var M=A.match(/(.*)%$/);y.setOffset(M?M[1]/100:parseFloat(A))}},viewBox:function(y,A,M,R,O){var U=new se(c(A,"array")),G=l(R,null,null,!0),Y,J;if(y instanceof Le){var W=G?G.divide(U.getSize()):1,J=new ce().scale(W).translate(U.getPoint().negate());Y=y}else y instanceof Ne&&(G&&U.setSize(G),Y=y._item);if(Y){if(P(R,"overflow",O)!=="visible"){var Q=new Fe.Rectangle(U);Q.setClipMask(!0),Y.addChild(Q)}J&&Y.transform(J)}}});function P(y,A,M){var R=y.attributes[A],O=R&&R.value;if(!O&&y.style){var U=p.camelize(A);O=y.style[U],!O&&M.node[U]!==M.parent[U]&&(O=M.node[U])}return O?O==="none"?null:O:s}function E(y,A,M){var R=A.parentNode,O={node:Et.getStyles(A)||{},parent:!M&&!/^defs$/i.test(R.tagName)&&Et.getStyles(R)||{}};return p.each(b,function(U,G){var Y=P(A,G,O);y=Y!==s&&U(y,Y,G,A,O)||y}),y}function L(y){var A=y&&y.match(/\((?:["'#]*)([^"')]+)/),M=A&&A[1],R=M&&e[f?M.replace(f.location.href.split("#")[0]+"#",""):M];return R&&R._scaleToBounds&&(R=R.clone(),R._scaleToBounds=!0),R}function S(y,A,M){var R=y.nodeName.toLowerCase(),O=R!=="#document",U=T.body,G,Y,J;M&&O&&(i=He.getView().getSize(),i=l(y,null,null,!0)||i,G=et.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),Y=y.parentNode,J=y.nextSibling,G.appendChild(y),U.appendChild(G));var W=He.settings,Q=W.applyMatrix,ie=W.insertItems;W.applyMatrix=!1,W.insertItems=!1;var ae=w[R],oe=ae&&ae(y,R,A,M)||null;if(W.insertItems=ie,W.applyMatrix=Q,oe){O&&!(oe instanceof Le)&&(oe=E(oe,y,M));var ge=A.onImport,Ae=O&&y.getAttribute("data-paper-data");ge&&(oe=ge(y,oe,A)||oe),A.expandShapes&&oe instanceof Fe&&(oe.remove(),oe=oe.toPath()),Ae&&(oe._data=JSON.parse(Ae))}return G&&(U.removeChild(G),Y&&(J?Y.insertBefore(y,J):Y.appendChild(y))),M&&(e={},oe&&p.pick(A.applyMatrix,Q)&&oe.matrix.apply(!0,!0)),oe}function I(y,A,M){if(!y)return null;A=typeof A=="function"?{onLoad:A}:A||{};var R=He,O=null;function U(W){try{var Q=typeof W=="object"?W:new h.DOMParser().parseFromString(W.trim(),"image/svg+xml");if(!Q.nodeName)throw Q=null,new Error("Unsupported SVG source: "+y);He=R,O=S(Q,A,!0),(!A||A.insert!==!1)&&M._insertItem(s,O);var ie=A.onLoad;ie&&ie(O,W)}catch(ae){G(ae)}}function G(W,Q){var ie=A.onError;if(ie)ie(W,Q);else throw new Error(W)}if(typeof y=="string"&&!/^[\s\S]*</.test(y)){var Y=T.getElementById(y);Y?U(Y):ei.request({url:y,async:!0,onLoad:U,onError:G})}else if(typeof File!="undefined"&&y instanceof File){var J=new FileReader;return J.onload=function(){U(J.result)},J.onerror=function(){G(J.error)},J.readAsText(y)}else U(y);return O}Ce.inject({importSVG:function(y,A){return I(y,A,this)}}),ze.inject({importSVG:function(y,A){return this.activate(),I(y,A,this)}})},p.exports.PaperScript=function(){var e=this,i=e.acorn;if(!i&&typeof L0!="undefined")try{i=require("acorn")}catch(E){}if(!i){var n,o;i=n=o={},function(E,L){if(typeof n=="object"&&typeof o=="object")return L(n);if(typeof s=="function"&&s.amd)return s(["exports"],L);L(E.acorn||(E.acorn={}))}(this,function(E){E.version="0.5.0";var L,S,I,y;E.parse=function(q,Z){return S=String(q),I=S.length,M(Z),sa(),xl(L.program)};var A=E.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function M(q){L=q||{};for(var Z in A)Object.prototype.hasOwnProperty.call(L,Z)||(L[Z]=A[Z]);y=L.sourceFile||null}var R=E.getLineInfo=function(q,Z){for(var fe=1,ye=0;;){Yn.lastIndex=ye;var We=Yn.exec(q);if(We&&We.index<Z)++fe,ye=We.index+We[0].length;else break}return{line:fe,column:Z-ye}};E.tokenize=function(q,Z){S=String(q),I=S.length,M(Z),sa();var fe={};function ye(We){return Ae=G,Zn(We),fe.start=U,fe.end=G,fe.startLoc=Y,fe.endLoc=J,fe.type=W,fe.value=Q,fe}return ye.jumpTo=function(We,lt){if(O=We,L.locations){ae=1,oe=Yn.lastIndex=0;for(var vt;(vt=Yn.exec(S))&&vt.index<We;)++ae,oe=vt.index+vt[0].length}ie=lt,yr()},ye};var O,U,G,Y,J,W,Q,ie,ae,oe,ge,Ae,Me,De,Ye,we;function Se(q,Z){var fe=R(S,q);Z+=" ("+fe.line+":"+fe.column+")";var ye=new SyntaxError(Z);throw ye.pos=q,ye.loc=fe,ye.raisedAt=O,ye}var qe=[],Xe={type:"num"},je={type:"regexp"},nt={type:"string"},st={type:"name"},ut={type:"eof"},bt={keyword:"break"},pt={keyword:"case",beforeExpr:!0},ui={keyword:"catch"},ri={keyword:"continue"},pi={keyword:"debugger"},Qt={keyword:"default"},Vt={keyword:"do",isLoop:!0},ti={keyword:"else",beforeExpr:!0},Ii={keyword:"finally"},ci={keyword:"for",isLoop:!0},Di={keyword:"function"},vn={keyword:"if"},Hi={keyword:"return",beforeExpr:!0},Bi={keyword:"switch"},Pi={keyword:"throw",beforeExpr:!0},Li={keyword:"try"},en={keyword:"var"},Wi={keyword:"while",isLoop:!0},us={keyword:"with"},js={keyword:"new",beforeExpr:!0},Xs={keyword:"this"},cs={keyword:"null",atomValue:null},Ya={keyword:"true",atomValue:!0},Js={keyword:"false",atomValue:!1},_r={keyword:"in",binop:7,beforeExpr:!0},Br={break:bt,case:pt,catch:ui,continue:ri,debugger:pi,default:Qt,do:Vt,else:ti,finally:Ii,for:ci,function:Di,if:vn,return:Hi,switch:Bi,throw:Pi,try:Li,var:en,while:Wi,with:us,null:cs,true:Ya,false:Js,new:js,in:_r,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:Xs,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},yn={type:"[",beforeExpr:!0},Fr={type:"]"},Wn={type:"{",beforeExpr:!0},Gn={type:"}"},tn={type:"(",beforeExpr:!0},Gi={type:")"},hn={type:",",beforeExpr:!0},nn={type:";",beforeExpr:!0},vr={type:":",beforeExpr:!0},Qs={type:"."},ea={type:"?",beforeExpr:!0},hs={binop:10,beforeExpr:!0},ta={isAssign:!0,beforeExpr:!0},$n={isAssign:!0,beforeExpr:!0},cl={postfix:!0,prefix:!0,isUpdate:!0},Za={prefix:!0,beforeExpr:!0},fs={binop:1,beforeExpr:!0},Ka={binop:2,beforeExpr:!0},hl={binop:3,beforeExpr:!0},fl={binop:4,beforeExpr:!0},dl={binop:5,beforeExpr:!0},gl={binop:6,beforeExpr:!0},Zt={binop:7,beforeExpr:!0},$t={binop:8,beforeExpr:!0},pl={binop:9,prefix:!0,beforeExpr:!0},ml={binop:10,beforeExpr:!0};E.tokTypes={bracketL:yn,bracketR:Fr,braceL:Wn,braceR:Gn,parenL:tn,parenR:Gi,comma:hn,semi:nn,colon:vr,dot:Qs,question:ea,slash:hs,eq:ta,name:st,eof:ut,num:Xe,regexp:je,string:nt};for(var ja in Br)E.tokTypes["_"+ja]=Br[ja];function qr(q){q=q.split(" ");var Z="",fe=[];e:for(var ye=0;ye<q.length;++ye){for(var We=0;We<fe.length;++We)if(fe[We][0].length==q[ye].length){fe[We].push(q[ye]);continue e}fe.push([q[ye]])}function lt(wt){if(wt.length==1)return Z+="return str === "+JSON.stringify(wt[0])+";";Z+="switch(str){";for(var Mi=0;Mi<wt.length;++Mi)Z+="case "+JSON.stringify(wt[Mi])+":";Z+="return true}return false;"}if(fe.length>3){fe.sort(function(wt,Mi){return Mi.length-wt.length}),Z+="switch(str.length){";for(var ye=0;ye<fe.length;++ye){var vt=fe[ye];Z+="case "+vt[0].length+":",lt(vt)}Z+="}"}else lt(q);return new Function("str",Z)}var _l=qr("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),vl=qr("class enum extends super const export import"),ia=qr("implements interface let package private protected public static yield"),ds=qr("eval arguments"),_i=qr("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),na=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Pn="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Xa="\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u0620-\u0649\u0672-\u06D3\u06E7-\u06E8\u06FB-\u06FC\u0730-\u074A\u0800-\u0814\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0840-\u0857\u08E4-\u08FE\u0900-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09D7\u09DF-\u09E0\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5F-\u0B60\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C01-\u0C03\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62-\u0C63\u0C66-\u0C6F\u0C82\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2-\u0CE3\u0CE6-\u0CEF\u0D02\u0D03\u0D46-\u0D48\u0D57\u0D62-\u0D63\u0D66-\u0D6F\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E34-\u0E3A\u0E40-\u0E45\u0E50-\u0E59\u0EB4-\u0EB9\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F41-\u0F47\u0F71-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1029\u1040-\u1049\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u170E-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17B2\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1920-\u192B\u1930-\u193B\u1951-\u196D\u19B0-\u19C0\u19C8-\u19C9\u19D0-\u19D9\u1A00-\u1A15\u1A20-\u1A53\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1B46-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C00-\u1C22\u1C40-\u1C49\u1C5B-\u1C7D\u1CD0-\u1CD2\u1D00-\u1DBE\u1E01-\u1F15\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2D81-\u2D96\u2DE0-\u2DFF\u3021-\u3028\u3099\u309A\uA640-\uA66D\uA674-\uA67D\uA69F\uA6F0-\uA6F1\uA7F8-\uA800\uA806\uA80B\uA823-\uA827\uA880-\uA881\uA8B4-\uA8C4\uA8D0-\uA8D9\uA8F3-\uA8F7\uA900-\uA909\uA926-\uA92D\uA930-\uA945\uA980-\uA983\uA9B3-\uA9C0\uAA00-\uAA27\uAA40-\uAA41\uAA4C-\uAA4D\uAA50-\uAA59\uAA7B\uAAE0-\uAAE9\uAAF2-\uAAF3\uABC0-\uABE1\uABEC\uABED\uABF0-\uABF9\uFB20-\uFB28\uFE00-\uFE0F\uFE20-\uFE26\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",gs=new RegExp("["+Pn+"]"),$i=new RegExp("["+Pn+Xa+"]"),Ur=/[\n\r\u2028\u2029]/,Yn=/\r\n|[\n\r\u2028\u2029]/g,Vr=E.isIdentifierStart=function(q){return q<65?q===36:q<91?!0:q<97?q===95:q<123?!0:q>=170&&gs.test(String.fromCharCode(q))},ra=E.isIdentifierChar=function(q){return q<48?q===36:q<58?!0:q<65?!1:q<91?!0:q<97?q===95:q<123?!0:q>=170&&$i.test(String.fromCharCode(q))};function Ln(){this.line=ae,this.column=O-oe}function sa(){ae=1,O=oe=0,ie=!0,yr()}function qt(q,Z){G=O,L.locations&&(J=new Ln),W=q,yr(),Q=Z,ie=q.beforeExpr}function yl(){var q=L.onComment&&L.locations&&new Ln,Z=O,fe=S.indexOf("*/",O+=2);if(fe===-1&&Se(O-2,"Unterminated comment"),O=fe+2,L.locations){Yn.lastIndex=Z;for(var ye;(ye=Yn.exec(S))&&ye.index<O;)++ae,oe=ye.index+ye[0].length}L.onComment&&L.onComment(!0,S.slice(Z+2,fe),Z,O,q,L.locations&&new Ln)}function Oi(){for(var q=O,Z=L.onComment&&L.locations&&new Ln,fe=S.charCodeAt(O+=2);O<I&&fe!==10&&fe!==13&&fe!==8232&&fe!==8233;)++O,fe=S.charCodeAt(O);L.onComment&&L.onComment(!1,S.slice(q+2,O),q,O,Z,L.locations&&new Ln)}function yr(){for(;O<I;){var q=S.charCodeAt(O);if(q===32)++O;else if(q===13){++O;var Z=S.charCodeAt(O);Z===10&&++O,L.locations&&(++ae,oe=O)}else if(q===10||q===8232||q===8233)++O,L.locations&&(++ae,oe=O);else if(q>8&&q<14)++O;else if(q===47){var Z=S.charCodeAt(O+1);if(Z===42)yl();else if(Z===47)Oi();else break}else if(q===160)++O;else if(q>=5760&&na.test(String.fromCharCode(q)))++O;else break}}function Ja(){var q=S.charCodeAt(O+1);return q>=48&&q<=57?Kn(!0):(++O,qt(Qs))}function On(){var q=S.charCodeAt(O+1);return ie?(++O,Qa()):q===61?mi($n,2):mi(hs,1)}function ps(){var q=S.charCodeAt(O+1);return q===61?mi($n,2):mi(ml,1)}function aa(q){var Z=S.charCodeAt(O+1);return Z===q?mi(q===124?fs:Ka,2):Z===61?mi($n,2):mi(q===124?hl:dl,1)}function jt(){var q=S.charCodeAt(O+1);return q===61?mi($n,2):mi(fl,1)}function Mn(q){var Z=S.charCodeAt(O+1);return Z===q?Z==45&&S.charCodeAt(O+2)==62&&Ur.test(S.slice(Ae,O))?(O+=3,Oi(),yr(),Zn()):mi(cl,2):Z===61?mi($n,2):mi(pl,1)}function oa(q){var Z=S.charCodeAt(O+1),fe=1;return Z===q?(fe=q===62&&S.charCodeAt(O+2)===62?3:2,S.charCodeAt(O+fe)===61?mi($n,fe+1):mi($t,fe)):Z==33&&q==60&&S.charCodeAt(O+2)==45&&S.charCodeAt(O+3)==45?(O+=4,Oi(),yr(),Zn()):(Z===61&&(fe=S.charCodeAt(O+2)===61?3:2),mi(Zt,fe))}function bl(q){var Z=S.charCodeAt(O+1);return Z===61?mi(gl,S.charCodeAt(O+2)===61?3:2):mi(q===61?ta:Za,1)}function la(q){switch(q){case 46:return Ja();case 40:return++O,qt(tn);case 41:return++O,qt(Gi);case 59:return++O,qt(nn);case 44:return++O,qt(hn);case 91:return++O,qt(yn);case 93:return++O,qt(Fr);case 123:return++O,qt(Wn);case 125:return++O,qt(Gn);case 58:return++O,qt(vr);case 63:return++O,qt(ea);case 48:var Z=S.charCodeAt(O+1);if(Z===120||Z===88)return ms();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Kn(!1);case 34:case 39:return wl(q);case 47:return On();case 37:case 42:return ps();case 124:case 38:return aa(q);case 94:return jt();case 43:case 45:return Mn(q);case 60:case 62:return oa(q);case 61:case 33:return bl(q);case 126:return mi(Za,1)}return!1}function Zn(q){if(q?O=U+1:U=O,L.locations&&(Y=new Ln),q)return Qa();if(O>=I)return qt(ut);var Z=S.charCodeAt(O);if(Vr(Z)||Z===92)return vs();var fe=la(Z);if(fe===!1){var ye=String.fromCharCode(Z);if(ye==="\\"||gs.test(ye))return vs();Se(O,"Unexpected character '"+ye+"'")}return fe}function mi(q,Z){var fe=S.slice(O,O+Z);O+=Z,qt(q,fe)}function Qa(){for(var We="",q,Z,fe=O;;){O>=I&&Se(fe,"Unterminated regular expression");var ye=S.charAt(O);if(Ur.test(ye)&&Se(fe,"Unterminated regular expression"),q)q=!1;else{if(ye==="[")Z=!0;else if(ye==="]"&&Z)Z=!1;else if(ye==="/"&&!Z)break;q=ye==="\\"}++O}var We=S.slice(fe,O);++O;var lt=_s();lt&&!/^[gmsiy]*$/.test(lt)&&Se(fe,"Invalid regexp flag");try{var vt=new RegExp(We,lt)}catch(wt){wt instanceof SyntaxError&&Se(fe,wt.message),Se(wt)}return qt(je,vt)}function br(q,Z){for(var fe=O,ye=0,We=0,lt=Z==null?1/0:Z;We<lt;++We){var vt=S.charCodeAt(O),wt;if(vt>=97?wt=vt-97+10:vt>=65?wt=vt-65+10:vt>=48&&vt<=57?wt=vt-48:wt=1/0,wt>=q)break;++O,ye=ye*q+wt}return O===fe||Z!=null&&O-fe!==Z?null:ye}function ms(){O+=2;var q=br(16);return q==null&&Se(U+2,"Expected hexadecimal number"),Vr(S.charCodeAt(O))&&Se(O,"Identifier directly after number"),qt(Xe,q)}function Kn(q){var Z=O,fe=!1,ye=S.charCodeAt(O)===48;!q&&br(10)===null&&Se(Z,"Invalid number"),S.charCodeAt(O)===46&&(++O,br(10),fe=!0);var We=S.charCodeAt(O);(We===69||We===101)&&(We=S.charCodeAt(++O),(We===43||We===45)&&++O,br(10)===null&&Se(Z,"Invalid number"),fe=!0),Vr(S.charCodeAt(O))&&Se(O,"Identifier directly after number");var lt=S.slice(Z,O),vt;return fe?vt=parseFloat(lt):!ye||lt.length===1?vt=parseInt(lt,10):/[89]/.test(lt)||we?Se(Z,"Invalid number"):vt=parseInt(lt,8),qt(Xe,vt)}function wl(q){O++;for(var Z="";;){O>=I&&Se(U,"Unterminated string constant");var fe=S.charCodeAt(O);if(fe===q)return++O,qt(nt,Z);if(fe===92){fe=S.charCodeAt(++O);var ye=/^[0-7]+/.exec(S.slice(O,O+3));for(ye&&(ye=ye[0]);ye&&parseInt(ye,8)>255;)ye=ye.slice(0,-1);if(ye==="0"&&(ye=null),++O,ye)we&&Se(O-2,"Octal literal in strict mode"),Z+=String.fromCharCode(parseInt(ye,8)),O+=ye.length-1;else switch(fe){case 110:Z+=`
`;break;case 114:Z+="\r";break;case 120:Z+=String.fromCharCode(Hr(2));break;case 117:Z+=String.fromCharCode(Hr(4));break;case 85:Z+=String.fromCharCode(Hr(8));break;case 116:Z+="	";break;case 98:Z+="\b";break;case 118:Z+="\v";break;case 102:Z+="\f";break;case 48:Z+="\0";break;case 13:S.charCodeAt(O)===10&&++O;case 10:L.locations&&(oe=O,++ae);break;default:Z+=String.fromCharCode(fe);break}}else(fe===13||fe===10||fe===8232||fe===8233)&&Se(U,"Unterminated string constant"),Z+=String.fromCharCode(fe),++O}}function Hr(q){var Z=br(16,q);return Z===null&&Se(U,"Bad character escape sequence"),Z}var jn;function _s(){jn=!1;for(var q,Z=!0,fe=O;;){var ye=S.charCodeAt(O);if(ra(ye))jn&&(q+=S.charAt(O)),++O;else if(ye===92){jn||(q=S.slice(fe,O)),jn=!0,S.charCodeAt(++O)!=117&&Se(O,"Expecting Unicode escape sequence \\uXXXX"),++O;var We=Hr(4),lt=String.fromCharCode(We);lt||Se(O-1,"Invalid Unicode escape"),(Z?Vr(We):ra(We))||Se(O-4,"Invalid Unicode escape"),q+=lt}else break;Z=!1}return jn?q:S.slice(fe,O)}function vs(){var q=_s(),Z=st;return!jn&&_i(q)&&(Z=Br[q]),qt(Z,q)}function Ot(){ge=U,Ae=G,Me=J,Zn()}function ua(q){if(we=q,O=U,L.locations)for(;O<oe;)oe=S.lastIndexOf(`
`,oe-2)+1,--ae;yr(),Zn()}function ys(){this.type=null,this.start=U,this.end=null}function bs(){this.start=Y,this.end=null,y!==null&&(this.source=y)}function vi(){var q=new ys;return L.locations&&(q.loc=new bs),L.directSourceFile&&(q.sourceFile=L.directSourceFile),L.ranges&&(q.range=[U,0]),q}function bn(q){var Z=new ys;return Z.start=q.start,L.locations&&(Z.loc=new bs,Z.loc.start=q.loc.start),L.ranges&&(Z.range=[q.range[0],0]),Z}function at(q,Z){return q.type=Z,q.end=Ae,L.locations&&(q.loc.end=Me),L.ranges&&(q.range[1]=Ae),q}function Wr(q){return L.ecmaVersion>=5&&q.type==="ExpressionStatement"&&q.expression.type==="Literal"&&q.expression.value==="use strict"}function Wt(q){if(W===q)return Ot(),!0}function Gr(){return!L.strictSemicolons&&(W===ut||W===Gn||Ur.test(S.slice(Ae,U)))}function zn(){!Wt(nn)&&!Gr()&&wn()}function si(q){W===q?Ot():wn()}function wn(){Se(U,"Unexpected token")}function ws(q){q.type!=="Identifier"&&q.type!=="MemberExpression"&&Se(q.start,"Assigning to rvalue"),we&&q.type==="Identifier"&&ds(q.name)&&Se(q.start,"Assigning to "+q.name+" in strict mode")}function xl(q){ge=Ae=O,L.locations&&(Me=new Ln),De=we=null,Ye=[],Zn();var Z=q||vi(),fe=!0;for(q||(Z.body=[]);W!==ut;){var ye=rn();Z.body.push(ye),fe&&Wr(ye)&&ua(!0),fe=!1}return at(Z,"Program")}var ca={kind:"loop"},wr={kind:"switch"};function rn(){(W===hs||W===$n&&Q=="/=")&&Zn(!0);var q=W,Z=vi();switch(q){case bt:case ri:Ot();var fe=q===bt;Wt(nn)||Gr()?Z.label=null:W!==st?wn():(Z.label=pe(),zn());for(var ye=0;ye<Ye.length;++ye){var We=Ye[ye];if((Z.label==null||We.name===Z.label.name)&&(We.kind!=null&&(fe||We.kind==="loop")||Z.label&&fe))break}return ye===Ye.length&&Se(Z.start,"Unsyntactic "+q.keyword),at(Z,fe?"BreakStatement":"ContinueStatement");case pi:return Ot(),zn(),at(Z,"DebuggerStatement");case Vt:return Ot(),Ye.push(ca),Z.body=rn(),Ye.pop(),si(Wi),Z.test=$r(),zn(),at(Z,"DoWhileStatement");case ci:if(Ot(),Ye.push(ca),si(tn),W===nn)return xs(Z,null);if(W===en){var lt=vi();return Ot(),Yr(lt,!0),at(lt,"VariableDeclaration"),lt.declarations.length===1&&Wt(_r)?xn(Z,lt):xs(Z,lt)}var lt=xi(!1,!0);return Wt(_r)?(ws(lt),xn(Z,lt)):xs(Z,lt);case Di:return Ot(),le(Z,!0);case vn:return Ot(),Z.test=$r(),Z.consequent=rn(),Z.alternate=Wt(ti)?rn():null,at(Z,"IfStatement");case Hi:return!De&&!L.allowReturnOutsideFunction&&Se(U,"'return' outside of function"),Ot(),Wt(nn)||Gr()?Z.argument=null:(Z.argument=xi(),zn()),at(Z,"ReturnStatement");case Bi:Ot(),Z.discriminant=$r(),Z.cases=[],si(Wn),Ye.push(wr);for(var vt,wt;W!=Gn;)if(W===pt||W===Qt){var Mi=W===pt;vt&&at(vt,"SwitchCase"),Z.cases.push(vt=vi()),vt.consequent=[],Ot(),Mi?vt.test=xi():(wt&&Se(ge,"Multiple default clauses"),wt=!0,vt.test=null),si(vr)}else vt||wn(),vt.consequent.push(rn());return vt&&at(vt,"SwitchCase"),Ot(),Ye.pop(),at(Z,"SwitchStatement");case Pi:return Ot(),Ur.test(S.slice(Ae,U))&&Se(Ae,"Illegal newline after throw"),Z.argument=xi(),zn(),at(Z,"ThrowStatement");case Li:if(Ot(),Z.block=Xn(),Z.handler=null,W===ui){var Qn=vi();Ot(),si(tn),Qn.param=pe(),we&&ds(Qn.param.name)&&Se(Qn.param.start,"Binding "+Qn.param.name+" in strict mode"),si(Gi),Qn.guard=null,Qn.body=Xn(),Z.handler=at(Qn,"CatchClause")}return Z.guardedHandlers=qe,Z.finalizer=Wt(Ii)?Xn():null,!Z.handler&&!Z.finalizer&&Se(Z.start,"Missing catch or finally clause"),at(Z,"TryStatement");case en:return Ot(),Yr(Z),zn(),at(Z,"VariableDeclaration");case Wi:return Ot(),Z.test=$r(),Ye.push(ca),Z.body=rn(),Ye.pop(),at(Z,"WhileStatement");case us:return we&&Se(U,"'with' in strict mode"),Ot(),Z.object=$r(),Z.body=rn(),at(Z,"WithStatement");case Wn:return Xn();case nn:return Ot(),at(Z,"EmptyStatement");default:var Nn=Q,er=xi();if(q===st&&er.type==="Identifier"&&Wt(vr)){for(var ye=0;ye<Ye.length;++ye)Ye[ye].name===Nn&&Se(er.start,"Label '"+Nn+"' is already declared");var Ss=W.isLoop?"loop":W===Bi?"switch":null;return Ye.push({name:Nn,kind:Ss}),Z.body=rn(),Ye.pop(),Z.label=er,at(Z,"LabeledStatement")}else return Z.expression=er,zn(),at(Z,"ExpressionStatement")}}function $r(){si(tn);var q=xi();return si(Gi),q}function Xn(q){var Z=vi(),fe=!0,ye=!1,We;for(Z.body=[],si(Wn);!Wt(Gn);){var lt=rn();Z.body.push(lt),fe&&q&&Wr(lt)&&(We=ye,ua(ye=!0)),fe=!1}return ye&&!We&&ua(!1),at(Z,"BlockStatement")}function xs(q,Z){return q.init=Z,si(nn),q.test=W===nn?null:xi(),si(nn),q.update=W===Gi?null:xi(),si(Gi),q.body=rn(),Ye.pop(),at(q,"ForStatement")}function xn(q,Z){return q.left=Z,q.right=xi(),si(Gi),q.body=rn(),Ye.pop(),at(q,"ForInStatement")}function Yr(q,Z){for(q.declarations=[],q.kind="var";;){var fe=vi();if(fe.id=pe(),we&&ds(fe.id.name)&&Se(fe.id.start,"Binding "+fe.id.name+" in strict mode"),fe.init=Wt(ta)?xi(!0,Z):null,q.declarations.push(at(fe,"VariableDeclarator")),!Wt(hn))break}return q}function xi(q,Z){var fe=ha(Z);if(!q&&W===hn){var ye=bn(fe);for(ye.expressions=[fe];Wt(hn);)ye.expressions.push(ha(Z));return at(ye,"SequenceExpression")}return fe}function ha(q){var Z=Cl(q);if(W.isAssign){var fe=bn(Z);return fe.operator=Q,fe.left=Z,Ot(),fe.right=ha(q),ws(Z),at(fe,"AssignmentExpression")}return Z}function Cl(q){var Z=xr(q);if(Wt(ea)){var fe=bn(Z);return fe.test=Z,fe.consequent=xi(!0),si(vr),fe.alternate=xi(!0,q),at(fe,"ConditionalExpression")}return Z}function xr(q){return Fi(Cs(),-1,q)}function Fi(q,Z,fe){var ye=W.binop;if(ye!=null&&(!fe||W!==_r)&&ye>Z){var We=bn(q);We.left=q,We.operator=Q;var lt=W;Ot(),We.right=Fi(Cs(),ye,fe);var vt=at(We,lt===fs||lt===Ka?"LogicalExpression":"BinaryExpression");return Fi(vt,Z,fe)}return q}function Cs(){if(W.prefix){var q=vi(),Z=W.isUpdate;return q.operator=Q,q.prefix=!0,ie=!0,Ot(),q.argument=Cs(),Z?ws(q.argument):we&&q.operator==="delete"&&q.argument.type==="Identifier"&&Se(q.start,"Deleting local variable in strict mode"),at(q,Z?"UpdateExpression":"UnaryExpression")}for(var fe=Sl();W.postfix&&!Gr();){var q=bn(fe);q.operator=Q,q.prefix=!1,q.argument=fe,ws(fe),Ot(),fe=at(q,"UpdateExpression")}return fe}function Sl(){return Zr(fa())}function Zr(q,Z){if(Wt(Qs)){var fe=bn(q);return fe.object=q,fe.property=pe(!0),fe.computed=!1,Zr(at(fe,"MemberExpression"),Z)}else if(Wt(yn)){var fe=bn(q);return fe.object=q,fe.property=xi(),fe.computed=!0,si(Fr),Zr(at(fe,"MemberExpression"),Z)}else if(!Z&&Wt(tn)){var fe=bn(q);return fe.callee=q,fe.arguments=xe(Gi,!1),Zr(at(fe,"CallExpression"),Z)}else return q}function fa(){switch(W){case Xs:var ye=vi();return Ot(),at(ye,"ThisExpression");case st:return pe();case Xe:case nt:case je:var ye=vi();return ye.value=Q,ye.raw=S.slice(U,G),Ot(),at(ye,"Literal");case cs:case Ya:case Js:var ye=vi();return ye.value=W.atomValue,ye.raw=W.keyword,Ot(),at(ye,"Literal");case tn:var q=Y,Z=U;Ot();var fe=xi();return fe.start=Z,fe.end=G,L.locations&&(fe.loc.start=q,fe.loc.end=J),L.ranges&&(fe.range=[Z,G]),si(Gi),fe;case yn:var ye=vi();return Ot(),ye.elements=xe(Fr,!0,!0),at(ye,"ArrayExpression");case Wn:return kl();case Di:var ye=vi();return Ot(),le(ye,!1);case js:return Tl();default:wn()}}function Tl(){var q=vi();return Ot(),q.callee=Zr(fa(),!0),Wt(tn)?q.arguments=xe(Gi,!1):q.arguments=qe,at(q,"NewExpression")}function kl(){var q=vi(),Z=!0,fe=!1;for(q.properties=[],Ot();!Wt(Gn);){if(Z)Z=!1;else if(si(hn),L.allowTrailingCommas&&Wt(Gn))break;var ye={key:Jn()},We=!1,lt;if(Wt(vr)?(ye.value=xi(!0),lt=ye.kind="init"):L.ecmaVersion>=5&&ye.key.type==="Identifier"&&(ye.key.name==="get"||ye.key.name==="set")?(We=fe=!0,lt=ye.kind=ye.key.name,ye.key=Jn(),W!==tn&&wn(),ye.value=le(vi(),!1)):wn(),ye.key.type==="Identifier"&&(we||fe))for(var vt=0;vt<q.properties.length;++vt){var wt=q.properties[vt];if(wt.key.name===ye.key.name){var Mi=lt==wt.kind||We&&wt.kind==="init"||lt==="init"&&(wt.kind==="get"||wt.kind==="set");Mi&&!we&&lt==="init"&&wt.kind==="init"&&(Mi=!1),Mi&&Se(ye.key.start,"Redefinition of property")}}q.properties.push(ye)}return at(q,"ObjectExpression")}function Jn(){return W===Xe||W===nt?fa():pe(!0)}function le(q,Z){W===st?q.id=pe():Z?wn():q.id=null,q.params=[];var fe=!0;for(si(tn);!Wt(Gi);)fe?fe=!1:si(hn),q.params.push(pe());var ye=De,We=Ye;if(De=!0,Ye=[],q.body=Xn(!0),De=ye,Ye=We,we||q.body.body.length&&Wr(q.body.body[0]))for(var lt=q.id?-1:0;lt<q.params.length;++lt){var vt=lt<0?q.id:q.params[lt];if((ia(vt.name)||ds(vt.name))&&Se(vt.start,"Defining '"+vt.name+"' in strict mode"),lt>=0)for(var wt=0;wt<lt;++wt)vt.name===q.params[wt].name&&Se(vt.start,"Argument name clash in strict mode")}return at(q,Z?"FunctionDeclaration":"FunctionExpression")}function xe(q,Z,fe){for(var ye=[],We=!0;!Wt(q);){if(We)We=!1;else if(si(hn),Z&&L.allowTrailingCommas&&Wt(q))break;fe&&W===hn?ye.push(null):ye.push(xi(!0))}return ye}function pe(q){var Z=vi();return q&&L.forbidReserved=="everywhere"&&(q=!1),W===st?(!q&&(L.forbidReserved&&(L.ecmaVersion===3?_l:vl)(Q)||we&&ia(Q))&&S.slice(U,G).indexOf("\\")==-1&&Se(U,"The keyword '"+Q+"' is reserved"),Z.name=Q):q&&W.keyword?Z.name=W.keyword:wn(),ie=!1,Ot(),at(Z,"Identifier")}}),i.version||(i=null)}function l(E,L){return(e.acorn||i).parse(E,L)}var c={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},g={"-":"__negate","+":"__self"},d=p.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(E){this["__"+E]="#"+E},{__self:function(){return this}});z.inject(d),V.inject(d),Ve.inject(d);function m(E,L,S){var I=c[L];if(E&&E[I]){var y=E[I](S);return L==="!="?!y:y}switch(L){case"+":return E+S;case"-":return E-S;case"*":return E*S;case"/":return E/S;case"%":return E%S;case"==":return E==S;case"!=":return E!=S}}function _(E,L){var S=g[E];if(L&&L[S])return L[S]();switch(E){case"+":return+L;case"-":return-L}}function w(E,L){if(!E)return"";L=L||{};var S=[];function I(we){for(var Se=0,qe=S.length;Se<qe;Se++){var Xe=S[Se];if(Xe[0]>=we)break;we+=Xe[1]}return we}function y(we){return E.substring(I(we.range[0]),I(we.range[1]))}function A(we,Se){return E.substring(I(we.range[1]),I(Se.range[0]))}function M(we,Se){for(var qe=I(we.range[0]),Xe=I(we.range[1]),je=0,nt=S.length-1;nt>=0;nt--)if(qe>S[nt][0]){je=nt+1;break}S.splice(je,0,[qe,Se.length-Xe+qe]),E=E.substring(0,qe)+Se+E.substring(Xe)}function R(we,Se){switch(we.type){case"UnaryExpression":if(we.operator in g&&we.argument.type!=="Literal"){var qe=y(we.argument);M(we,'$__("'+we.operator+'", '+qe+")")}break;case"BinaryExpression":if(we.operator in c&&we.left.type!=="Literal"){var Xe=y(we.left),je=y(we.right),nt=A(we.left,we.right),st=we.operator;M(we,"__$__("+Xe+","+nt.replace(new RegExp("\\"+st),'"'+st+'"')+", "+je+")")}break;case"UpdateExpression":case"AssignmentExpression":var ut=Se&&Se.type;if(!(ut==="ForStatement"||ut==="BinaryExpression"&&/^[=!<>]/.test(Se.operator)||ut==="MemberExpression"&&Se.computed)){if(we.type==="UpdateExpression"){var qe=y(we.argument),bt="__$__("+qe+', "'+we.operator[0]+'", 1)',pt=qe+" = "+bt;we.prefix?pt="("+pt+")":(ut==="AssignmentExpression"||ut==="VariableDeclarator"||ut==="BinaryExpression")&&(y(Se.left||Se.id)===qe&&(pt=bt),pt=qe+"; "+pt),M(we,pt)}else if(/^.=$/.test(we.operator)&&we.left.type!=="Literal"){var Xe=y(we.left),je=y(we.right),bt=Xe+" = __$__("+Xe+', "'+we.operator[0]+'", '+je+")";M(we,/^\(.*\)$/.test(y(we))?"("+bt+")":bt)}}break}}function O(we){switch(we.type){case"ExportDefaultDeclaration":M({range:[we.start,we.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var Se=we.declaration,qe=we.specifiers;if(Se){var Xe=Se.declarations;Xe&&(Xe.forEach(function(nt){M(nt,"module.exports."+y(nt))}),M({range:[we.start,Se.start+Se.kind.length]},""))}else if(qe){var je=qe.map(function(nt){var st=y(nt);return"module.exports."+st+" = "+st+"; "}).join("");je&&M(we,je)}break}}function U(we,Se,qe){if(we){for(var Xe in we)if(Xe!=="range"&&Xe!=="loc"){var je=we[Xe];if(Array.isArray(je))for(var nt=0,st=je.length;nt<st;nt++)U(je[nt],we,qe);else je&&typeof je=="object"&&U(je,we,qe)}qe.operatorOverloading!==!1&&R(we,Se),qe.moduleExports!==!1&&O(we)}}function G(we){var Se="",qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(we=(Math.abs(we)<<1)+(we<0?1:0);we||!Se;){var Xe=we&31;we>>=5,we&&(Xe|=32),Se+=qe[Xe]}return Se}var Y=L.url||"",J=L.sourceMaps,W=L.paperFeatures||{},Q=L.source||E,ie=L.offset||0,ae=He.agent,oe=ae.versionNumber,ge=!1,Ae=/\r\n|\n|\r/mg,Me;if(J&&(ae.chrome&&oe>=30||ae.webkit&&oe>=537.76||ae.firefox&&oe>=23||ae.node)){if(ae.node)ie-=2;else if(f&&Y&&!f.location.href.indexOf(Y)){var De=T.getElementsByTagName("html")[0].innerHTML;ie=De.substr(0,De.indexOf(E)+1).match(Ae).length+1}ge=ie>0&&!(ae.chrome&&oe>=36||ae.safari&&oe>=600||ae.firefox&&oe>=40||ae.node);var Ye=["AA"+G(ge?0:ie)+"A"];Ye.length=(E.match(Ae)||[]).length+1+(ge?ie:0),Me={version:3,file:Y,names:[],mappings:Ye.join(";AACA"),sourceRoot:"",sources:[Y],sourcesContent:[Q]}}return(W.operatorOverloading!==!1||W.moduleExports!==!1)&&U(l(E,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,W),Me&&(ge&&(E=new Array(ie+1).join(`
`)+E),/^(inline|both)$/.test(J)&&(E+=`
//# sourceMappingURL=data:application/json;base64,`+h.btoa(unescape(encodeURIComponent(JSON.stringify(Me))))),E+=`
//# sourceURL=`+(Y||"paperscript")),{url:Y,source:Q,code:E,map:Me}}function C(E,L,S){He=L;var I=L.getView(),y=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(E)&&!/\bnew\s+Tool\b/.test(E)?new In:null,A=y?y._events:[],M=["onFrame","onResize"].concat(A),R=[],O=[],U,G=typeof E=="object"?E:w(E,S);E=G.code;function Y(oe,ge){for(var Ae in oe)(ge||!/^_/.test(Ae))&&new RegExp("([\\b\\s\\W]|^)"+Ae.replace(/\$/g,"\\$")+"\\b").test(E)&&(R.push(Ae),O.push(oe[Ae]))}Y({__$__:m,$__:_,paper:L,tool:y},!0),Y(L),E="var module = { exports: {} }; "+E;var ie=p.each(M,function(oe){new RegExp("\\s+"+oe+"\\b").test(E)&&(R.push(oe),this.push("module.exports."+oe+" = "+oe+";"))},[]).join(`
`);ie&&(E+=`
`+ie),E+=`
return module.exports;`;var J=He.agent;if(T&&(J.chrome||J.firefox&&J.versionNumber<40)){var W=T.createElement("script"),Q=T.head||T.getElementsByTagName("head")[0];J.firefox&&(E=`
`+E),W.appendChild(T.createTextNode("document.__paperscript__ = function("+R+") {"+E+`
}`)),Q.appendChild(W),U=T.__paperscript__,delete T.__paperscript__,Q.removeChild(W)}else U=Function(R,E);var ie=U&&U.apply(L,O),ae=ie||{};return p.each(A,function(oe){var ge=ae[oe];ge&&(y[oe]=ge)}),I&&(ae.onResize&&I.setOnResize(ae.onResize),I.emit("resize",{size:I.size,delta:new z}),ae.onFrame&&I.setOnFrame(ae.onFrame),I.requestUpdate()),ie}function x(E){if(/^text\/(?:x-|)paperscript$/.test(E.type)&&D.getAttribute(E,"ignore")!=="true"){var L=D.getAttribute(E,"canvas"),S=T.getElementById(L),I=E.src||E.getAttribute("data-src"),y=D.hasAttribute(E,"async"),A="data-paper-scope";if(!S)throw new Error('Unable to find canvas with id "'+L+'"');var M=D.get(S.getAttribute(A))||new D().setup(S);return S.setAttribute(A,M._id),I?ei.request({url:I,async:y,mimeType:"text/plain",onLoad:function(R){C(R,M,I)}}):C(E.innerHTML,M,E.baseURI),E.setAttribute("data-paper-ignore","true"),M}}function b(){p.each(T&&T.getElementsByTagName("script"),x)}function P(E){return E?x(E):b()}return f&&(T.readyState==="complete"?setTimeout(b):Ft.add(f,{load:b})),{compile:w,execute:C,load:P,parse:l,calculateBinary:m,calculateUnary:_}}.call(this);var He=new(D.inject(p.exports,{Base:p,Numerical:ue,Key:Rt,DomEvent:Ft,DomElement:Et,document:T,window:f,Symbol:Ne,PlacedSymbol:Oe}));return He.agent.node&&xf(He),typeof s=="function"&&s.amd?s("paper",He):a&&(a.exports=He),He}).call(rs,typeof self=="object"?self:null)})(Sd);var Ct=Sd.exports,Vu={exports:{}};(function(a,h){(function(s,f){var T="1.0.32",p="",k="?",D="function",X="undefined",te="object",ne="string",ue="major",H="model",z="name",K="type",V="vendor",ee="version",se="architecture",de="console",ce="mobile",me="tablet",ze="smarttv",Ce="wearable",Le="embedded",$e=350,Fe="Amazon",tt="Apple",Oe="ASUS",Ne="BlackBerry",Qe="Browser",Te="Chrome",It="Edge",_e="Firefox",ht="Google",Re="Huawei",Ie="LG",ve="Microsoft",Be="Motorola",be="Opera",Ue="Samsung",gt="Sharp",Ve="Sony",rt="Xiaomi",Kt="Zebra",Xt="Facebook",Et=function(et,Pt){var He={};for(var e in et)Pt[e]&&Pt[e].length%2===0?He[e]=Pt[e].concat(et[e]):He[e]=et[e];return He},Ft=function(et){for(var Pt={},He=0;He<et.length;He++)Pt[et[He].toUpperCase()]=et[He];return Pt},Nt=function(et,Pt){return typeof et===ne?Ti(Pt).indexOf(Ti(et))!==-1:!1},Ti=function(et){return et.toLowerCase()},Je=function(et){return typeof et===ne?et.replace(/[^\d\.]/g,p).split(".")[0]:f},_t=function(et,Pt){if(typeof et===ne)return et=et.replace(/^\s\s*/,p).replace(/\s\s*$/,p),typeof Pt===X?et:et.substring(0,$e)},Rt=function(et,Pt){for(var He=0,e,i,n,o,l,c;He<Pt.length&&!l;){var g=Pt[He],d=Pt[He+1];for(e=i=0;e<g.length&&!l;)if(l=g[e++].exec(et),l)for(n=0;n<d.length;n++)c=l[++i],o=d[n],typeof o===te&&o.length>0?o.length===2?typeof o[1]==D?this[o[0]]=o[1].call(this,c):this[o[0]]=o[1]:o.length===3?typeof o[1]===D&&!(o[1].exec&&o[1].test)?this[o[0]]=c?o[1].call(this,c,o[2]):f:this[o[0]]=c?c.replace(o[1],o[2]):f:o.length===4&&(this[o[0]]=c?o[3].call(this,c.replace(o[1],o[2])):f):this[o]=c||f;He+=2}},gi=function(et,Pt){for(var He in Pt)if(typeof Pt[He]===te&&Pt[He].length>0){for(var e=0;e<Pt[He].length;e++)if(Nt(Pt[He][e],et))return He===k?f:He}else if(Nt(Pt[He],et))return He===k?f:He;return et},wi={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},In={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},mr={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[ee,[z,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[ee,[z,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[z,ee],[/opios[\/ ]+([\w\.]+)/i],[ee,[z,be+" Mini"]],[/\bopr\/([\w\.]+)/i],[ee,[z,be]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[z,ee],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[ee,[z,"UC"+Qe]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[ee,[z,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[ee,[z,"WeChat"]],[/konqueror\/([\w\.]+)/i],[ee,[z,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[ee,[z,"IE"]],[/yabrowser\/([\w\.]+)/i],[ee,[z,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[z,/(.+)/,"$1 Secure "+Qe],ee],[/\bfocus\/([\w\.]+)/i],[ee,[z,_e+" Focus"]],[/\bopt\/([\w\.]+)/i],[ee,[z,be+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[ee,[z,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[ee,[z,"Dolphin"]],[/coast\/([\w\.]+)/i],[ee,[z,be+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[ee,[z,"MIUI "+Qe]],[/fxios\/([-\w\.]+)/i],[ee,[z,_e]],[/\bqihu|(qi?ho?o?|360)browser/i],[[z,"360 "+Qe]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[z,/(.+)/,"$1 "+Qe],ee],[/(comodo_dragon)\/([\w\.]+)/i],[[z,/_/g," "],ee],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[z,ee],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[z],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[z,Xt],ee],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[z,ee],[/\bgsa\/([\w\.]+) .*safari\//i],[ee,[z,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[ee,[z,Te+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[z,Te+" WebView"],ee],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[ee,[z,"Android "+Qe]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[z,ee],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[ee,[z,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[ee,z],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[z,[ee,gi,wi]],[/(webkit|khtml)\/([\w\.]+)/i],[z,ee],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[z,"Netscape"],ee],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[ee,[z,_e+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[z,ee]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[se,"amd64"]],[/(ia32(?=;))/i],[[se,Ti]],[/((?:i[346]|x)86)[;\)]/i],[[se,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[se,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[se,"armhf"]],[/windows (ce|mobile); ppc;/i],[[se,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[se,/ower/,p,Ti]],[/(sun4\w)[;\)]/i],[[se,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[se,Ti]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[H,[V,Ue],[K,me]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[H,[V,Ue],[K,ce]],[/\((ip(?:hone|od)[\w ]*);/i],[H,[V,tt],[K,ce]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[H,[V,tt],[K,me]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[H,[V,Re],[K,me]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[H,[V,Re],[K,ce]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[H,/_/g," "],[V,rt],[K,ce]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[H,/_/g," "],[V,rt],[K,me]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[H,[V,"OPPO"],[K,ce]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[H,[V,"Vivo"],[K,ce]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[H,[V,"Realme"],[K,ce]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[H,[V,Be],[K,ce]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[H,[V,Be],[K,me]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[H,[V,Ie],[K,me]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[H,[V,Ie],[K,ce]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[H,[V,"Lenovo"],[K,me]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[H,/_/g," "],[V,"Nokia"],[K,ce]],[/(pixel c)\b/i],[H,[V,ht],[K,me]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[H,[V,ht],[K,ce]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[H,[V,Ve],[K,ce]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[H,"Xperia Tablet"],[V,Ve],[K,me]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[H,[V,"OnePlus"],[K,ce]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[H,[V,Fe],[K,me]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[H,/(.+)/g,"Fire Phone $1"],[V,Fe],[K,ce]],[/(playbook);[-\w\),; ]+(rim)/i],[H,V,[K,me]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[H,[V,Ne],[K,ce]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[H,[V,Oe],[K,me]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[H,[V,Oe],[K,ce]],[/(nexus 9)/i],[H,[V,"HTC"],[K,me]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[V,[H,/_/g," "],[K,ce]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[H,[V,"Acer"],[K,me]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[H,[V,"Meizu"],[K,ce]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[H,[V,gt],[K,ce]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[V,H,[K,ce]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[V,H,[K,me]],[/(surface duo)/i],[H,[V,ve],[K,me]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[H,[V,"Fairphone"],[K,ce]],[/(u304aa)/i],[H,[V,"AT&T"],[K,ce]],[/\bsie-(\w*)/i],[H,[V,"Siemens"],[K,ce]],[/\b(rct\w+) b/i],[H,[V,"RCA"],[K,me]],[/\b(venue[\d ]{2,7}) b/i],[H,[V,"Dell"],[K,me]],[/\b(q(?:mv|ta)\w+) b/i],[H,[V,"Verizon"],[K,me]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[H,[V,"Barnes & Noble"],[K,me]],[/\b(tm\d{3}\w+) b/i],[H,[V,"NuVision"],[K,me]],[/\b(k88) b/i],[H,[V,"ZTE"],[K,me]],[/\b(nx\d{3}j) b/i],[H,[V,"ZTE"],[K,ce]],[/\b(gen\d{3}) b.+49h/i],[H,[V,"Swiss"],[K,ce]],[/\b(zur\d{3}) b/i],[H,[V,"Swiss"],[K,me]],[/\b((zeki)?tb.*\b) b/i],[H,[V,"Zeki"],[K,me]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[V,"Dragon Touch"],H,[K,me]],[/\b(ns-?\w{0,9}) b/i],[H,[V,"Insignia"],[K,me]],[/\b((nxa|next)-?\w{0,9}) b/i],[H,[V,"NextBook"],[K,me]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[V,"Voice"],H,[K,ce]],[/\b(lvtel\-)?(v1[12]) b/i],[[V,"LvTel"],H,[K,ce]],[/\b(ph-1) /i],[H,[V,"Essential"],[K,ce]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[H,[V,"Envizen"],[K,me]],[/\b(trio[-\w\. ]+) b/i],[H,[V,"MachSpeed"],[K,me]],[/\btu_(1491) b/i],[H,[V,"Rotor"],[K,me]],[/(shield[\w ]+) b/i],[H,[V,"Nvidia"],[K,me]],[/(sprint) (\w+)/i],[V,H,[K,ce]],[/(kin\.[onetw]{3})/i],[[H,/\./g," "],[V,ve],[K,ce]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[H,[V,Kt],[K,me]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[H,[V,Kt],[K,ce]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[V,H,[K,de]],[/droid.+; (shield) bui/i],[H,[V,"Nvidia"],[K,de]],[/(playstation [345portablevi]+)/i],[H,[V,Ve],[K,de]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[H,[V,ve],[K,de]],[/smart-tv.+(samsung)/i],[V,[K,ze]],[/hbbtv.+maple;(\d+)/i],[[H,/^/,"SmartTV"],[V,Ue],[K,ze]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[V,Ie],[K,ze]],[/(apple) ?tv/i],[V,[H,tt+" TV"],[K,ze]],[/crkey/i],[[H,Te+"cast"],[V,ht],[K,ze]],[/droid.+aft(\w)( bui|\))/i],[H,[V,Fe],[K,ze]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[H,[V,gt],[K,ze]],[/(bravia[\w ]+)( bui|\))/i],[H,[V,Ve],[K,ze]],[/(mitv-\w{5}) bui/i],[H,[V,rt],[K,ze]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[V,_t],[H,_t],[K,ze]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[K,ze]],[/((pebble))app/i],[V,H,[K,Ce]],[/droid.+; (glass) \d/i],[H,[V,ht],[K,Ce]],[/droid.+; (wt63?0{2,3})\)/i],[H,[V,Kt],[K,Ce]],[/(quest( 2)?)/i],[H,[V,Xt],[K,Ce]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[V,[K,Le]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[H,[K,ce]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[H,[K,me]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[K,me]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[K,ce]],[/(android[-\w\. ]{0,9});.+buil/i],[H,[V,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[ee,[z,It+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[ee,[z,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[z,ee],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[ee,z]],os:[[/microsoft (windows) (vista|xp)/i],[z,ee],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[z,[ee,gi,In]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[z,"Windows"],[ee,gi,In]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[ee,/_/g,"."],[z,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[z,"Mac OS"],[ee,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[ee,z],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[z,ee],[/\(bb(10);/i],[ee,[z,Ne]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[ee,[z,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[ee,[z,_e+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[ee,[z,"webOS"]],[/crkey\/([\d\.]+)/i],[ee,[z,Te+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[z,"Chromium OS"],ee],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[z,ee],[/(sunos) ?([\w\.\d]*)/i],[[z,"Solaris"],ee],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[z,ee]]},ei=function(et,Pt){if(typeof et===te&&(Pt=et,et=f),!(this instanceof ei))return new ei(et,Pt).getResult();var He=et||(typeof s!==X&&s.navigator&&s.navigator.userAgent?s.navigator.userAgent:p),e=Pt?Et(mr,Pt):mr;return this.getBrowser=function(){var i={};return i[z]=f,i[ee]=f,Rt.call(i,He,e.browser),i.major=Je(i.version),i},this.getCPU=function(){var i={};return i[se]=f,Rt.call(i,He,e.cpu),i},this.getDevice=function(){var i={};return i[V]=f,i[H]=f,i[K]=f,Rt.call(i,He,e.device),i},this.getEngine=function(){var i={};return i[z]=f,i[ee]=f,Rt.call(i,He,e.engine),i},this.getOS=function(){var i={};return i[z]=f,i[ee]=f,Rt.call(i,He,e.os),i},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return He},this.setUA=function(i){return He=typeof i===ne&&i.length>$e?_t(i,$e):i,this},this.setUA(He),this};ei.VERSION=T,ei.BROWSER=Ft([z,ee,ue]),ei.CPU=Ft([se]),ei.DEVICE=Ft([H,V,K,de,ce,ze,me,Ce,Le]),ei.ENGINE=ei.OS=Ft([z,ee]),a.exports&&(h=a.exports=ei),h.UAParser=ei;var ot=typeof s!==X&&(s.jQuery||s.Zepto);if(ot&&!ot.ua){var ki=new ei;ot.ua=ki.getResult(),ot.ua.get=function(){return ki.getUA()},ot.ua.set=function(et){ki.setUA(et);var Pt=ki.getResult();for(var He in Pt)ot.ua[He]=Pt[He]}}})(typeof window=="object"?window:rs)})(Vu,Vu.exports);var Hu={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(a,h){(function(){var s,f="4.17.21",T=200,p="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",k="Expected a function",D="Invalid `variable` option passed into `_.template`",X="__lodash_hash_undefined__",te=500,ne="__lodash_placeholder__",ue=1,H=2,z=4,K=1,V=2,ee=1,se=2,de=4,ce=8,me=16,ze=32,Ce=64,Le=128,$e=256,Fe=512,tt=30,Oe="...",Ne=800,Qe=16,Te=1,It=2,_e=3,ht=1/0,Re=9007199254740991,Ie=17976931348623157e292,ve=0/0,Be=4294967295,be=Be-1,Ue=Be>>>1,gt=[["ary",Le],["bind",ee],["bindKey",se],["curry",ce],["curryRight",me],["flip",Fe],["partial",ze],["partialRight",Ce],["rearg",$e]],Ve="[object Arguments]",rt="[object Array]",Kt="[object AsyncFunction]",Xt="[object Boolean]",Et="[object Date]",Ft="[object DOMException]",Nt="[object Error]",Ti="[object Function]",Je="[object GeneratorFunction]",_t="[object Map]",Rt="[object Number]",gi="[object Null]",wi="[object Object]",In="[object Promise]",mr="[object Proxy]",ei="[object RegExp]",ot="[object Set]",ki="[object String]",et="[object Symbol]",Pt="[object Undefined]",He="[object WeakMap]",e="[object WeakSet]",i="[object ArrayBuffer]",n="[object DataView]",o="[object Float32Array]",l="[object Float64Array]",c="[object Int8Array]",g="[object Int16Array]",d="[object Int32Array]",m="[object Uint8Array]",_="[object Uint8ClampedArray]",w="[object Uint16Array]",C="[object Uint32Array]",x=/\b__p \+= '';/g,b=/\b(__p \+=) '' \+/g,P=/(__e\(.*?\)|\b__t\)) \+\n'';/g,E=/&(?:amp|lt|gt|quot|#39);/g,L=/[&<>"']/g,S=RegExp(E.source),I=RegExp(L.source),y=/<%-([\s\S]+?)%>/g,A=/<%([\s\S]+?)%>/g,M=/<%=([\s\S]+?)%>/g,R=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O=/^\w*$/,U=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G=/[\\^$.*+?()[\]{}|]/g,Y=RegExp(G.source),J=/^\s+/,W=/\s/,Q=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ie=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,oe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ge=/[()=,{}\[\]\/\s]/,Ae=/\\(\\)?/g,Me=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,De=/\w*$/,Ye=/^[-+]0x[0-9a-f]+$/i,we=/^0b[01]+$/i,Se=/^\[object .+?Constructor\]$/,qe=/^0o[0-7]+$/i,Xe=/^(?:0|[1-9]\d*)$/,je=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,nt=/($^)/,st=/['\n\r\u2028\u2029\\]/g,ut="\\ud800-\\udfff",bt="\\u0300-\\u036f",pt="\\ufe20-\\ufe2f",ui="\\u20d0-\\u20ff",ri=bt+pt+ui,pi="\\u2700-\\u27bf",Qt="a-z\\xdf-\\xf6\\xf8-\\xff",Vt="\\xac\\xb1\\xd7\\xf7",ti="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ii="\\u2000-\\u206f",ci=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Di="A-Z\\xc0-\\xd6\\xd8-\\xde",vn="\\ufe0e\\ufe0f",Hi=Vt+ti+Ii+ci,Bi="['\u2019]",Pi="["+ut+"]",Li="["+Hi+"]",en="["+ri+"]",Wi="\\d+",us="["+pi+"]",js="["+Qt+"]",Xs="[^"+ut+Hi+Wi+pi+Qt+Di+"]",cs="\\ud83c[\\udffb-\\udfff]",Ya="(?:"+en+"|"+cs+")",Js="[^"+ut+"]",_r="(?:\\ud83c[\\udde6-\\uddff]){2}",Br="[\\ud800-\\udbff][\\udc00-\\udfff]",yn="["+Di+"]",Fr="\\u200d",Wn="(?:"+js+"|"+Xs+")",Gn="(?:"+yn+"|"+Xs+")",tn="(?:"+Bi+"(?:d|ll|m|re|s|t|ve))?",Gi="(?:"+Bi+"(?:D|LL|M|RE|S|T|VE))?",hn=Ya+"?",nn="["+vn+"]?",vr="(?:"+Fr+"(?:"+[Js,_r,Br].join("|")+")"+nn+hn+")*",Qs="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ea="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",hs=nn+hn+vr,ta="(?:"+[us,_r,Br].join("|")+")"+hs,$n="(?:"+[Js+en+"?",en,_r,Br,Pi].join("|")+")",cl=RegExp(Bi,"g"),Za=RegExp(en,"g"),fs=RegExp(cs+"(?="+cs+")|"+$n+hs,"g"),Ka=RegExp([yn+"?"+js+"+"+tn+"(?="+[Li,yn,"$"].join("|")+")",Gn+"+"+Gi+"(?="+[Li,yn+Wn,"$"].join("|")+")",yn+"?"+Wn+"+"+tn,yn+"+"+Gi,ea,Qs,Wi,ta].join("|"),"g"),hl=RegExp("["+Fr+ut+ri+vn+"]"),fl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,dl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],gl=-1,Zt={};Zt[o]=Zt[l]=Zt[c]=Zt[g]=Zt[d]=Zt[m]=Zt[_]=Zt[w]=Zt[C]=!0,Zt[Ve]=Zt[rt]=Zt[i]=Zt[Xt]=Zt[n]=Zt[Et]=Zt[Nt]=Zt[Ti]=Zt[_t]=Zt[Rt]=Zt[wi]=Zt[ei]=Zt[ot]=Zt[ki]=Zt[He]=!1;var $t={};$t[Ve]=$t[rt]=$t[i]=$t[n]=$t[Xt]=$t[Et]=$t[o]=$t[l]=$t[c]=$t[g]=$t[d]=$t[_t]=$t[Rt]=$t[wi]=$t[ei]=$t[ot]=$t[ki]=$t[et]=$t[m]=$t[_]=$t[w]=$t[C]=!0,$t[Nt]=$t[Ti]=$t[He]=!1;var pl={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},ml={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ja={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},qr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_l=parseFloat,vl=parseInt,ia=typeof rs=="object"&&rs&&rs.Object===Object&&rs,ds=typeof self=="object"&&self&&self.Object===Object&&self,_i=ia||ds||Function("return this")(),na=h&&!h.nodeType&&h,Pn=na&&!0&&a&&!a.nodeType&&a,Xa=Pn&&Pn.exports===na,gs=Xa&&ia.process,$i=function(){try{var le=Pn&&Pn.require&&Pn.require("util").types;return le||gs&&gs.binding&&gs.binding("util")}catch(xe){}}(),Ur=$i&&$i.isArrayBuffer,Yn=$i&&$i.isDate,Vr=$i&&$i.isMap,ra=$i&&$i.isRegExp,Ln=$i&&$i.isSet,sa=$i&&$i.isTypedArray;function qt(le,xe,pe){switch(pe.length){case 0:return le.call(xe);case 1:return le.call(xe,pe[0]);case 2:return le.call(xe,pe[0],pe[1]);case 3:return le.call(xe,pe[0],pe[1],pe[2])}return le.apply(xe,pe)}function yl(le,xe,pe,q){for(var Z=-1,fe=le==null?0:le.length;++Z<fe;){var ye=le[Z];xe(q,ye,pe(ye),le)}return q}function Oi(le,xe){for(var pe=-1,q=le==null?0:le.length;++pe<q&&xe(le[pe],pe,le)!==!1;);return le}function yr(le,xe){for(var pe=le==null?0:le.length;pe--&&xe(le[pe],pe,le)!==!1;);return le}function Ja(le,xe){for(var pe=-1,q=le==null?0:le.length;++pe<q;)if(!xe(le[pe],pe,le))return!1;return!0}function On(le,xe){for(var pe=-1,q=le==null?0:le.length,Z=0,fe=[];++pe<q;){var ye=le[pe];xe(ye,pe,le)&&(fe[Z++]=ye)}return fe}function ps(le,xe){var pe=le==null?0:le.length;return!!pe&&Kn(le,xe,0)>-1}function aa(le,xe,pe){for(var q=-1,Z=le==null?0:le.length;++q<Z;)if(pe(xe,le[q]))return!0;return!1}function jt(le,xe){for(var pe=-1,q=le==null?0:le.length,Z=Array(q);++pe<q;)Z[pe]=xe(le[pe],pe,le);return Z}function Mn(le,xe){for(var pe=-1,q=xe.length,Z=le.length;++pe<q;)le[Z+pe]=xe[pe];return le}function oa(le,xe,pe,q){var Z=-1,fe=le==null?0:le.length;for(q&&fe&&(pe=le[++Z]);++Z<fe;)pe=xe(pe,le[Z],Z,le);return pe}function bl(le,xe,pe,q){var Z=le==null?0:le.length;for(q&&Z&&(pe=le[--Z]);Z--;)pe=xe(pe,le[Z],Z,le);return pe}function la(le,xe){for(var pe=-1,q=le==null?0:le.length;++pe<q;)if(xe(le[pe],pe,le))return!0;return!1}var Zn=_s("length");function mi(le){return le.split("")}function Qa(le){return le.match(oe)||[]}function br(le,xe,pe){var q;return pe(le,function(Z,fe,ye){if(xe(Z,fe,ye))return q=fe,!1}),q}function ms(le,xe,pe,q){for(var Z=le.length,fe=pe+(q?1:-1);q?fe--:++fe<Z;)if(xe(le[fe],fe,le))return fe;return-1}function Kn(le,xe,pe){return xe===xe?ha(le,xe,pe):ms(le,Hr,pe)}function wl(le,xe,pe,q){for(var Z=pe-1,fe=le.length;++Z<fe;)if(q(le[Z],xe))return Z;return-1}function Hr(le){return le!==le}function jn(le,xe){var pe=le==null?0:le.length;return pe?ys(le,xe)/pe:ve}function _s(le){return function(xe){return xe==null?s:xe[le]}}function vs(le){return function(xe){return le==null?s:le[xe]}}function Ot(le,xe,pe,q,Z){return Z(le,function(fe,ye,We){pe=q?(q=!1,fe):xe(pe,fe,ye,We)}),pe}function ua(le,xe){var pe=le.length;for(le.sort(xe);pe--;)le[pe]=le[pe].value;return le}function ys(le,xe){for(var pe,q=-1,Z=le.length;++q<Z;){var fe=xe(le[q]);fe!==s&&(pe=pe===s?fe:pe+fe)}return pe}function bs(le,xe){for(var pe=-1,q=Array(le);++pe<le;)q[pe]=xe(pe);return q}function vi(le,xe){return jt(xe,function(pe){return[pe,le[pe]]})}function bn(le){return le&&le.slice(0,Cs(le)+1).replace(J,"")}function at(le){return function(xe){return le(xe)}}function Wr(le,xe){return jt(xe,function(pe){return le[pe]})}function Wt(le,xe){return le.has(xe)}function Gr(le,xe){for(var pe=-1,q=le.length;++pe<q&&Kn(xe,le[pe],0)>-1;);return pe}function zn(le,xe){for(var pe=le.length;pe--&&Kn(xe,le[pe],0)>-1;);return pe}function si(le,xe){for(var pe=le.length,q=0;pe--;)le[pe]===xe&&++q;return q}var wn=vs(pl),ws=vs(ml);function xl(le){return"\\"+qr[le]}function ca(le,xe){return le==null?s:le[xe]}function wr(le){return hl.test(le)}function rn(le){return fl.test(le)}function $r(le){for(var xe,pe=[];!(xe=le.next()).done;)pe.push(xe.value);return pe}function Xn(le){var xe=-1,pe=Array(le.size);return le.forEach(function(q,Z){pe[++xe]=[Z,q]}),pe}function xs(le,xe){return function(pe){return le(xe(pe))}}function xn(le,xe){for(var pe=-1,q=le.length,Z=0,fe=[];++pe<q;){var ye=le[pe];(ye===xe||ye===ne)&&(le[pe]=ne,fe[Z++]=pe)}return fe}function Yr(le){var xe=-1,pe=Array(le.size);return le.forEach(function(q){pe[++xe]=q}),pe}function xi(le){var xe=-1,pe=Array(le.size);return le.forEach(function(q){pe[++xe]=[q,q]}),pe}function ha(le,xe,pe){for(var q=pe-1,Z=le.length;++q<Z;)if(le[q]===xe)return q;return-1}function Cl(le,xe,pe){for(var q=pe+1;q--;)if(le[q]===xe)return q;return q}function xr(le){return wr(le)?Zr(le):Zn(le)}function Fi(le){return wr(le)?fa(le):mi(le)}function Cs(le){for(var xe=le.length;xe--&&W.test(le.charAt(xe)););return xe}var Sl=vs(ja);function Zr(le){for(var xe=fs.lastIndex=0;fs.test(le);)++xe;return xe}function fa(le){return le.match(fs)||[]}function Tl(le){return le.match(Ka)||[]}var kl=function le(xe){xe=xe==null?_i:Jn.defaults(_i.Object(),xe,Jn.pick(_i,dl));var pe=xe.Array,q=xe.Date,Z=xe.Error,fe=xe.Function,ye=xe.Math,We=xe.Object,lt=xe.RegExp,vt=xe.String,wt=xe.TypeError,Mi=pe.prototype,Qn=fe.prototype,Nn=We.prototype,er=xe["__core-js_shared__"],Ss=Qn.toString,Gt=Nn.hasOwnProperty,Td=0,lc=function(){var t=/[^.]+$/.exec(er&&er.keys&&er.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),eo=Nn.toString,kd=Ss.call(We),Ed=_i._,Ad=lt("^"+Ss.call(Gt).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),to=Xa?xe.Buffer:s,Cr=xe.Symbol,io=xe.Uint8Array,uc=to?to.allocUnsafe:s,no=xs(We.getPrototypeOf,We),cc=We.create,hc=Nn.propertyIsEnumerable,ro=Mi.splice,fc=Cr?Cr.isConcatSpreadable:s,da=Cr?Cr.iterator:s,Kr=Cr?Cr.toStringTag:s,so=function(){try{var t=es(We,"defineProperty");return t({},"",{}),t}catch(r){}}(),Id=xe.clearTimeout!==_i.clearTimeout&&xe.clearTimeout,Pd=q&&q.now!==_i.Date.now&&q.now,Ld=xe.setTimeout!==_i.setTimeout&&xe.setTimeout,ao=ye.ceil,oo=ye.floor,El=We.getOwnPropertySymbols,Od=to?to.isBuffer:s,dc=xe.isFinite,Md=Mi.join,zd=xs(We.keys,We),yi=ye.max,zi=ye.min,Nd=q.now,Rd=xe.parseInt,gc=ye.random,Dd=Mi.reverse,Al=es(xe,"DataView"),ga=es(xe,"Map"),Il=es(xe,"Promise"),Ts=es(xe,"Set"),pa=es(xe,"WeakMap"),ma=es(We,"create"),lo=pa&&new pa,ks={},Bd=ts(Al),Fd=ts(ga),qd=ts(Il),Ud=ts(Ts),Vd=ts(pa),uo=Cr?Cr.prototype:s,_a=uo?uo.valueOf:s,pc=uo?uo.toString:s;function B(t){if(ai(t)&&!xt(t)&&!(t instanceof Mt)){if(t instanceof fn)return t;if(Gt.call(t,"__wrapped__"))return mh(t)}return new fn(t)}var Es=function(){function t(){}return function(r){if(!ii(r))return{};if(cc)return cc(r);t.prototype=r;var u=new t;return t.prototype=s,u}}();function co(){}function fn(t,r){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=s}B.templateSettings={escape:y,evaluate:A,interpolate:M,variable:"",imports:{_:B}},B.prototype=co.prototype,B.prototype.constructor=B,fn.prototype=Es(co.prototype),fn.prototype.constructor=fn;function Mt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Be,this.__views__=[]}function Hd(){var t=new Mt(this.__wrapped__);return t.__actions__=Yi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Yi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Yi(this.__views__),t}function Wd(){if(this.__filtered__){var t=new Mt(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Gd(){var t=this.__wrapped__.value(),r=this.__dir__,u=xt(t),v=r<0,N=u?t.length:0,F=np(0,N,this.__views__),j=F.start,re=F.end,he=re-j,ke=v?re:j-1,Ee=this.__iteratees__,Pe=Ee.length,Ze=0,it=zi(he,this.__takeCount__);if(!u||!v&&N==he&&it==he)return Fc(t,this.__actions__);var ft=[];e:for(;he--&&Ze<it;){ke+=r;for(var kt=-1,dt=t[ke];++kt<Pe;){var Lt=Ee[kt],zt=Lt.iteratee,on=Lt.type,Vi=zt(dt);if(on==It)dt=Vi;else if(!Vi){if(on==Te)continue e;break e}}ft[Ze++]=dt}return ft}Mt.prototype=Es(co.prototype),Mt.prototype.constructor=Mt;function jr(t){var r=-1,u=t==null?0:t.length;for(this.clear();++r<u;){var v=t[r];this.set(v[0],v[1])}}function $d(){this.__data__=ma?ma(null):{},this.size=0}function Yd(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}function Zd(t){var r=this.__data__;if(ma){var u=r[t];return u===X?s:u}return Gt.call(r,t)?r[t]:s}function Kd(t){var r=this.__data__;return ma?r[t]!==s:Gt.call(r,t)}function jd(t,r){var u=this.__data__;return this.size+=this.has(t)?0:1,u[t]=ma&&r===s?X:r,this}jr.prototype.clear=$d,jr.prototype.delete=Yd,jr.prototype.get=Zd,jr.prototype.has=Kd,jr.prototype.set=jd;function tr(t){var r=-1,u=t==null?0:t.length;for(this.clear();++r<u;){var v=t[r];this.set(v[0],v[1])}}function Xd(){this.__data__=[],this.size=0}function Jd(t){var r=this.__data__,u=ho(r,t);if(u<0)return!1;var v=r.length-1;return u==v?r.pop():ro.call(r,u,1),--this.size,!0}function Qd(t){var r=this.__data__,u=ho(r,t);return u<0?s:r[u][1]}function eg(t){return ho(this.__data__,t)>-1}function tg(t,r){var u=this.__data__,v=ho(u,t);return v<0?(++this.size,u.push([t,r])):u[v][1]=r,this}tr.prototype.clear=Xd,tr.prototype.delete=Jd,tr.prototype.get=Qd,tr.prototype.has=eg,tr.prototype.set=tg;function ir(t){var r=-1,u=t==null?0:t.length;for(this.clear();++r<u;){var v=t[r];this.set(v[0],v[1])}}function ig(){this.size=0,this.__data__={hash:new jr,map:new(ga||tr),string:new jr}}function ng(t){var r=So(this,t).delete(t);return this.size-=r?1:0,r}function rg(t){return So(this,t).get(t)}function sg(t){return So(this,t).has(t)}function ag(t,r){var u=So(this,t),v=u.size;return u.set(t,r),this.size+=u.size==v?0:1,this}ir.prototype.clear=ig,ir.prototype.delete=ng,ir.prototype.get=rg,ir.prototype.has=sg,ir.prototype.set=ag;function Xr(t){var r=-1,u=t==null?0:t.length;for(this.__data__=new ir;++r<u;)this.add(t[r])}function og(t){return this.__data__.set(t,X),this}function lg(t){return this.__data__.has(t)}Xr.prototype.add=Xr.prototype.push=og,Xr.prototype.has=lg;function Cn(t){var r=this.__data__=new tr(t);this.size=r.size}function ug(){this.__data__=new tr,this.size=0}function cg(t){var r=this.__data__,u=r.delete(t);return this.size=r.size,u}function hg(t){return this.__data__.get(t)}function fg(t){return this.__data__.has(t)}function dg(t,r){var u=this.__data__;if(u instanceof tr){var v=u.__data__;if(!ga||v.length<T-1)return v.push([t,r]),this.size=++u.size,this;u=this.__data__=new ir(v)}return u.set(t,r),this.size=u.size,this}Cn.prototype.clear=ug,Cn.prototype.delete=cg,Cn.prototype.get=hg,Cn.prototype.has=fg,Cn.prototype.set=dg;function mc(t,r){var u=xt(t),v=!u&&is(t),N=!u&&!v&&Ar(t),F=!u&&!v&&!N&&Ls(t),j=u||v||N||F,re=j?bs(t.length,vt):[],he=re.length;for(var ke in t)(r||Gt.call(t,ke))&&!(j&&(ke=="length"||N&&(ke=="offset"||ke=="parent")||F&&(ke=="buffer"||ke=="byteLength"||ke=="byteOffset")||ar(ke,he)))&&re.push(ke);return re}function _c(t){var r=t.length;return r?t[ql(0,r-1)]:s}function gg(t,r){return To(Yi(t),Jr(r,0,t.length))}function pg(t){return To(Yi(t))}function Pl(t,r,u){(u!==s&&!Sn(t[r],u)||u===s&&!(r in t))&&nr(t,r,u)}function va(t,r,u){var v=t[r];(!(Gt.call(t,r)&&Sn(v,u))||u===s&&!(r in t))&&nr(t,r,u)}function ho(t,r){for(var u=t.length;u--;)if(Sn(t[u][0],r))return u;return-1}function mg(t,r,u,v){return Sr(t,function(N,F,j){r(v,N,u(N),j)}),v}function vc(t,r){return t&&Dn(r,Ci(r),t)}function _g(t,r){return t&&Dn(r,Ki(r),t)}function nr(t,r,u){r=="__proto__"&&so?so(t,r,{configurable:!0,enumerable:!0,value:u,writable:!0}):t[r]=u}function Ll(t,r){for(var u=-1,v=r.length,N=pe(v),F=t==null;++u<v;)N[u]=F?s:hu(t,r[u]);return N}function Jr(t,r,u){return t===t&&(u!==s&&(t=t<=u?t:u),r!==s&&(t=t>=r?t:r)),t}function dn(t,r,u,v,N,F){var j,re=r&ue,he=r&H,ke=r&z;if(u&&(j=N?u(t,v,N,F):u(t)),j!==s)return j;if(!ii(t))return t;var Ee=xt(t);if(Ee){if(j=sp(t),!re)return Yi(t,j)}else{var Pe=Ni(t),Ze=Pe==Ti||Pe==Je;if(Ar(t))return Vc(t,re);if(Pe==wi||Pe==Ve||Ze&&!N){if(j=he||Ze?{}:oh(t),!re)return he?Zg(t,_g(j,t)):Yg(t,vc(j,t))}else{if(!$t[Pe])return N?t:{};j=ap(t,Pe,re)}}F||(F=new Cn);var it=F.get(t);if(it)return it;F.set(t,j),Rh(t)?t.forEach(function(dt){j.add(dn(dt,r,u,dt,t,F))}):zh(t)&&t.forEach(function(dt,Lt){j.set(Lt,dn(dt,r,u,Lt,t,F))});var ft=ke?he?Xl:jl:he?Ki:Ci,kt=Ee?s:ft(t);return Oi(kt||t,function(dt,Lt){kt&&(Lt=dt,dt=t[Lt]),va(j,Lt,dn(dt,r,u,Lt,t,F))}),j}function vg(t){var r=Ci(t);return function(u){return yc(u,t,r)}}function yc(t,r,u){var v=u.length;if(t==null)return!v;for(t=We(t);v--;){var N=u[v],F=r[N],j=t[N];if(j===s&&!(N in t)||!F(j))return!1}return!0}function bc(t,r,u){if(typeof t!="function")throw new wt(k);return Ta(function(){t.apply(s,u)},r)}function ya(t,r,u,v){var N=-1,F=ps,j=!0,re=t.length,he=[],ke=r.length;if(!re)return he;u&&(r=jt(r,at(u))),v?(F=aa,j=!1):r.length>=T&&(F=Wt,j=!1,r=new Xr(r));e:for(;++N<re;){var Ee=t[N],Pe=u==null?Ee:u(Ee);if(Ee=v||Ee!==0?Ee:0,j&&Pe===Pe){for(var Ze=ke;Ze--;)if(r[Ze]===Pe)continue e;he.push(Ee)}else F(r,Pe,v)||he.push(Ee)}return he}var Sr=Yc(Rn),wc=Yc(Ml,!0);function yg(t,r){var u=!0;return Sr(t,function(v,N,F){return u=!!r(v,N,F),u}),u}function fo(t,r,u){for(var v=-1,N=t.length;++v<N;){var F=t[v],j=r(F);if(j!=null&&(re===s?j===j&&!an(j):u(j,re)))var re=j,he=F}return he}function bg(t,r,u,v){var N=t.length;for(u=St(u),u<0&&(u=-u>N?0:N+u),v=v===s||v>N?N:St(v),v<0&&(v+=N),v=u>v?0:Bh(v);u<v;)t[u++]=r;return t}function xc(t,r){var u=[];return Sr(t,function(v,N,F){r(v,N,F)&&u.push(v)}),u}function Ei(t,r,u,v,N){var F=-1,j=t.length;for(u||(u=lp),N||(N=[]);++F<j;){var re=t[F];r>0&&u(re)?r>1?Ei(re,r-1,u,v,N):Mn(N,re):v||(N[N.length]=re)}return N}var Ol=Zc(),Cc=Zc(!0);function Rn(t,r){return t&&Ol(t,r,Ci)}function Ml(t,r){return t&&Cc(t,r,Ci)}function go(t,r){return On(r,function(u){return or(t[u])})}function Qr(t,r){r=kr(r,t);for(var u=0,v=r.length;t!=null&&u<v;)t=t[Bn(r[u++])];return u&&u==v?t:s}function Sc(t,r,u){var v=r(t);return xt(t)?v:Mn(v,u(t))}function qi(t){return t==null?t===s?Pt:gi:Kr&&Kr in We(t)?ip(t):pp(t)}function zl(t,r){return t>r}function wg(t,r){return t!=null&&Gt.call(t,r)}function xg(t,r){return t!=null&&r in We(t)}function Cg(t,r,u){return t>=zi(r,u)&&t<yi(r,u)}function Nl(t,r,u){for(var v=u?aa:ps,N=t[0].length,F=t.length,j=F,re=pe(F),he=1/0,ke=[];j--;){var Ee=t[j];j&&r&&(Ee=jt(Ee,at(r))),he=zi(Ee.length,he),re[j]=!u&&(r||N>=120&&Ee.length>=120)?new Xr(j&&Ee):s}Ee=t[0];var Pe=-1,Ze=re[0];e:for(;++Pe<N&&ke.length<he;){var it=Ee[Pe],ft=r?r(it):it;if(it=u||it!==0?it:0,!(Ze?Wt(Ze,ft):v(ke,ft,u))){for(j=F;--j;){var kt=re[j];if(!(kt?Wt(kt,ft):v(t[j],ft,u)))continue e}Ze&&Ze.push(ft),ke.push(it)}}return ke}function Sg(t,r,u,v){return Rn(t,function(N,F,j){r(v,u(N),F,j)}),v}function ba(t,r,u){r=kr(r,t),t=hh(t,r);var v=t==null?t:t[Bn(pn(r))];return v==null?s:qt(v,t,u)}function Tc(t){return ai(t)&&qi(t)==Ve}function Tg(t){return ai(t)&&qi(t)==i}function kg(t){return ai(t)&&qi(t)==Et}function wa(t,r,u,v,N){return t===r?!0:t==null||r==null||!ai(t)&&!ai(r)?t!==t&&r!==r:Eg(t,r,u,v,wa,N)}function Eg(t,r,u,v,N,F){var j=xt(t),re=xt(r),he=j?rt:Ni(t),ke=re?rt:Ni(r);he=he==Ve?wi:he,ke=ke==Ve?wi:ke;var Ee=he==wi,Pe=ke==wi,Ze=he==ke;if(Ze&&Ar(t)){if(!Ar(r))return!1;j=!0,Ee=!1}if(Ze&&!Ee)return F||(F=new Cn),j||Ls(t)?rh(t,r,u,v,N,F):ep(t,r,he,u,v,N,F);if(!(u&K)){var it=Ee&&Gt.call(t,"__wrapped__"),ft=Pe&&Gt.call(r,"__wrapped__");if(it||ft){var kt=it?t.value():t,dt=ft?r.value():r;return F||(F=new Cn),N(kt,dt,u,v,F)}}return Ze?(F||(F=new Cn),tp(t,r,u,v,N,F)):!1}function Ag(t){return ai(t)&&Ni(t)==_t}function Rl(t,r,u,v){var N=u.length,F=N,j=!v;if(t==null)return!F;for(t=We(t);N--;){var re=u[N];if(j&&re[2]?re[1]!==t[re[0]]:!(re[0]in t))return!1}for(;++N<F;){re=u[N];var he=re[0],ke=t[he],Ee=re[1];if(j&&re[2]){if(ke===s&&!(he in t))return!1}else{var Pe=new Cn;if(v)var Ze=v(ke,Ee,he,t,r,Pe);if(!(Ze===s?wa(Ee,ke,K|V,v,Pe):Ze))return!1}}return!0}function kc(t){if(!ii(t)||cp(t))return!1;var r=or(t)?Ad:Se;return r.test(ts(t))}function Ig(t){return ai(t)&&qi(t)==ei}function Pg(t){return ai(t)&&Ni(t)==ot}function Lg(t){return ai(t)&&Lo(t.length)&&!!Zt[qi(t)]}function Ec(t){return typeof t=="function"?t:t==null?ji:typeof t=="object"?xt(t)?Pc(t[0],t[1]):Ic(t):Kh(t)}function Dl(t){if(!Sa(t))return zd(t);var r=[];for(var u in We(t))Gt.call(t,u)&&u!="constructor"&&r.push(u);return r}function Og(t){if(!ii(t))return gp(t);var r=Sa(t),u=[];for(var v in t)v=="constructor"&&(r||!Gt.call(t,v))||u.push(v);return u}function Bl(t,r){return t<r}function Ac(t,r){var u=-1,v=Zi(t)?pe(t.length):[];return Sr(t,function(N,F,j){v[++u]=r(N,F,j)}),v}function Ic(t){var r=Ql(t);return r.length==1&&r[0][2]?uh(r[0][0],r[0][1]):function(u){return u===t||Rl(u,t,r)}}function Pc(t,r){return tu(t)&&lh(r)?uh(Bn(t),r):function(u){var v=hu(u,t);return v===s&&v===r?fu(u,t):wa(r,v,K|V)}}function po(t,r,u,v,N){t!==r&&Ol(r,function(F,j){if(N||(N=new Cn),ii(F))Mg(t,r,j,u,po,v,N);else{var re=v?v(nu(t,j),F,j+"",t,r,N):s;re===s&&(re=F),Pl(t,j,re)}},Ki)}function Mg(t,r,u,v,N,F,j){var re=nu(t,u),he=nu(r,u),ke=j.get(he);if(ke){Pl(t,u,ke);return}var Ee=F?F(re,he,u+"",t,r,j):s,Pe=Ee===s;if(Pe){var Ze=xt(he),it=!Ze&&Ar(he),ft=!Ze&&!it&&Ls(he);Ee=he,Ze||it||ft?xt(re)?Ee=re:hi(re)?Ee=Yi(re):it?(Pe=!1,Ee=Vc(he,!0)):ft?(Pe=!1,Ee=Hc(he,!0)):Ee=[]:ka(he)||is(he)?(Ee=re,is(re)?Ee=Fh(re):(!ii(re)||or(re))&&(Ee=oh(he))):Pe=!1}Pe&&(j.set(he,Ee),N(Ee,he,v,F,j),j.delete(he)),Pl(t,u,Ee)}function Lc(t,r){var u=t.length;if(!!u)return r+=r<0?u:0,ar(r,u)?t[r]:s}function Oc(t,r,u){r.length?r=jt(r,function(F){return xt(F)?function(j){return Qr(j,F.length===1?F[0]:F)}:F}):r=[ji];var v=-1;r=jt(r,at(ct()));var N=Ac(t,function(F,j,re){var he=jt(r,function(ke){return ke(F)});return{criteria:he,index:++v,value:F}});return ua(N,function(F,j){return $g(F,j,u)})}function zg(t,r){return Mc(t,r,function(u,v){return fu(t,v)})}function Mc(t,r,u){for(var v=-1,N=r.length,F={};++v<N;){var j=r[v],re=Qr(t,j);u(re,j)&&xa(F,kr(j,t),re)}return F}function Ng(t){return function(r){return Qr(r,t)}}function Fl(t,r,u,v){var N=v?wl:Kn,F=-1,j=r.length,re=t;for(t===r&&(r=Yi(r)),u&&(re=jt(t,at(u)));++F<j;)for(var he=0,ke=r[F],Ee=u?u(ke):ke;(he=N(re,Ee,he,v))>-1;)re!==t&&ro.call(re,he,1),ro.call(t,he,1);return t}function zc(t,r){for(var u=t?r.length:0,v=u-1;u--;){var N=r[u];if(u==v||N!==F){var F=N;ar(N)?ro.call(t,N,1):Hl(t,N)}}return t}function ql(t,r){return t+oo(gc()*(r-t+1))}function Rg(t,r,u,v){for(var N=-1,F=yi(ao((r-t)/(u||1)),0),j=pe(F);F--;)j[v?F:++N]=t,t+=u;return j}function Ul(t,r){var u="";if(!t||r<1||r>Re)return u;do r%2&&(u+=t),r=oo(r/2),r&&(t+=t);while(r);return u}function At(t,r){return ru(ch(t,r,ji),t+"")}function Dg(t){return _c(Os(t))}function Bg(t,r){var u=Os(t);return To(u,Jr(r,0,u.length))}function xa(t,r,u,v){if(!ii(t))return t;r=kr(r,t);for(var N=-1,F=r.length,j=F-1,re=t;re!=null&&++N<F;){var he=Bn(r[N]),ke=u;if(he==="__proto__"||he==="constructor"||he==="prototype")return t;if(N!=j){var Ee=re[he];ke=v?v(Ee,he,re):s,ke===s&&(ke=ii(Ee)?Ee:ar(r[N+1])?[]:{})}va(re,he,ke),re=re[he]}return t}var Nc=lo?function(t,r){return lo.set(t,r),t}:ji,Fg=so?function(t,r){return so(t,"toString",{configurable:!0,enumerable:!1,value:gu(r),writable:!0})}:ji;function qg(t){return To(Os(t))}function gn(t,r,u){var v=-1,N=t.length;r<0&&(r=-r>N?0:N+r),u=u>N?N:u,u<0&&(u+=N),N=r>u?0:u-r>>>0,r>>>=0;for(var F=pe(N);++v<N;)F[v]=t[v+r];return F}function Ug(t,r){var u;return Sr(t,function(v,N,F){return u=r(v,N,F),!u}),!!u}function mo(t,r,u){var v=0,N=t==null?v:t.length;if(typeof r=="number"&&r===r&&N<=Ue){for(;v<N;){var F=v+N>>>1,j=t[F];j!==null&&!an(j)&&(u?j<=r:j<r)?v=F+1:N=F}return N}return Vl(t,r,ji,u)}function Vl(t,r,u,v){var N=0,F=t==null?0:t.length;if(F===0)return 0;r=u(r);for(var j=r!==r,re=r===null,he=an(r),ke=r===s;N<F;){var Ee=oo((N+F)/2),Pe=u(t[Ee]),Ze=Pe!==s,it=Pe===null,ft=Pe===Pe,kt=an(Pe);if(j)var dt=v||ft;else ke?dt=ft&&(v||Ze):re?dt=ft&&Ze&&(v||!it):he?dt=ft&&Ze&&!it&&(v||!kt):it||kt?dt=!1:dt=v?Pe<=r:Pe<r;dt?N=Ee+1:F=Ee}return zi(F,be)}function Rc(t,r){for(var u=-1,v=t.length,N=0,F=[];++u<v;){var j=t[u],re=r?r(j):j;if(!u||!Sn(re,he)){var he=re;F[N++]=j===0?0:j}}return F}function Dc(t){return typeof t=="number"?t:an(t)?ve:+t}function sn(t){if(typeof t=="string")return t;if(xt(t))return jt(t,sn)+"";if(an(t))return pc?pc.call(t):"";var r=t+"";return r=="0"&&1/t==-ht?"-0":r}function Tr(t,r,u){var v=-1,N=ps,F=t.length,j=!0,re=[],he=re;if(u)j=!1,N=aa;else if(F>=T){var ke=r?null:Jg(t);if(ke)return Yr(ke);j=!1,N=Wt,he=new Xr}else he=r?[]:re;e:for(;++v<F;){var Ee=t[v],Pe=r?r(Ee):Ee;if(Ee=u||Ee!==0?Ee:0,j&&Pe===Pe){for(var Ze=he.length;Ze--;)if(he[Ze]===Pe)continue e;r&&he.push(Pe),re.push(Ee)}else N(he,Pe,u)||(he!==re&&he.push(Pe),re.push(Ee))}return re}function Hl(t,r){return r=kr(r,t),t=hh(t,r),t==null||delete t[Bn(pn(r))]}function Bc(t,r,u,v){return xa(t,r,u(Qr(t,r)),v)}function _o(t,r,u,v){for(var N=t.length,F=v?N:-1;(v?F--:++F<N)&&r(t[F],F,t););return u?gn(t,v?0:F,v?F+1:N):gn(t,v?F+1:0,v?N:F)}function Fc(t,r){var u=t;return u instanceof Mt&&(u=u.value()),oa(r,function(v,N){return N.func.apply(N.thisArg,Mn([v],N.args))},u)}function Wl(t,r,u){var v=t.length;if(v<2)return v?Tr(t[0]):[];for(var N=-1,F=pe(v);++N<v;)for(var j=t[N],re=-1;++re<v;)re!=N&&(F[N]=ya(F[N]||j,t[re],r,u));return Tr(Ei(F,1),r,u)}function qc(t,r,u){for(var v=-1,N=t.length,F=r.length,j={};++v<N;){var re=v<F?r[v]:s;u(j,t[v],re)}return j}function Gl(t){return hi(t)?t:[]}function $l(t){return typeof t=="function"?t:ji}function kr(t,r){return xt(t)?t:tu(t,r)?[t]:ph(Ht(t))}var Vg=At;function Er(t,r,u){var v=t.length;return u=u===s?v:u,!r&&u>=v?t:gn(t,r,u)}var Uc=Id||function(t){return _i.clearTimeout(t)};function Vc(t,r){if(r)return t.slice();var u=t.length,v=uc?uc(u):new t.constructor(u);return t.copy(v),v}function Yl(t){var r=new t.constructor(t.byteLength);return new io(r).set(new io(t)),r}function Hg(t,r){var u=r?Yl(t.buffer):t.buffer;return new t.constructor(u,t.byteOffset,t.byteLength)}function Wg(t){var r=new t.constructor(t.source,De.exec(t));return r.lastIndex=t.lastIndex,r}function Gg(t){return _a?We(_a.call(t)):{}}function Hc(t,r){var u=r?Yl(t.buffer):t.buffer;return new t.constructor(u,t.byteOffset,t.length)}function Wc(t,r){if(t!==r){var u=t!==s,v=t===null,N=t===t,F=an(t),j=r!==s,re=r===null,he=r===r,ke=an(r);if(!re&&!ke&&!F&&t>r||F&&j&&he&&!re&&!ke||v&&j&&he||!u&&he||!N)return 1;if(!v&&!F&&!ke&&t<r||ke&&u&&N&&!v&&!F||re&&u&&N||!j&&N||!he)return-1}return 0}function $g(t,r,u){for(var v=-1,N=t.criteria,F=r.criteria,j=N.length,re=u.length;++v<j;){var he=Wc(N[v],F[v]);if(he){if(v>=re)return he;var ke=u[v];return he*(ke=="desc"?-1:1)}}return t.index-r.index}function Gc(t,r,u,v){for(var N=-1,F=t.length,j=u.length,re=-1,he=r.length,ke=yi(F-j,0),Ee=pe(he+ke),Pe=!v;++re<he;)Ee[re]=r[re];for(;++N<j;)(Pe||N<F)&&(Ee[u[N]]=t[N]);for(;ke--;)Ee[re++]=t[N++];return Ee}function $c(t,r,u,v){for(var N=-1,F=t.length,j=-1,re=u.length,he=-1,ke=r.length,Ee=yi(F-re,0),Pe=pe(Ee+ke),Ze=!v;++N<Ee;)Pe[N]=t[N];for(var it=N;++he<ke;)Pe[it+he]=r[he];for(;++j<re;)(Ze||N<F)&&(Pe[it+u[j]]=t[N++]);return Pe}function Yi(t,r){var u=-1,v=t.length;for(r||(r=pe(v));++u<v;)r[u]=t[u];return r}function Dn(t,r,u,v){var N=!u;u||(u={});for(var F=-1,j=r.length;++F<j;){var re=r[F],he=v?v(u[re],t[re],re,u,t):s;he===s&&(he=t[re]),N?nr(u,re,he):va(u,re,he)}return u}function Yg(t,r){return Dn(t,eu(t),r)}function Zg(t,r){return Dn(t,sh(t),r)}function vo(t,r){return function(u,v){var N=xt(u)?yl:mg,F=r?r():{};return N(u,t,ct(v,2),F)}}function As(t){return At(function(r,u){var v=-1,N=u.length,F=N>1?u[N-1]:s,j=N>2?u[2]:s;for(F=t.length>3&&typeof F=="function"?(N--,F):s,j&&Ui(u[0],u[1],j)&&(F=N<3?s:F,N=1),r=We(r);++v<N;){var re=u[v];re&&t(r,re,v,F)}return r})}function Yc(t,r){return function(u,v){if(u==null)return u;if(!Zi(u))return t(u,v);for(var N=u.length,F=r?N:-1,j=We(u);(r?F--:++F<N)&&v(j[F],F,j)!==!1;);return u}}function Zc(t){return function(r,u,v){for(var N=-1,F=We(r),j=v(r),re=j.length;re--;){var he=j[t?re:++N];if(u(F[he],he,F)===!1)break}return r}}function Kg(t,r,u){var v=r&ee,N=Ca(t);function F(){var j=this&&this!==_i&&this instanceof F?N:t;return j.apply(v?u:this,arguments)}return F}function Kc(t){return function(r){r=Ht(r);var u=wr(r)?Fi(r):s,v=u?u[0]:r.charAt(0),N=u?Er(u,1).join(""):r.slice(1);return v[t]()+N}}function Is(t){return function(r){return oa(Yh($h(r).replace(cl,"")),t,"")}}function Ca(t){return function(){var r=arguments;switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3]);case 5:return new t(r[0],r[1],r[2],r[3],r[4]);case 6:return new t(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new t(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var u=Es(t.prototype),v=t.apply(u,r);return ii(v)?v:u}}function jg(t,r,u){var v=Ca(t);function N(){for(var F=arguments.length,j=pe(F),re=F,he=Ps(N);re--;)j[re]=arguments[re];var ke=F<3&&j[0]!==he&&j[F-1]!==he?[]:xn(j,he);if(F-=ke.length,F<u)return eh(t,r,yo,N.placeholder,s,j,ke,s,s,u-F);var Ee=this&&this!==_i&&this instanceof N?v:t;return qt(Ee,this,j)}return N}function jc(t){return function(r,u,v){var N=We(r);if(!Zi(r)){var F=ct(u,3);r=Ci(r),u=function(re){return F(N[re],re,N)}}var j=t(r,u,v);return j>-1?N[F?r[j]:j]:s}}function Xc(t){return sr(function(r){var u=r.length,v=u,N=fn.prototype.thru;for(t&&r.reverse();v--;){var F=r[v];if(typeof F!="function")throw new wt(k);if(N&&!j&&Co(F)=="wrapper")var j=new fn([],!0)}for(v=j?v:u;++v<u;){F=r[v];var re=Co(F),he=re=="wrapper"?Jl(F):s;he&&iu(he[0])&&he[1]==(Le|ce|ze|$e)&&!he[4].length&&he[9]==1?j=j[Co(he[0])].apply(j,he[3]):j=F.length==1&&iu(F)?j[re]():j.thru(F)}return function(){var ke=arguments,Ee=ke[0];if(j&&ke.length==1&&xt(Ee))return j.plant(Ee).value();for(var Pe=0,Ze=u?r[Pe].apply(this,ke):Ee;++Pe<u;)Ze=r[Pe].call(this,Ze);return Ze}})}function yo(t,r,u,v,N,F,j,re,he,ke){var Ee=r&Le,Pe=r&ee,Ze=r&se,it=r&(ce|me),ft=r&Fe,kt=Ze?s:Ca(t);function dt(){for(var Lt=arguments.length,zt=pe(Lt),on=Lt;on--;)zt[on]=arguments[on];if(it)var Vi=Ps(dt),ln=si(zt,Vi);if(v&&(zt=Gc(zt,v,N,it)),F&&(zt=$c(zt,F,j,it)),Lt-=ln,it&&Lt<ke){var fi=xn(zt,Vi);return eh(t,r,yo,dt.placeholder,u,zt,fi,re,he,ke-Lt)}var Tn=Pe?u:this,ur=Ze?Tn[t]:t;return Lt=zt.length,re?zt=mp(zt,re):ft&&Lt>1&&zt.reverse(),Ee&&he<Lt&&(zt.length=he),this&&this!==_i&&this instanceof dt&&(ur=kt||Ca(ur)),ur.apply(Tn,zt)}return dt}function Jc(t,r){return function(u,v){return Sg(u,t,r(v),{})}}function bo(t,r){return function(u,v){var N;if(u===s&&v===s)return r;if(u!==s&&(N=u),v!==s){if(N===s)return v;typeof u=="string"||typeof v=="string"?(u=sn(u),v=sn(v)):(u=Dc(u),v=Dc(v)),N=t(u,v)}return N}}function Zl(t){return sr(function(r){return r=jt(r,at(ct())),At(function(u){var v=this;return t(r,function(N){return qt(N,v,u)})})})}function wo(t,r){r=r===s?" ":sn(r);var u=r.length;if(u<2)return u?Ul(r,t):r;var v=Ul(r,ao(t/xr(r)));return wr(r)?Er(Fi(v),0,t).join(""):v.slice(0,t)}function Xg(t,r,u,v){var N=r&ee,F=Ca(t);function j(){for(var re=-1,he=arguments.length,ke=-1,Ee=v.length,Pe=pe(Ee+he),Ze=this&&this!==_i&&this instanceof j?F:t;++ke<Ee;)Pe[ke]=v[ke];for(;he--;)Pe[ke++]=arguments[++re];return qt(Ze,N?u:this,Pe)}return j}function Qc(t){return function(r,u,v){return v&&typeof v!="number"&&Ui(r,u,v)&&(u=v=s),r=lr(r),u===s?(u=r,r=0):u=lr(u),v=v===s?r<u?1:-1:lr(v),Rg(r,u,v,t)}}function xo(t){return function(r,u){return typeof r=="string"&&typeof u=="string"||(r=mn(r),u=mn(u)),t(r,u)}}function eh(t,r,u,v,N,F,j,re,he,ke){var Ee=r&ce,Pe=Ee?j:s,Ze=Ee?s:j,it=Ee?F:s,ft=Ee?s:F;r|=Ee?ze:Ce,r&=~(Ee?Ce:ze),r&de||(r&=~(ee|se));var kt=[t,r,N,it,Pe,ft,Ze,re,he,ke],dt=u.apply(s,kt);return iu(t)&&fh(dt,kt),dt.placeholder=v,dh(dt,t,r)}function Kl(t){var r=ye[t];return function(u,v){if(u=mn(u),v=v==null?0:zi(St(v),292),v&&dc(u)){var N=(Ht(u)+"e").split("e"),F=r(N[0]+"e"+(+N[1]+v));return N=(Ht(F)+"e").split("e"),+(N[0]+"e"+(+N[1]-v))}return r(u)}}var Jg=Ts&&1/Yr(new Ts([,-0]))[1]==ht?function(t){return new Ts(t)}:_u;function th(t){return function(r){var u=Ni(r);return u==_t?Xn(r):u==ot?xi(r):vi(r,t(r))}}function rr(t,r,u,v,N,F,j,re){var he=r&se;if(!he&&typeof t!="function")throw new wt(k);var ke=v?v.length:0;if(ke||(r&=~(ze|Ce),v=N=s),j=j===s?j:yi(St(j),0),re=re===s?re:St(re),ke-=N?N.length:0,r&Ce){var Ee=v,Pe=N;v=N=s}var Ze=he?s:Jl(t),it=[t,r,u,v,N,Ee,Pe,F,j,re];if(Ze&&dp(it,Ze),t=it[0],r=it[1],u=it[2],v=it[3],N=it[4],re=it[9]=it[9]===s?he?0:t.length:yi(it[9]-ke,0),!re&&r&(ce|me)&&(r&=~(ce|me)),!r||r==ee)var ft=Kg(t,r,u);else r==ce||r==me?ft=jg(t,r,re):(r==ze||r==(ee|ze))&&!N.length?ft=Xg(t,r,u,v):ft=yo.apply(s,it);var kt=Ze?Nc:fh;return dh(kt(ft,it),t,r)}function ih(t,r,u,v){return t===s||Sn(t,Nn[u])&&!Gt.call(v,u)?r:t}function nh(t,r,u,v,N,F){return ii(t)&&ii(r)&&(F.set(r,t),po(t,r,s,nh,F),F.delete(r)),t}function Qg(t){return ka(t)?s:t}function rh(t,r,u,v,N,F){var j=u&K,re=t.length,he=r.length;if(re!=he&&!(j&&he>re))return!1;var ke=F.get(t),Ee=F.get(r);if(ke&&Ee)return ke==r&&Ee==t;var Pe=-1,Ze=!0,it=u&V?new Xr:s;for(F.set(t,r),F.set(r,t);++Pe<re;){var ft=t[Pe],kt=r[Pe];if(v)var dt=j?v(kt,ft,Pe,r,t,F):v(ft,kt,Pe,t,r,F);if(dt!==s){if(dt)continue;Ze=!1;break}if(it){if(!la(r,function(Lt,zt){if(!Wt(it,zt)&&(ft===Lt||N(ft,Lt,u,v,F)))return it.push(zt)})){Ze=!1;break}}else if(!(ft===kt||N(ft,kt,u,v,F))){Ze=!1;break}}return F.delete(t),F.delete(r),Ze}function ep(t,r,u,v,N,F,j){switch(u){case n:if(t.byteLength!=r.byteLength||t.byteOffset!=r.byteOffset)return!1;t=t.buffer,r=r.buffer;case i:return!(t.byteLength!=r.byteLength||!F(new io(t),new io(r)));case Xt:case Et:case Rt:return Sn(+t,+r);case Nt:return t.name==r.name&&t.message==r.message;case ei:case ki:return t==r+"";case _t:var re=Xn;case ot:var he=v&K;if(re||(re=Yr),t.size!=r.size&&!he)return!1;var ke=j.get(t);if(ke)return ke==r;v|=V,j.set(t,r);var Ee=rh(re(t),re(r),v,N,F,j);return j.delete(t),Ee;case et:if(_a)return _a.call(t)==_a.call(r)}return!1}function tp(t,r,u,v,N,F){var j=u&K,re=jl(t),he=re.length,ke=jl(r),Ee=ke.length;if(he!=Ee&&!j)return!1;for(var Pe=he;Pe--;){var Ze=re[Pe];if(!(j?Ze in r:Gt.call(r,Ze)))return!1}var it=F.get(t),ft=F.get(r);if(it&&ft)return it==r&&ft==t;var kt=!0;F.set(t,r),F.set(r,t);for(var dt=j;++Pe<he;){Ze=re[Pe];var Lt=t[Ze],zt=r[Ze];if(v)var on=j?v(zt,Lt,Ze,r,t,F):v(Lt,zt,Ze,t,r,F);if(!(on===s?Lt===zt||N(Lt,zt,u,v,F):on)){kt=!1;break}dt||(dt=Ze=="constructor")}if(kt&&!dt){var Vi=t.constructor,ln=r.constructor;Vi!=ln&&"constructor"in t&&"constructor"in r&&!(typeof Vi=="function"&&Vi instanceof Vi&&typeof ln=="function"&&ln instanceof ln)&&(kt=!1)}return F.delete(t),F.delete(r),kt}function sr(t){return ru(ch(t,s,yh),t+"")}function jl(t){return Sc(t,Ci,eu)}function Xl(t){return Sc(t,Ki,sh)}var Jl=lo?function(t){return lo.get(t)}:_u;function Co(t){for(var r=t.name+"",u=ks[r],v=Gt.call(ks,r)?u.length:0;v--;){var N=u[v],F=N.func;if(F==null||F==t)return N.name}return r}function Ps(t){var r=Gt.call(B,"placeholder")?B:t;return r.placeholder}function ct(){var t=B.iteratee||pu;return t=t===pu?Ec:t,arguments.length?t(arguments[0],arguments[1]):t}function So(t,r){var u=t.__data__;return up(r)?u[typeof r=="string"?"string":"hash"]:u.map}function Ql(t){for(var r=Ci(t),u=r.length;u--;){var v=r[u],N=t[v];r[u]=[v,N,lh(N)]}return r}function es(t,r){var u=ca(t,r);return kc(u)?u:s}function ip(t){var r=Gt.call(t,Kr),u=t[Kr];try{t[Kr]=s;var v=!0}catch(F){}var N=eo.call(t);return v&&(r?t[Kr]=u:delete t[Kr]),N}var eu=El?function(t){return t==null?[]:(t=We(t),On(El(t),function(r){return hc.call(t,r)}))}:vu,sh=El?function(t){for(var r=[];t;)Mn(r,eu(t)),t=no(t);return r}:vu,Ni=qi;(Al&&Ni(new Al(new ArrayBuffer(1)))!=n||ga&&Ni(new ga)!=_t||Il&&Ni(Il.resolve())!=In||Ts&&Ni(new Ts)!=ot||pa&&Ni(new pa)!=He)&&(Ni=function(t){var r=qi(t),u=r==wi?t.constructor:s,v=u?ts(u):"";if(v)switch(v){case Bd:return n;case Fd:return _t;case qd:return In;case Ud:return ot;case Vd:return He}return r});function np(t,r,u){for(var v=-1,N=u.length;++v<N;){var F=u[v],j=F.size;switch(F.type){case"drop":t+=j;break;case"dropRight":r-=j;break;case"take":r=zi(r,t+j);break;case"takeRight":t=yi(t,r-j);break}}return{start:t,end:r}}function rp(t){var r=t.match(ie);return r?r[1].split(ae):[]}function ah(t,r,u){r=kr(r,t);for(var v=-1,N=r.length,F=!1;++v<N;){var j=Bn(r[v]);if(!(F=t!=null&&u(t,j)))break;t=t[j]}return F||++v!=N?F:(N=t==null?0:t.length,!!N&&Lo(N)&&ar(j,N)&&(xt(t)||is(t)))}function sp(t){var r=t.length,u=new t.constructor(r);return r&&typeof t[0]=="string"&&Gt.call(t,"index")&&(u.index=t.index,u.input=t.input),u}function oh(t){return typeof t.constructor=="function"&&!Sa(t)?Es(no(t)):{}}function ap(t,r,u){var v=t.constructor;switch(r){case i:return Yl(t);case Xt:case Et:return new v(+t);case n:return Hg(t,u);case o:case l:case c:case g:case d:case m:case _:case w:case C:return Hc(t,u);case _t:return new v;case Rt:case ki:return new v(t);case ei:return Wg(t);case ot:return new v;case et:return Gg(t)}}function op(t,r){var u=r.length;if(!u)return t;var v=u-1;return r[v]=(u>1?"& ":"")+r[v],r=r.join(u>2?", ":" "),t.replace(Q,`{
/* [wrapped with `+r+`] */
`)}function lp(t){return xt(t)||is(t)||!!(fc&&t&&t[fc])}function ar(t,r){var u=typeof t;return r=r==null?Re:r,!!r&&(u=="number"||u!="symbol"&&Xe.test(t))&&t>-1&&t%1==0&&t<r}function Ui(t,r,u){if(!ii(u))return!1;var v=typeof r;return(v=="number"?Zi(u)&&ar(r,u.length):v=="string"&&r in u)?Sn(u[r],t):!1}function tu(t,r){if(xt(t))return!1;var u=typeof t;return u=="number"||u=="symbol"||u=="boolean"||t==null||an(t)?!0:O.test(t)||!R.test(t)||r!=null&&t in We(r)}function up(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}function iu(t){var r=Co(t),u=B[r];if(typeof u!="function"||!(r in Mt.prototype))return!1;if(t===u)return!0;var v=Jl(u);return!!v&&t===v[0]}function cp(t){return!!lc&&lc in t}var hp=er?or:yu;function Sa(t){var r=t&&t.constructor,u=typeof r=="function"&&r.prototype||Nn;return t===u}function lh(t){return t===t&&!ii(t)}function uh(t,r){return function(u){return u==null?!1:u[t]===r&&(r!==s||t in We(u))}}function fp(t){var r=Io(t,function(v){return u.size===te&&u.clear(),v}),u=r.cache;return r}function dp(t,r){var u=t[1],v=r[1],N=u|v,F=N<(ee|se|Le),j=v==Le&&u==ce||v==Le&&u==$e&&t[7].length<=r[8]||v==(Le|$e)&&r[7].length<=r[8]&&u==ce;if(!(F||j))return t;v&ee&&(t[2]=r[2],N|=u&ee?0:de);var re=r[3];if(re){var he=t[3];t[3]=he?Gc(he,re,r[4]):re,t[4]=he?xn(t[3],ne):r[4]}return re=r[5],re&&(he=t[5],t[5]=he?$c(he,re,r[6]):re,t[6]=he?xn(t[5],ne):r[6]),re=r[7],re&&(t[7]=re),v&Le&&(t[8]=t[8]==null?r[8]:zi(t[8],r[8])),t[9]==null&&(t[9]=r[9]),t[0]=r[0],t[1]=N,t}function gp(t){var r=[];if(t!=null)for(var u in We(t))r.push(u);return r}function pp(t){return eo.call(t)}function ch(t,r,u){return r=yi(r===s?t.length-1:r,0),function(){for(var v=arguments,N=-1,F=yi(v.length-r,0),j=pe(F);++N<F;)j[N]=v[r+N];N=-1;for(var re=pe(r+1);++N<r;)re[N]=v[N];return re[r]=u(j),qt(t,this,re)}}function hh(t,r){return r.length<2?t:Qr(t,gn(r,0,-1))}function mp(t,r){for(var u=t.length,v=zi(r.length,u),N=Yi(t);v--;){var F=r[v];t[v]=ar(F,u)?N[F]:s}return t}function nu(t,r){if(!(r==="constructor"&&typeof t[r]=="function")&&r!="__proto__")return t[r]}var fh=gh(Nc),Ta=Ld||function(t,r){return _i.setTimeout(t,r)},ru=gh(Fg);function dh(t,r,u){var v=r+"";return ru(t,op(v,_p(rp(v),u)))}function gh(t){var r=0,u=0;return function(){var v=Nd(),N=Qe-(v-u);if(u=v,N>0){if(++r>=Ne)return arguments[0]}else r=0;return t.apply(s,arguments)}}function To(t,r){var u=-1,v=t.length,N=v-1;for(r=r===s?v:r;++u<r;){var F=ql(u,N),j=t[F];t[F]=t[u],t[u]=j}return t.length=r,t}var ph=fp(function(t){var r=[];return t.charCodeAt(0)===46&&r.push(""),t.replace(U,function(u,v,N,F){r.push(N?F.replace(Ae,"$1"):v||u)}),r});function Bn(t){if(typeof t=="string"||an(t))return t;var r=t+"";return r=="0"&&1/t==-ht?"-0":r}function ts(t){if(t!=null){try{return Ss.call(t)}catch(r){}try{return t+""}catch(r){}}return""}function _p(t,r){return Oi(gt,function(u){var v="_."+u[0];r&u[1]&&!ps(t,v)&&t.push(v)}),t.sort()}function mh(t){if(t instanceof Mt)return t.clone();var r=new fn(t.__wrapped__,t.__chain__);return r.__actions__=Yi(t.__actions__),r.__index__=t.__index__,r.__values__=t.__values__,r}function vp(t,r,u){(u?Ui(t,r,u):r===s)?r=1:r=yi(St(r),0);var v=t==null?0:t.length;if(!v||r<1)return[];for(var N=0,F=0,j=pe(ao(v/r));N<v;)j[F++]=gn(t,N,N+=r);return j}function yp(t){for(var r=-1,u=t==null?0:t.length,v=0,N=[];++r<u;){var F=t[r];F&&(N[v++]=F)}return N}function bp(){var t=arguments.length;if(!t)return[];for(var r=pe(t-1),u=arguments[0],v=t;v--;)r[v-1]=arguments[v];return Mn(xt(u)?Yi(u):[u],Ei(r,1))}var wp=At(function(t,r){return hi(t)?ya(t,Ei(r,1,hi,!0)):[]}),xp=At(function(t,r){var u=pn(r);return hi(u)&&(u=s),hi(t)?ya(t,Ei(r,1,hi,!0),ct(u,2)):[]}),Cp=At(function(t,r){var u=pn(r);return hi(u)&&(u=s),hi(t)?ya(t,Ei(r,1,hi,!0),s,u):[]});function Sp(t,r,u){var v=t==null?0:t.length;return v?(r=u||r===s?1:St(r),gn(t,r<0?0:r,v)):[]}function Tp(t,r,u){var v=t==null?0:t.length;return v?(r=u||r===s?1:St(r),r=v-r,gn(t,0,r<0?0:r)):[]}function kp(t,r){return t&&t.length?_o(t,ct(r,3),!0,!0):[]}function Ep(t,r){return t&&t.length?_o(t,ct(r,3),!0):[]}function Ap(t,r,u,v){var N=t==null?0:t.length;return N?(u&&typeof u!="number"&&Ui(t,r,u)&&(u=0,v=N),bg(t,r,u,v)):[]}function _h(t,r,u){var v=t==null?0:t.length;if(!v)return-1;var N=u==null?0:St(u);return N<0&&(N=yi(v+N,0)),ms(t,ct(r,3),N)}function vh(t,r,u){var v=t==null?0:t.length;if(!v)return-1;var N=v-1;return u!==s&&(N=St(u),N=u<0?yi(v+N,0):zi(N,v-1)),ms(t,ct(r,3),N,!0)}function yh(t){var r=t==null?0:t.length;return r?Ei(t,1):[]}function Ip(t){var r=t==null?0:t.length;return r?Ei(t,ht):[]}function Pp(t,r){var u=t==null?0:t.length;return u?(r=r===s?1:St(r),Ei(t,r)):[]}function Lp(t){for(var r=-1,u=t==null?0:t.length,v={};++r<u;){var N=t[r];v[N[0]]=N[1]}return v}function bh(t){return t&&t.length?t[0]:s}function Op(t,r,u){var v=t==null?0:t.length;if(!v)return-1;var N=u==null?0:St(u);return N<0&&(N=yi(v+N,0)),Kn(t,r,N)}function Mp(t){var r=t==null?0:t.length;return r?gn(t,0,-1):[]}var zp=At(function(t){var r=jt(t,Gl);return r.length&&r[0]===t[0]?Nl(r):[]}),Np=At(function(t){var r=pn(t),u=jt(t,Gl);return r===pn(u)?r=s:u.pop(),u.length&&u[0]===t[0]?Nl(u,ct(r,2)):[]}),Rp=At(function(t){var r=pn(t),u=jt(t,Gl);return r=typeof r=="function"?r:s,r&&u.pop(),u.length&&u[0]===t[0]?Nl(u,s,r):[]});function Dp(t,r){return t==null?"":Md.call(t,r)}function pn(t){var r=t==null?0:t.length;return r?t[r-1]:s}function Bp(t,r,u){var v=t==null?0:t.length;if(!v)return-1;var N=v;return u!==s&&(N=St(u),N=N<0?yi(v+N,0):zi(N,v-1)),r===r?Cl(t,r,N):ms(t,Hr,N,!0)}function Fp(t,r){return t&&t.length?Lc(t,St(r)):s}var qp=At(wh);function wh(t,r){return t&&t.length&&r&&r.length?Fl(t,r):t}function Up(t,r,u){return t&&t.length&&r&&r.length?Fl(t,r,ct(u,2)):t}function Vp(t,r,u){return t&&t.length&&r&&r.length?Fl(t,r,s,u):t}var Hp=sr(function(t,r){var u=t==null?0:t.length,v=Ll(t,r);return zc(t,jt(r,function(N){return ar(N,u)?+N:N}).sort(Wc)),v});function Wp(t,r){var u=[];if(!(t&&t.length))return u;var v=-1,N=[],F=t.length;for(r=ct(r,3);++v<F;){var j=t[v];r(j,v,t)&&(u.push(j),N.push(v))}return zc(t,N),u}function su(t){return t==null?t:Dd.call(t)}function Gp(t,r,u){var v=t==null?0:t.length;return v?(u&&typeof u!="number"&&Ui(t,r,u)?(r=0,u=v):(r=r==null?0:St(r),u=u===s?v:St(u)),gn(t,r,u)):[]}function $p(t,r){return mo(t,r)}function Yp(t,r,u){return Vl(t,r,ct(u,2))}function Zp(t,r){var u=t==null?0:t.length;if(u){var v=mo(t,r);if(v<u&&Sn(t[v],r))return v}return-1}function Kp(t,r){return mo(t,r,!0)}function jp(t,r,u){return Vl(t,r,ct(u,2),!0)}function Xp(t,r){var u=t==null?0:t.length;if(u){var v=mo(t,r,!0)-1;if(Sn(t[v],r))return v}return-1}function Jp(t){return t&&t.length?Rc(t):[]}function Qp(t,r){return t&&t.length?Rc(t,ct(r,2)):[]}function em(t){var r=t==null?0:t.length;return r?gn(t,1,r):[]}function tm(t,r,u){return t&&t.length?(r=u||r===s?1:St(r),gn(t,0,r<0?0:r)):[]}function im(t,r,u){var v=t==null?0:t.length;return v?(r=u||r===s?1:St(r),r=v-r,gn(t,r<0?0:r,v)):[]}function nm(t,r){return t&&t.length?_o(t,ct(r,3),!1,!0):[]}function rm(t,r){return t&&t.length?_o(t,ct(r,3)):[]}var sm=At(function(t){return Tr(Ei(t,1,hi,!0))}),am=At(function(t){var r=pn(t);return hi(r)&&(r=s),Tr(Ei(t,1,hi,!0),ct(r,2))}),om=At(function(t){var r=pn(t);return r=typeof r=="function"?r:s,Tr(Ei(t,1,hi,!0),s,r)});function lm(t){return t&&t.length?Tr(t):[]}function um(t,r){return t&&t.length?Tr(t,ct(r,2)):[]}function cm(t,r){return r=typeof r=="function"?r:s,t&&t.length?Tr(t,s,r):[]}function au(t){if(!(t&&t.length))return[];var r=0;return t=On(t,function(u){if(hi(u))return r=yi(u.length,r),!0}),bs(r,function(u){return jt(t,_s(u))})}function xh(t,r){if(!(t&&t.length))return[];var u=au(t);return r==null?u:jt(u,function(v){return qt(r,s,v)})}var hm=At(function(t,r){return hi(t)?ya(t,r):[]}),fm=At(function(t){return Wl(On(t,hi))}),dm=At(function(t){var r=pn(t);return hi(r)&&(r=s),Wl(On(t,hi),ct(r,2))}),gm=At(function(t){var r=pn(t);return r=typeof r=="function"?r:s,Wl(On(t,hi),s,r)}),pm=At(au);function mm(t,r){return qc(t||[],r||[],va)}function _m(t,r){return qc(t||[],r||[],xa)}var vm=At(function(t){var r=t.length,u=r>1?t[r-1]:s;return u=typeof u=="function"?(t.pop(),u):s,xh(t,u)});function Ch(t){var r=B(t);return r.__chain__=!0,r}function ym(t,r){return r(t),t}function ko(t,r){return r(t)}var bm=sr(function(t){var r=t.length,u=r?t[0]:0,v=this.__wrapped__,N=function(F){return Ll(F,t)};return r>1||this.__actions__.length||!(v instanceof Mt)||!ar(u)?this.thru(N):(v=v.slice(u,+u+(r?1:0)),v.__actions__.push({func:ko,args:[N],thisArg:s}),new fn(v,this.__chain__).thru(function(F){return r&&!F.length&&F.push(s),F}))});function wm(){return Ch(this)}function xm(){return new fn(this.value(),this.__chain__)}function Cm(){this.__values__===s&&(this.__values__=Dh(this.value()));var t=this.__index__>=this.__values__.length,r=t?s:this.__values__[this.__index__++];return{done:t,value:r}}function Sm(){return this}function Tm(t){for(var r,u=this;u instanceof co;){var v=mh(u);v.__index__=0,v.__values__=s,r?N.__wrapped__=v:r=v;var N=v;u=u.__wrapped__}return N.__wrapped__=t,r}function km(){var t=this.__wrapped__;if(t instanceof Mt){var r=t;return this.__actions__.length&&(r=new Mt(this)),r=r.reverse(),r.__actions__.push({func:ko,args:[su],thisArg:s}),new fn(r,this.__chain__)}return this.thru(su)}function Em(){return Fc(this.__wrapped__,this.__actions__)}var Am=vo(function(t,r,u){Gt.call(t,u)?++t[u]:nr(t,u,1)});function Im(t,r,u){var v=xt(t)?Ja:yg;return u&&Ui(t,r,u)&&(r=s),v(t,ct(r,3))}function Pm(t,r){var u=xt(t)?On:xc;return u(t,ct(r,3))}var Lm=jc(_h),Om=jc(vh);function Mm(t,r){return Ei(Eo(t,r),1)}function zm(t,r){return Ei(Eo(t,r),ht)}function Nm(t,r,u){return u=u===s?1:St(u),Ei(Eo(t,r),u)}function Sh(t,r){var u=xt(t)?Oi:Sr;return u(t,ct(r,3))}function Th(t,r){var u=xt(t)?yr:wc;return u(t,ct(r,3))}var Rm=vo(function(t,r,u){Gt.call(t,u)?t[u].push(r):nr(t,u,[r])});function Dm(t,r,u,v){t=Zi(t)?t:Os(t),u=u&&!v?St(u):0;var N=t.length;return u<0&&(u=yi(N+u,0)),Oo(t)?u<=N&&t.indexOf(r,u)>-1:!!N&&Kn(t,r,u)>-1}var Bm=At(function(t,r,u){var v=-1,N=typeof r=="function",F=Zi(t)?pe(t.length):[];return Sr(t,function(j){F[++v]=N?qt(r,j,u):ba(j,r,u)}),F}),Fm=vo(function(t,r,u){nr(t,u,r)});function Eo(t,r){var u=xt(t)?jt:Ac;return u(t,ct(r,3))}function qm(t,r,u,v){return t==null?[]:(xt(r)||(r=r==null?[]:[r]),u=v?s:u,xt(u)||(u=u==null?[]:[u]),Oc(t,r,u))}var Um=vo(function(t,r,u){t[u?0:1].push(r)},function(){return[[],[]]});function Vm(t,r,u){var v=xt(t)?oa:Ot,N=arguments.length<3;return v(t,ct(r,4),u,N,Sr)}function Hm(t,r,u){var v=xt(t)?bl:Ot,N=arguments.length<3;return v(t,ct(r,4),u,N,wc)}function Wm(t,r){var u=xt(t)?On:xc;return u(t,Po(ct(r,3)))}function Gm(t){var r=xt(t)?_c:Dg;return r(t)}function $m(t,r,u){(u?Ui(t,r,u):r===s)?r=1:r=St(r);var v=xt(t)?gg:Bg;return v(t,r)}function Ym(t){var r=xt(t)?pg:qg;return r(t)}function Zm(t){if(t==null)return 0;if(Zi(t))return Oo(t)?xr(t):t.length;var r=Ni(t);return r==_t||r==ot?t.size:Dl(t).length}function Km(t,r,u){var v=xt(t)?la:Ug;return u&&Ui(t,r,u)&&(r=s),v(t,ct(r,3))}var jm=At(function(t,r){if(t==null)return[];var u=r.length;return u>1&&Ui(t,r[0],r[1])?r=[]:u>2&&Ui(r[0],r[1],r[2])&&(r=[r[0]]),Oc(t,Ei(r,1),[])}),Ao=Pd||function(){return _i.Date.now()};function Xm(t,r){if(typeof r!="function")throw new wt(k);return t=St(t),function(){if(--t<1)return r.apply(this,arguments)}}function kh(t,r,u){return r=u?s:r,r=t&&r==null?t.length:r,rr(t,Le,s,s,s,s,r)}function Eh(t,r){var u;if(typeof r!="function")throw new wt(k);return t=St(t),function(){return--t>0&&(u=r.apply(this,arguments)),t<=1&&(r=s),u}}var ou=At(function(t,r,u){var v=ee;if(u.length){var N=xn(u,Ps(ou));v|=ze}return rr(t,v,r,u,N)}),Ah=At(function(t,r,u){var v=ee|se;if(u.length){var N=xn(u,Ps(Ah));v|=ze}return rr(r,v,t,u,N)});function Ih(t,r,u){r=u?s:r;var v=rr(t,ce,s,s,s,s,s,r);return v.placeholder=Ih.placeholder,v}function Ph(t,r,u){r=u?s:r;var v=rr(t,me,s,s,s,s,s,r);return v.placeholder=Ph.placeholder,v}function Lh(t,r,u){var v,N,F,j,re,he,ke=0,Ee=!1,Pe=!1,Ze=!0;if(typeof t!="function")throw new wt(k);r=mn(r)||0,ii(u)&&(Ee=!!u.leading,Pe="maxWait"in u,F=Pe?yi(mn(u.maxWait)||0,r):F,Ze="trailing"in u?!!u.trailing:Ze);function it(fi){var Tn=v,ur=N;return v=N=s,ke=fi,j=t.apply(ur,Tn),j}function ft(fi){return ke=fi,re=Ta(Lt,r),Ee?it(fi):j}function kt(fi){var Tn=fi-he,ur=fi-ke,jh=r-Tn;return Pe?zi(jh,F-ur):jh}function dt(fi){var Tn=fi-he,ur=fi-ke;return he===s||Tn>=r||Tn<0||Pe&&ur>=F}function Lt(){var fi=Ao();if(dt(fi))return zt(fi);re=Ta(Lt,kt(fi))}function zt(fi){return re=s,Ze&&v?it(fi):(v=N=s,j)}function on(){re!==s&&Uc(re),ke=0,v=he=N=re=s}function Vi(){return re===s?j:zt(Ao())}function ln(){var fi=Ao(),Tn=dt(fi);if(v=arguments,N=this,he=fi,Tn){if(re===s)return ft(he);if(Pe)return Uc(re),re=Ta(Lt,r),it(he)}return re===s&&(re=Ta(Lt,r)),j}return ln.cancel=on,ln.flush=Vi,ln}var Jm=At(function(t,r){return bc(t,1,r)}),Qm=At(function(t,r,u){return bc(t,mn(r)||0,u)});function e_(t){return rr(t,Fe)}function Io(t,r){if(typeof t!="function"||r!=null&&typeof r!="function")throw new wt(k);var u=function(){var v=arguments,N=r?r.apply(this,v):v[0],F=u.cache;if(F.has(N))return F.get(N);var j=t.apply(this,v);return u.cache=F.set(N,j)||F,j};return u.cache=new(Io.Cache||ir),u}Io.Cache=ir;function Po(t){if(typeof t!="function")throw new wt(k);return function(){var r=arguments;switch(r.length){case 0:return!t.call(this);case 1:return!t.call(this,r[0]);case 2:return!t.call(this,r[0],r[1]);case 3:return!t.call(this,r[0],r[1],r[2])}return!t.apply(this,r)}}function t_(t){return Eh(2,t)}var i_=Vg(function(t,r){r=r.length==1&&xt(r[0])?jt(r[0],at(ct())):jt(Ei(r,1),at(ct()));var u=r.length;return At(function(v){for(var N=-1,F=zi(v.length,u);++N<F;)v[N]=r[N].call(this,v[N]);return qt(t,this,v)})}),lu=At(function(t,r){var u=xn(r,Ps(lu));return rr(t,ze,s,r,u)}),Oh=At(function(t,r){var u=xn(r,Ps(Oh));return rr(t,Ce,s,r,u)}),n_=sr(function(t,r){return rr(t,$e,s,s,s,r)});function r_(t,r){if(typeof t!="function")throw new wt(k);return r=r===s?r:St(r),At(t,r)}function s_(t,r){if(typeof t!="function")throw new wt(k);return r=r==null?0:yi(St(r),0),At(function(u){var v=u[r],N=Er(u,0,r);return v&&Mn(N,v),qt(t,this,N)})}function a_(t,r,u){var v=!0,N=!0;if(typeof t!="function")throw new wt(k);return ii(u)&&(v="leading"in u?!!u.leading:v,N="trailing"in u?!!u.trailing:N),Lh(t,r,{leading:v,maxWait:r,trailing:N})}function o_(t){return kh(t,1)}function l_(t,r){return lu($l(r),t)}function u_(){if(!arguments.length)return[];var t=arguments[0];return xt(t)?t:[t]}function c_(t){return dn(t,z)}function h_(t,r){return r=typeof r=="function"?r:s,dn(t,z,r)}function f_(t){return dn(t,ue|z)}function d_(t,r){return r=typeof r=="function"?r:s,dn(t,ue|z,r)}function g_(t,r){return r==null||yc(t,r,Ci(r))}function Sn(t,r){return t===r||t!==t&&r!==r}var p_=xo(zl),m_=xo(function(t,r){return t>=r}),is=Tc(function(){return arguments}())?Tc:function(t){return ai(t)&&Gt.call(t,"callee")&&!hc.call(t,"callee")},xt=pe.isArray,__=Ur?at(Ur):Tg;function Zi(t){return t!=null&&Lo(t.length)&&!or(t)}function hi(t){return ai(t)&&Zi(t)}function v_(t){return t===!0||t===!1||ai(t)&&qi(t)==Xt}var Ar=Od||yu,y_=Yn?at(Yn):kg;function b_(t){return ai(t)&&t.nodeType===1&&!ka(t)}function w_(t){if(t==null)return!0;if(Zi(t)&&(xt(t)||typeof t=="string"||typeof t.splice=="function"||Ar(t)||Ls(t)||is(t)))return!t.length;var r=Ni(t);if(r==_t||r==ot)return!t.size;if(Sa(t))return!Dl(t).length;for(var u in t)if(Gt.call(t,u))return!1;return!0}function x_(t,r){return wa(t,r)}function C_(t,r,u){u=typeof u=="function"?u:s;var v=u?u(t,r):s;return v===s?wa(t,r,s,u):!!v}function uu(t){if(!ai(t))return!1;var r=qi(t);return r==Nt||r==Ft||typeof t.message=="string"&&typeof t.name=="string"&&!ka(t)}function S_(t){return typeof t=="number"&&dc(t)}function or(t){if(!ii(t))return!1;var r=qi(t);return r==Ti||r==Je||r==Kt||r==mr}function Mh(t){return typeof t=="number"&&t==St(t)}function Lo(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Re}function ii(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}function ai(t){return t!=null&&typeof t=="object"}var zh=Vr?at(Vr):Ag;function T_(t,r){return t===r||Rl(t,r,Ql(r))}function k_(t,r,u){return u=typeof u=="function"?u:s,Rl(t,r,Ql(r),u)}function E_(t){return Nh(t)&&t!=+t}function A_(t){if(hp(t))throw new Z(p);return kc(t)}function I_(t){return t===null}function P_(t){return t==null}function Nh(t){return typeof t=="number"||ai(t)&&qi(t)==Rt}function ka(t){if(!ai(t)||qi(t)!=wi)return!1;var r=no(t);if(r===null)return!0;var u=Gt.call(r,"constructor")&&r.constructor;return typeof u=="function"&&u instanceof u&&Ss.call(u)==kd}var cu=ra?at(ra):Ig;function L_(t){return Mh(t)&&t>=-Re&&t<=Re}var Rh=Ln?at(Ln):Pg;function Oo(t){return typeof t=="string"||!xt(t)&&ai(t)&&qi(t)==ki}function an(t){return typeof t=="symbol"||ai(t)&&qi(t)==et}var Ls=sa?at(sa):Lg;function O_(t){return t===s}function M_(t){return ai(t)&&Ni(t)==He}function z_(t){return ai(t)&&qi(t)==e}var N_=xo(Bl),R_=xo(function(t,r){return t<=r});function Dh(t){if(!t)return[];if(Zi(t))return Oo(t)?Fi(t):Yi(t);if(da&&t[da])return $r(t[da]());var r=Ni(t),u=r==_t?Xn:r==ot?Yr:Os;return u(t)}function lr(t){if(!t)return t===0?t:0;if(t=mn(t),t===ht||t===-ht){var r=t<0?-1:1;return r*Ie}return t===t?t:0}function St(t){var r=lr(t),u=r%1;return r===r?u?r-u:r:0}function Bh(t){return t?Jr(St(t),0,Be):0}function mn(t){if(typeof t=="number")return t;if(an(t))return ve;if(ii(t)){var r=typeof t.valueOf=="function"?t.valueOf():t;t=ii(r)?r+"":r}if(typeof t!="string")return t===0?t:+t;t=bn(t);var u=we.test(t);return u||qe.test(t)?vl(t.slice(2),u?2:8):Ye.test(t)?ve:+t}function Fh(t){return Dn(t,Ki(t))}function D_(t){return t?Jr(St(t),-Re,Re):t===0?t:0}function Ht(t){return t==null?"":sn(t)}var B_=As(function(t,r){if(Sa(r)||Zi(r)){Dn(r,Ci(r),t);return}for(var u in r)Gt.call(r,u)&&va(t,u,r[u])}),qh=As(function(t,r){Dn(r,Ki(r),t)}),Mo=As(function(t,r,u,v){Dn(r,Ki(r),t,v)}),F_=As(function(t,r,u,v){Dn(r,Ci(r),t,v)}),q_=sr(Ll);function U_(t,r){var u=Es(t);return r==null?u:vc(u,r)}var V_=At(function(t,r){t=We(t);var u=-1,v=r.length,N=v>2?r[2]:s;for(N&&Ui(r[0],r[1],N)&&(v=1);++u<v;)for(var F=r[u],j=Ki(F),re=-1,he=j.length;++re<he;){var ke=j[re],Ee=t[ke];(Ee===s||Sn(Ee,Nn[ke])&&!Gt.call(t,ke))&&(t[ke]=F[ke])}return t}),H_=At(function(t){return t.push(s,nh),qt(Uh,s,t)});function W_(t,r){return br(t,ct(r,3),Rn)}function G_(t,r){return br(t,ct(r,3),Ml)}function $_(t,r){return t==null?t:Ol(t,ct(r,3),Ki)}function Y_(t,r){return t==null?t:Cc(t,ct(r,3),Ki)}function Z_(t,r){return t&&Rn(t,ct(r,3))}function K_(t,r){return t&&Ml(t,ct(r,3))}function j_(t){return t==null?[]:go(t,Ci(t))}function X_(t){return t==null?[]:go(t,Ki(t))}function hu(t,r,u){var v=t==null?s:Qr(t,r);return v===s?u:v}function J_(t,r){return t!=null&&ah(t,r,wg)}function fu(t,r){return t!=null&&ah(t,r,xg)}var Q_=Jc(function(t,r,u){r!=null&&typeof r.toString!="function"&&(r=eo.call(r)),t[r]=u},gu(ji)),ev=Jc(function(t,r,u){r!=null&&typeof r.toString!="function"&&(r=eo.call(r)),Gt.call(t,r)?t[r].push(u):t[r]=[u]},ct),tv=At(ba);function Ci(t){return Zi(t)?mc(t):Dl(t)}function Ki(t){return Zi(t)?mc(t,!0):Og(t)}function iv(t,r){var u={};return r=ct(r,3),Rn(t,function(v,N,F){nr(u,r(v,N,F),v)}),u}function nv(t,r){var u={};return r=ct(r,3),Rn(t,function(v,N,F){nr(u,N,r(v,N,F))}),u}var rv=As(function(t,r,u){po(t,r,u)}),Uh=As(function(t,r,u,v){po(t,r,u,v)}),sv=sr(function(t,r){var u={};if(t==null)return u;var v=!1;r=jt(r,function(F){return F=kr(F,t),v||(v=F.length>1),F}),Dn(t,Xl(t),u),v&&(u=dn(u,ue|H|z,Qg));for(var N=r.length;N--;)Hl(u,r[N]);return u});function av(t,r){return Vh(t,Po(ct(r)))}var ov=sr(function(t,r){return t==null?{}:zg(t,r)});function Vh(t,r){if(t==null)return{};var u=jt(Xl(t),function(v){return[v]});return r=ct(r),Mc(t,u,function(v,N){return r(v,N[0])})}function lv(t,r,u){r=kr(r,t);var v=-1,N=r.length;for(N||(N=1,t=s);++v<N;){var F=t==null?s:t[Bn(r[v])];F===s&&(v=N,F=u),t=or(F)?F.call(t):F}return t}function uv(t,r,u){return t==null?t:xa(t,r,u)}function cv(t,r,u,v){return v=typeof v=="function"?v:s,t==null?t:xa(t,r,u,v)}var Hh=th(Ci),Wh=th(Ki);function hv(t,r,u){var v=xt(t),N=v||Ar(t)||Ls(t);if(r=ct(r,4),u==null){var F=t&&t.constructor;N?u=v?new F:[]:ii(t)?u=or(F)?Es(no(t)):{}:u={}}return(N?Oi:Rn)(t,function(j,re,he){return r(u,j,re,he)}),u}function fv(t,r){return t==null?!0:Hl(t,r)}function dv(t,r,u){return t==null?t:Bc(t,r,$l(u))}function gv(t,r,u,v){return v=typeof v=="function"?v:s,t==null?t:Bc(t,r,$l(u),v)}function Os(t){return t==null?[]:Wr(t,Ci(t))}function pv(t){return t==null?[]:Wr(t,Ki(t))}function mv(t,r,u){return u===s&&(u=r,r=s),u!==s&&(u=mn(u),u=u===u?u:0),r!==s&&(r=mn(r),r=r===r?r:0),Jr(mn(t),r,u)}function _v(t,r,u){return r=lr(r),u===s?(u=r,r=0):u=lr(u),t=mn(t),Cg(t,r,u)}function vv(t,r,u){if(u&&typeof u!="boolean"&&Ui(t,r,u)&&(r=u=s),u===s&&(typeof r=="boolean"?(u=r,r=s):typeof t=="boolean"&&(u=t,t=s)),t===s&&r===s?(t=0,r=1):(t=lr(t),r===s?(r=t,t=0):r=lr(r)),t>r){var v=t;t=r,r=v}if(u||t%1||r%1){var N=gc();return zi(t+N*(r-t+_l("1e-"+((N+"").length-1))),r)}return ql(t,r)}var yv=Is(function(t,r,u){return r=r.toLowerCase(),t+(u?Gh(r):r)});function Gh(t){return du(Ht(t).toLowerCase())}function $h(t){return t=Ht(t),t&&t.replace(je,wn).replace(Za,"")}function bv(t,r,u){t=Ht(t),r=sn(r);var v=t.length;u=u===s?v:Jr(St(u),0,v);var N=u;return u-=r.length,u>=0&&t.slice(u,N)==r}function wv(t){return t=Ht(t),t&&I.test(t)?t.replace(L,ws):t}function xv(t){return t=Ht(t),t&&Y.test(t)?t.replace(G,"\\$&"):t}var Cv=Is(function(t,r,u){return t+(u?"-":"")+r.toLowerCase()}),Sv=Is(function(t,r,u){return t+(u?" ":"")+r.toLowerCase()}),Tv=Kc("toLowerCase");function kv(t,r,u){t=Ht(t),r=St(r);var v=r?xr(t):0;if(!r||v>=r)return t;var N=(r-v)/2;return wo(oo(N),u)+t+wo(ao(N),u)}function Ev(t,r,u){t=Ht(t),r=St(r);var v=r?xr(t):0;return r&&v<r?t+wo(r-v,u):t}function Av(t,r,u){t=Ht(t),r=St(r);var v=r?xr(t):0;return r&&v<r?wo(r-v,u)+t:t}function Iv(t,r,u){return u||r==null?r=0:r&&(r=+r),Rd(Ht(t).replace(J,""),r||0)}function Pv(t,r,u){return(u?Ui(t,r,u):r===s)?r=1:r=St(r),Ul(Ht(t),r)}function Lv(){var t=arguments,r=Ht(t[0]);return t.length<3?r:r.replace(t[1],t[2])}var Ov=Is(function(t,r,u){return t+(u?"_":"")+r.toLowerCase()});function Mv(t,r,u){return u&&typeof u!="number"&&Ui(t,r,u)&&(r=u=s),u=u===s?Be:u>>>0,u?(t=Ht(t),t&&(typeof r=="string"||r!=null&&!cu(r))&&(r=sn(r),!r&&wr(t))?Er(Fi(t),0,u):t.split(r,u)):[]}var zv=Is(function(t,r,u){return t+(u?" ":"")+du(r)});function Nv(t,r,u){return t=Ht(t),u=u==null?0:Jr(St(u),0,t.length),r=sn(r),t.slice(u,u+r.length)==r}function Rv(t,r,u){var v=B.templateSettings;u&&Ui(t,r,u)&&(r=s),t=Ht(t),r=Mo({},r,v,ih);var N=Mo({},r.imports,v.imports,ih),F=Ci(N),j=Wr(N,F),re,he,ke=0,Ee=r.interpolate||nt,Pe="__p += '",Ze=lt((r.escape||nt).source+"|"+Ee.source+"|"+(Ee===M?Me:nt).source+"|"+(r.evaluate||nt).source+"|$","g"),it="//# sourceURL="+(Gt.call(r,"sourceURL")?(r.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++gl+"]")+`
`;t.replace(Ze,function(dt,Lt,zt,on,Vi,ln){return zt||(zt=on),Pe+=t.slice(ke,ln).replace(st,xl),Lt&&(re=!0,Pe+=`' +
__e(`+Lt+`) +
'`),Vi&&(he=!0,Pe+=`';
`+Vi+`;
__p += '`),zt&&(Pe+=`' +
((__t = (`+zt+`)) == null ? '' : __t) +
'`),ke=ln+dt.length,dt}),Pe+=`';
`;var ft=Gt.call(r,"variable")&&r.variable;if(!ft)Pe=`with (obj) {
`+Pe+`
}
`;else if(ge.test(ft))throw new Z(D);Pe=(he?Pe.replace(x,""):Pe).replace(b,"$1").replace(P,"$1;"),Pe="function("+(ft||"obj")+`) {
`+(ft?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(re?", __e = _.escape":"")+(he?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Pe+`return __p
}`;var kt=Zh(function(){return fe(F,it+"return "+Pe).apply(s,j)});if(kt.source=Pe,uu(kt))throw kt;return kt}function Dv(t){return Ht(t).toLowerCase()}function Bv(t){return Ht(t).toUpperCase()}function Fv(t,r,u){if(t=Ht(t),t&&(u||r===s))return bn(t);if(!t||!(r=sn(r)))return t;var v=Fi(t),N=Fi(r),F=Gr(v,N),j=zn(v,N)+1;return Er(v,F,j).join("")}function qv(t,r,u){if(t=Ht(t),t&&(u||r===s))return t.slice(0,Cs(t)+1);if(!t||!(r=sn(r)))return t;var v=Fi(t),N=zn(v,Fi(r))+1;return Er(v,0,N).join("")}function Uv(t,r,u){if(t=Ht(t),t&&(u||r===s))return t.replace(J,"");if(!t||!(r=sn(r)))return t;var v=Fi(t),N=Gr(v,Fi(r));return Er(v,N).join("")}function Vv(t,r){var u=tt,v=Oe;if(ii(r)){var N="separator"in r?r.separator:N;u="length"in r?St(r.length):u,v="omission"in r?sn(r.omission):v}t=Ht(t);var F=t.length;if(wr(t)){var j=Fi(t);F=j.length}if(u>=F)return t;var re=u-xr(v);if(re<1)return v;var he=j?Er(j,0,re).join(""):t.slice(0,re);if(N===s)return he+v;if(j&&(re+=he.length-re),cu(N)){if(t.slice(re).search(N)){var ke,Ee=he;for(N.global||(N=lt(N.source,Ht(De.exec(N))+"g")),N.lastIndex=0;ke=N.exec(Ee);)var Pe=ke.index;he=he.slice(0,Pe===s?re:Pe)}}else if(t.indexOf(sn(N),re)!=re){var Ze=he.lastIndexOf(N);Ze>-1&&(he=he.slice(0,Ze))}return he+v}function Hv(t){return t=Ht(t),t&&S.test(t)?t.replace(E,Sl):t}var Wv=Is(function(t,r,u){return t+(u?" ":"")+r.toUpperCase()}),du=Kc("toUpperCase");function Yh(t,r,u){return t=Ht(t),r=u?s:r,r===s?rn(t)?Tl(t):Qa(t):t.match(r)||[]}var Zh=At(function(t,r){try{return qt(t,s,r)}catch(u){return uu(u)?u:new Z(u)}}),Gv=sr(function(t,r){return Oi(r,function(u){u=Bn(u),nr(t,u,ou(t[u],t))}),t});function $v(t){var r=t==null?0:t.length,u=ct();return t=r?jt(t,function(v){if(typeof v[1]!="function")throw new wt(k);return[u(v[0]),v[1]]}):[],At(function(v){for(var N=-1;++N<r;){var F=t[N];if(qt(F[0],this,v))return qt(F[1],this,v)}})}function Yv(t){return vg(dn(t,ue))}function gu(t){return function(){return t}}function Zv(t,r){return t==null||t!==t?r:t}var Kv=Xc(),jv=Xc(!0);function ji(t){return t}function pu(t){return Ec(typeof t=="function"?t:dn(t,ue))}function Xv(t){return Ic(dn(t,ue))}function Jv(t,r){return Pc(t,dn(r,ue))}var Qv=At(function(t,r){return function(u){return ba(u,t,r)}}),e0=At(function(t,r){return function(u){return ba(t,u,r)}});function mu(t,r,u){var v=Ci(r),N=go(r,v);u==null&&!(ii(r)&&(N.length||!v.length))&&(u=r,r=t,t=this,N=go(r,Ci(r)));var F=!(ii(u)&&"chain"in u)||!!u.chain,j=or(t);return Oi(N,function(re){var he=r[re];t[re]=he,j&&(t.prototype[re]=function(){var ke=this.__chain__;if(F||ke){var Ee=t(this.__wrapped__),Pe=Ee.__actions__=Yi(this.__actions__);return Pe.push({func:he,args:arguments,thisArg:t}),Ee.__chain__=ke,Ee}return he.apply(t,Mn([this.value()],arguments))})}),t}function t0(){return _i._===this&&(_i._=Ed),this}function _u(){}function i0(t){return t=St(t),At(function(r){return Lc(r,t)})}var n0=Zl(jt),r0=Zl(Ja),s0=Zl(la);function Kh(t){return tu(t)?_s(Bn(t)):Ng(t)}function a0(t){return function(r){return t==null?s:Qr(t,r)}}var o0=Qc(),l0=Qc(!0);function vu(){return[]}function yu(){return!1}function u0(){return{}}function c0(){return""}function h0(){return!0}function f0(t,r){if(t=St(t),t<1||t>Re)return[];var u=Be,v=zi(t,Be);r=ct(r),t-=Be;for(var N=bs(v,r);++u<t;)r(u);return N}function d0(t){return xt(t)?jt(t,Bn):an(t)?[t]:Yi(ph(Ht(t)))}function g0(t){var r=++Td;return Ht(t)+r}var p0=bo(function(t,r){return t+r},0),m0=Kl("ceil"),_0=bo(function(t,r){return t/r},1),v0=Kl("floor");function y0(t){return t&&t.length?fo(t,ji,zl):s}function b0(t,r){return t&&t.length?fo(t,ct(r,2),zl):s}function w0(t){return jn(t,ji)}function x0(t,r){return jn(t,ct(r,2))}function C0(t){return t&&t.length?fo(t,ji,Bl):s}function S0(t,r){return t&&t.length?fo(t,ct(r,2),Bl):s}var T0=bo(function(t,r){return t*r},1),k0=Kl("round"),E0=bo(function(t,r){return t-r},0);function A0(t){return t&&t.length?ys(t,ji):0}function I0(t,r){return t&&t.length?ys(t,ct(r,2)):0}return B.after=Xm,B.ary=kh,B.assign=B_,B.assignIn=qh,B.assignInWith=Mo,B.assignWith=F_,B.at=q_,B.before=Eh,B.bind=ou,B.bindAll=Gv,B.bindKey=Ah,B.castArray=u_,B.chain=Ch,B.chunk=vp,B.compact=yp,B.concat=bp,B.cond=$v,B.conforms=Yv,B.constant=gu,B.countBy=Am,B.create=U_,B.curry=Ih,B.curryRight=Ph,B.debounce=Lh,B.defaults=V_,B.defaultsDeep=H_,B.defer=Jm,B.delay=Qm,B.difference=wp,B.differenceBy=xp,B.differenceWith=Cp,B.drop=Sp,B.dropRight=Tp,B.dropRightWhile=kp,B.dropWhile=Ep,B.fill=Ap,B.filter=Pm,B.flatMap=Mm,B.flatMapDeep=zm,B.flatMapDepth=Nm,B.flatten=yh,B.flattenDeep=Ip,B.flattenDepth=Pp,B.flip=e_,B.flow=Kv,B.flowRight=jv,B.fromPairs=Lp,B.functions=j_,B.functionsIn=X_,B.groupBy=Rm,B.initial=Mp,B.intersection=zp,B.intersectionBy=Np,B.intersectionWith=Rp,B.invert=Q_,B.invertBy=ev,B.invokeMap=Bm,B.iteratee=pu,B.keyBy=Fm,B.keys=Ci,B.keysIn=Ki,B.map=Eo,B.mapKeys=iv,B.mapValues=nv,B.matches=Xv,B.matchesProperty=Jv,B.memoize=Io,B.merge=rv,B.mergeWith=Uh,B.method=Qv,B.methodOf=e0,B.mixin=mu,B.negate=Po,B.nthArg=i0,B.omit=sv,B.omitBy=av,B.once=t_,B.orderBy=qm,B.over=n0,B.overArgs=i_,B.overEvery=r0,B.overSome=s0,B.partial=lu,B.partialRight=Oh,B.partition=Um,B.pick=ov,B.pickBy=Vh,B.property=Kh,B.propertyOf=a0,B.pull=qp,B.pullAll=wh,B.pullAllBy=Up,B.pullAllWith=Vp,B.pullAt=Hp,B.range=o0,B.rangeRight=l0,B.rearg=n_,B.reject=Wm,B.remove=Wp,B.rest=r_,B.reverse=su,B.sampleSize=$m,B.set=uv,B.setWith=cv,B.shuffle=Ym,B.slice=Gp,B.sortBy=jm,B.sortedUniq=Jp,B.sortedUniqBy=Qp,B.split=Mv,B.spread=s_,B.tail=em,B.take=tm,B.takeRight=im,B.takeRightWhile=nm,B.takeWhile=rm,B.tap=ym,B.throttle=a_,B.thru=ko,B.toArray=Dh,B.toPairs=Hh,B.toPairsIn=Wh,B.toPath=d0,B.toPlainObject=Fh,B.transform=hv,B.unary=o_,B.union=sm,B.unionBy=am,B.unionWith=om,B.uniq=lm,B.uniqBy=um,B.uniqWith=cm,B.unset=fv,B.unzip=au,B.unzipWith=xh,B.update=dv,B.updateWith=gv,B.values=Os,B.valuesIn=pv,B.without=hm,B.words=Yh,B.wrap=l_,B.xor=fm,B.xorBy=dm,B.xorWith=gm,B.zip=pm,B.zipObject=mm,B.zipObjectDeep=_m,B.zipWith=vm,B.entries=Hh,B.entriesIn=Wh,B.extend=qh,B.extendWith=Mo,mu(B,B),B.add=p0,B.attempt=Zh,B.camelCase=yv,B.capitalize=Gh,B.ceil=m0,B.clamp=mv,B.clone=c_,B.cloneDeep=f_,B.cloneDeepWith=d_,B.cloneWith=h_,B.conformsTo=g_,B.deburr=$h,B.defaultTo=Zv,B.divide=_0,B.endsWith=bv,B.eq=Sn,B.escape=wv,B.escapeRegExp=xv,B.every=Im,B.find=Lm,B.findIndex=_h,B.findKey=W_,B.findLast=Om,B.findLastIndex=vh,B.findLastKey=G_,B.floor=v0,B.forEach=Sh,B.forEachRight=Th,B.forIn=$_,B.forInRight=Y_,B.forOwn=Z_,B.forOwnRight=K_,B.get=hu,B.gt=p_,B.gte=m_,B.has=J_,B.hasIn=fu,B.head=bh,B.identity=ji,B.includes=Dm,B.indexOf=Op,B.inRange=_v,B.invoke=tv,B.isArguments=is,B.isArray=xt,B.isArrayBuffer=__,B.isArrayLike=Zi,B.isArrayLikeObject=hi,B.isBoolean=v_,B.isBuffer=Ar,B.isDate=y_,B.isElement=b_,B.isEmpty=w_,B.isEqual=x_,B.isEqualWith=C_,B.isError=uu,B.isFinite=S_,B.isFunction=or,B.isInteger=Mh,B.isLength=Lo,B.isMap=zh,B.isMatch=T_,B.isMatchWith=k_,B.isNaN=E_,B.isNative=A_,B.isNil=P_,B.isNull=I_,B.isNumber=Nh,B.isObject=ii,B.isObjectLike=ai,B.isPlainObject=ka,B.isRegExp=cu,B.isSafeInteger=L_,B.isSet=Rh,B.isString=Oo,B.isSymbol=an,B.isTypedArray=Ls,B.isUndefined=O_,B.isWeakMap=M_,B.isWeakSet=z_,B.join=Dp,B.kebabCase=Cv,B.last=pn,B.lastIndexOf=Bp,B.lowerCase=Sv,B.lowerFirst=Tv,B.lt=N_,B.lte=R_,B.max=y0,B.maxBy=b0,B.mean=w0,B.meanBy=x0,B.min=C0,B.minBy=S0,B.stubArray=vu,B.stubFalse=yu,B.stubObject=u0,B.stubString=c0,B.stubTrue=h0,B.multiply=T0,B.nth=Fp,B.noConflict=t0,B.noop=_u,B.now=Ao,B.pad=kv,B.padEnd=Ev,B.padStart=Av,B.parseInt=Iv,B.random=vv,B.reduce=Vm,B.reduceRight=Hm,B.repeat=Pv,B.replace=Lv,B.result=lv,B.round=k0,B.runInContext=le,B.sample=Gm,B.size=Zm,B.snakeCase=Ov,B.some=Km,B.sortedIndex=$p,B.sortedIndexBy=Yp,B.sortedIndexOf=Zp,B.sortedLastIndex=Kp,B.sortedLastIndexBy=jp,B.sortedLastIndexOf=Xp,B.startCase=zv,B.startsWith=Nv,B.subtract=E0,B.sum=A0,B.sumBy=I0,B.template=Rv,B.times=f0,B.toFinite=lr,B.toInteger=St,B.toLength=Bh,B.toLower=Dv,B.toNumber=mn,B.toSafeInteger=D_,B.toString=Ht,B.toUpper=Bv,B.trim=Fv,B.trimEnd=qv,B.trimStart=Uv,B.truncate=Vv,B.unescape=Hv,B.uniqueId=g0,B.upperCase=Wv,B.upperFirst=du,B.each=Sh,B.eachRight=Th,B.first=bh,mu(B,function(){var t={};return Rn(B,function(r,u){Gt.call(B.prototype,u)||(t[u]=r)}),t}(),{chain:!1}),B.VERSION=f,Oi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){B[t].placeholder=B}),Oi(["drop","take"],function(t,r){Mt.prototype[t]=function(u){u=u===s?1:yi(St(u),0);var v=this.__filtered__&&!r?new Mt(this):this.clone();return v.__filtered__?v.__takeCount__=zi(u,v.__takeCount__):v.__views__.push({size:zi(u,Be),type:t+(v.__dir__<0?"Right":"")}),v},Mt.prototype[t+"Right"]=function(u){return this.reverse()[t](u).reverse()}}),Oi(["filter","map","takeWhile"],function(t,r){var u=r+1,v=u==Te||u==_e;Mt.prototype[t]=function(N){var F=this.clone();return F.__iteratees__.push({iteratee:ct(N,3),type:u}),F.__filtered__=F.__filtered__||v,F}}),Oi(["head","last"],function(t,r){var u="take"+(r?"Right":"");Mt.prototype[t]=function(){return this[u](1).value()[0]}}),Oi(["initial","tail"],function(t,r){var u="drop"+(r?"":"Right");Mt.prototype[t]=function(){return this.__filtered__?new Mt(this):this[u](1)}}),Mt.prototype.compact=function(){return this.filter(ji)},Mt.prototype.find=function(t){return this.filter(t).head()},Mt.prototype.findLast=function(t){return this.reverse().find(t)},Mt.prototype.invokeMap=At(function(t,r){return typeof t=="function"?new Mt(this):this.map(function(u){return ba(u,t,r)})}),Mt.prototype.reject=function(t){return this.filter(Po(ct(t)))},Mt.prototype.slice=function(t,r){t=St(t);var u=this;return u.__filtered__&&(t>0||r<0)?new Mt(u):(t<0?u=u.takeRight(-t):t&&(u=u.drop(t)),r!==s&&(r=St(r),u=r<0?u.dropRight(-r):u.take(r-t)),u)},Mt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Mt.prototype.toArray=function(){return this.take(Be)},Rn(Mt.prototype,function(t,r){var u=/^(?:filter|find|map|reject)|While$/.test(r),v=/^(?:head|last)$/.test(r),N=B[v?"take"+(r=="last"?"Right":""):r],F=v||/^find/.test(r);!N||(B.prototype[r]=function(){var j=this.__wrapped__,re=v?[1]:arguments,he=j instanceof Mt,ke=re[0],Ee=he||xt(j),Pe=function(Lt){var zt=N.apply(B,Mn([Lt],re));return v&&Ze?zt[0]:zt};Ee&&u&&typeof ke=="function"&&ke.length!=1&&(he=Ee=!1);var Ze=this.__chain__,it=!!this.__actions__.length,ft=F&&!Ze,kt=he&&!it;if(!F&&Ee){j=kt?j:new Mt(this);var dt=t.apply(j,re);return dt.__actions__.push({func:ko,args:[Pe],thisArg:s}),new fn(dt,Ze)}return ft&&kt?t.apply(this,re):(dt=this.thru(Pe),ft?v?dt.value()[0]:dt.value():dt)})}),Oi(["pop","push","shift","sort","splice","unshift"],function(t){var r=Mi[t],u=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",v=/^(?:pop|shift)$/.test(t);B.prototype[t]=function(){var N=arguments;if(v&&!this.__chain__){var F=this.value();return r.apply(xt(F)?F:[],N)}return this[u](function(j){return r.apply(xt(j)?j:[],N)})}}),Rn(Mt.prototype,function(t,r){var u=B[r];if(u){var v=u.name+"";Gt.call(ks,v)||(ks[v]=[]),ks[v].push({name:r,func:u})}}),ks[yo(s,se).name]=[{name:"wrapper",func:s}],Mt.prototype.clone=Hd,Mt.prototype.reverse=Wd,Mt.prototype.value=Gd,B.prototype.at=bm,B.prototype.chain=wm,B.prototype.commit=xm,B.prototype.next=Cm,B.prototype.plant=Tm,B.prototype.reverse=km,B.prototype.toJSON=B.prototype.valueOf=B.prototype.value=Em,B.prototype.first=B.prototype.head,da&&(B.prototype[da]=Sm),B},Jn=kl();Pn?((Pn.exports=Jn)._=Jn,na._=Jn):_i._=Jn}).call(rs)})(Hu,Hu.exports);document.addEventListener("DOMContentLoaded",function(){class a{constructor(){if(a._instance)return a._instance;a._instance=this,this.elements={header:document.getElementById("hw_header"),logo:document.getElementById("hw_logo"),languageSelector:document.getElementById("hodworks_language_selector"),menu:document.getElementById("hodworks_menu"),menuButton:document.getElementById("hodworks_menu_button"),main:document.getElementById("hw_main"),piecesCurrentContainer:document.getElementById("hw_pieces_current_container"),piecesCurrentImageContainer:document.getElementById("hw_pieces_current_image_container"),piecesCurrentTitle:document.getElementById("hw_pieces_current_title"),piecesPastContainer:document.getElementById("hw_pieces_past_container"),piecesPastImageContainer:document.getElementById("hw_pieces_past_image_container"),piecesPastTitle:document.getElementById("hw_pieces_past_title"),companyYearList:document.getElementById("hw_company_list"),companyTextContainer:document.getElementById("hw_company_text_container"),companyTextContainerAlt:document.getElementById("hw_company_text_container_alt"),calendarYearsList:document.getElementById("hw_calendar_years"),calendarTablesContainer:document.getElementById("hw_calendar_tables"),canvasContainer:document.getElementById("hw_canvas_container"),canvas:document.getElementById("hw_canvas"),singlePieceGalleriesContainer:document.getElementById("hw_single_piece_galleries_container"),singlePieceGallery:document.getElementById("hw_single_piece_gallery"),singlePieceGalleryList:document.getElementById("hw_single_piece_gallery_list"),singlePieceThumbnailGallery:document.getElementById("hw_single_piece_thumbnail_gallery"),singlePieceThumbnailGalleryList:document.getElementById("hw_single_piece_thumbnail_gallery_list"),singlePieceVideosContainer:document.getElementById("hw_single_piece_videos_container"),singlePieceInfoContainer:document.getElementById("hw_background_info_container"),singlePieceSubContents:document.querySelectorAll(".c-piece__sub-content"),singlePieceVideoButton:document.getElementById("hw_single_piece_video_button"),singlePieceGalleryButton:document.getElementById("hw_single_piece_gallery_button"),singlePieceInfoButton:document.getElementById("hw_single_piece_background_info_button"),splashScreenContainer:document.getElementById("hw_splash_screen"),splashScreenVideo:document.getElementById("hw_splash_screen_video"),splashScreenCanvas:document.getElementById("hw_splash_screen_canvas"),hodPageCvButton:document.getElementById("hw_hod_cv_button"),hodPageWorksButton:document.getElementById("hw_hod_works_button"),hodPageContent:document.getElementById("hw_hod_content"),hodPageCv:document.getElementById("hw_hod_cv"),hodPageWorks:document.getElementById("hw_hod_works")},this.state={isHeaderCompact:!0,sizes:{}},this.canvasPoints={a:{x:100,y:200},b:{x:200,y:100},c:{x:300,y:200}},this.userAgent={},this.widgets={hodPageState:{activeScreen:"base"}},this.bindEvents(),this.setSizes(),this.initWidgets(),this.initStuff()}setSizes(){this.elements.logo&&(this.state.sizes.logo=this.elements.logo.offsetHeight),this.elements.canvas&&(this.state.sizes.canvas=this.elements.canvas.getBoundingClientRect()),this.elements.header}initStuff(){this.userAgent=this.widgets.UAParser.getResult(),sessionStorage.getItem("hodworks_splash_screen_closed")==="true"&&(this.widgets.splashScreenVideoPlayer.pause(),this.elements.splashScreenContainer.remove())}bindEvents(){let f;const T=()=>{console.log(this.state.isHeaderCompact),Math.round(document.documentElement.scrollTop)>1?(console.log(Math.round(document.documentElement.scrollTop),f),this.state.isHeaderCompact||this.elements.header.classList.add("c-header--compact"),this.state.isHeaderCompact=!0):(this.elements.menu&&this.elements.header&&(this.elements.header.classList.remove("c-header--compact"),this.elements.main.style.paddingTop=this.state.sizes.header+"px"),this.state.isHeaderCompact=!1),console.log(this.state.isHeaderCompact),f=Math.round(document.documentElement.scrollTop)};if(window.addEventListener("scroll",Hu.exports.throttle(()=>T(),250)),this.elements.menuButton&&this.elements.menu&&this.elements.menuButton.addEventListener("click",p=>{p.currentTarget.classList.toggle("is-active"),this.elements.menu.classList.toggle("c-main-navigation--open"),this.elements.header.classList.toggle("c-header--open")}),this.elements.piecesCurrentContainer&&this.elements.piecesCurrentTitle&&(this.elements.piecesCurrentTitle.addEventListener("click",p=>{this.elements.piecesPastTitle.classList.toggle("c-pieces__title-container--hidden")}),this.elements.piecesCurrentContainer.querySelectorAll(".c-pieces__link").forEach(p=>{p.addEventListener("mouseenter",k=>{!k.target.dataset.image||(this.elements.piecesPastImageContainer.classList.add("c-pieces__image-container--visible"),this.elements.piecesPastImageContainer.querySelector("img").src=k.target.dataset.image)}),p.addEventListener("mouseleave",k=>{this.elements.piecesPastImageContainer.classList.remove("c-pieces__image-container--visible"),this.elements.piecesPastImageContainer.querySelector("img").src=null})})),this.elements.piecesPastContainer&&this.elements.piecesPastTitle&&(this.elements.piecesPastTitle.addEventListener("click",p=>{this.elements.piecesCurrentTitle.classList.toggle("c-pieces__title-container--hidden")}),this.elements.piecesPastContainer.querySelectorAll(".c-pieces__link").forEach(p=>{p.addEventListener("mouseenter",k=>{!k.target.dataset.image||(this.elements.piecesCurrentImageContainer.classList.add("c-pieces__image-container--visible"),this.elements.piecesCurrentImageContainer.querySelector("img").src=k.target.dataset.image)}),p.addEventListener("mouseleave",k=>{this.elements.piecesCurrentImageContainer.classList.remove("c-pieces__image-container--visible"),this.elements.piecesCurrentImageContainer.querySelector("img").src=null})})),this.elements.companyYearList&&this.elements.companyYearList.querySelectorAll("h3").forEach(p=>{p.addEventListener("click",k=>{this.elements.companyYearList.querySelectorAll("h3").forEach(D=>{D.classList.remove("c-company__year--active")}),k.target.classList.toggle("c-company__year--active"),this.elements.companyYearList.querySelectorAll("div").forEach(D=>{D.classList.remove("c-company__year-description--open")}),window.innerWidth<=768?(this.elements.companyTextContainerAlt.classList.add("c-company__text-container-alt--visible"),this.elements.companyTextContainer.classList.add("c-company__text-container--hidden"),this.elements.companyTextContainerAlt.innerHTML=k.target.nextElementSibling.innerHTML):window.innerWidth>768&&k.target.nextElementSibling.classList.toggle("c-company__year-description--open")})}),this.elements.calendarYearsList){const p=this.elements.calendarYearsList.querySelectorAll("li");p.forEach(k=>{k.addEventListener("click",D=>{p.forEach(X=>{X.classList.remove("c-calendar__year--active")}),this.elements.calendarTablesContainer.querySelectorAll(".c-calendar__table").forEach(X=>{X.classList.remove("c-calendar__table--visible")}),k.classList.add("c-calendar__year--active"),document.getElementById(`hw_calendar_table_${k.dataset.year}`).classList.add("c-calendar__table--visible")})})}if(this.elements.canvas&&this.elements.canvas.addEventListener("mousemove",function(p){handleMouseMove(this.canvasPoints.a,p),handleMouseMove(this.canvasPoints.b,p),handleMouseMove(this.canvasPoints.c,p)}),window.addEventListener("resize",this.initCanvas),this.elements.singlePieceSubContents.length>0){const p=()=>{this.elements.singlePieceSubContents.forEach(k=>{k.classList.remove("c-piece__sub-content--active")})};this.elements.singlePieceGalleriesContainer&&this.elements.singlePieceGalleryButton&&this.elements.singlePieceGalleryButton.addEventListener("click",k=>{console.log(k),p(),this.elements.singlePieceGalleriesContainer.classList.add("c-piece__sub-content--active")}),this.elements.singlePieceVideosContainer&&this.elements.singlePieceVideoButton&&this.elements.singlePieceVideoButton.addEventListener("click",k=>{console.log(k),p(),this.elements.singlePieceVideosContainer.classList.add("c-piece__sub-content--active")}),this.elements.singlePieceInfoContainer&&this.elements.singlePieceInfoButton&&this.elements.singlePieceInfoButton.addEventListener("click",k=>{console.log(k),p(),this.elements.singlePieceInfoContainer.classList.add("c-piece__sub-content--active")})}this.elements.hodPageCvButton&&this.elements.hodPageCv&&this.elements.hodPageContent&&this.elements.hodPageWorks&&(this.elements.hodPageCvButton.addEventListener("click",p=>{this.widgets.hodPageState.activeScreen=="cv"?(p.currentTarget.classList.remove("c-hod__button--active"),this.elements.hodPageContent.classList.add("c-hod__content--active"),this.elements.hodPageCv.classList.remove("c-hod__content--active")):(p.currentTarget.classList.add("c-hod__button--active"),this.elements.hodPageWorksButton.classList.remove("c-hod__button--active"),this.widgets.hodPageState.activeScreen="cv",this.elements.hodPageContent.classList.remove("c-hod__content--active"),this.elements.hodPageWorks.classList.remove("c-hod__content--active"),this.elements.hodPageCv.classList.add("c-hod__content--active"))}),this.elements.hodPageWorksButton.addEventListener("click",p=>{this.widgets.hodPageState.activeScreen=="works"?(p.currentTarget.classList.remove("c-hod__button--active"),this.elements.hodPageContent.classList.add("c-hod__content--active"),this.elements.hodPageWorks.classList.remove("c-hod__content--active")):(p.currentTarget.classList.add("c-hod__button--active"),this.elements.hodPageCvButton.classList.remove("c-hod__button--active"),this.widgets.hodPageState.activeScreen="works",this.elements.hodPageContent.classList.remove("c-hod__content--active"),this.elements.hodPageCv.classList.remove("c-hod__content--active"),this.elements.hodPageWorks.classList.add("c-hod__content--active"))}))}initWidgets(){if(this.widgets.UAParser=new Vu.exports.UAParser,this.elements.singlePieceGallery&&this.elements.singlePieceGalleryList&&this.elements.singlePieceThumbnailGallery&&this.elements.singlePieceThumbnailGalleryList&&(this.widgets.singlePieceGallery=new Ko(this.elements.singlePieceGallery,{type:"fade",rewind:!0,pagination:!1}),this.widgets.singlePieceThumbnailGallery=new Ko(this.elements.singlePieceThumbnailGallery,{fixedWidth:100,gap:0,rewind:!0,pagination:!1,arrows:!1}),this.widgets.singlePieceGallery.sync(this.widgets.singlePieceThumbnailGallery),this.widgets.singlePieceGallery.mount(),this.widgets.singlePieceThumbnailGallery.mount()),this.elements.singlePieceVideosContainer&&this.elements.singlePieceVideosContainer.querySelectorAll(".c-vimeo-player").forEach(f=>{this.widgets[`singlePieceVimeoPlayer${f.dataset.code}`]=new qs(f)}),this.elements.splashScreenVideo&&(this.widgets.splashScreenVideoPlayer=new qs(this.elements.splashScreenVideo,{volume:0,autoplay:!0,muted:!0,controls:!1})),this.elements.splashScreenCanvas){Ct.setup(this.elements.splashScreenCanvas);const f=new Ct.Path({segments:[[0,Ct.view.viewSize.height/2],[Ct.view.viewSize.width/4,Ct.view.viewSize.height/2],[Ct.view.viewSize.width/4*2,Ct.view.viewSize.height/2],[Ct.view.viewSize.width/4*3,Ct.view.viewSize.height/2],[Ct.view.viewSize.width,Ct.view.viewSize.height/2]],strokeColor:"#ffffff",strokeWidth:10}),T=new Ct.Path({segments:[[5,Ct.view.viewSize.height],[5,Ct.view.viewSize.height]],strokeColor:"#ffffff",strokeWidth:10}),p=new Ct.Path({segments:[[Ct.view.viewSize.width-5,0],[Ct.view.viewSize.width-5,0]],strokeColor:"#ffffff",strokeWidth:10});this.widgets.splashScreenVideoPlayer.on("playing",k=>{k.detail.plyr,console.log(k.detail),f.tween({"segments[0].point.y":Ct.view.viewSize.height/3,"segments[1].point.y":Ct.view.viewSize.height/3*2,"segments[2].point.y":Ct.view.viewSize.height/3,"segments[3].point.y":Ct.view.viewSize.height/3*2,"segments[4].point.y":Ct.view.viewSize.height/3},{easing:"easeInOutCubic",duration:2e3}),T.tween({"segments[0].point.y":0},{easing:"easeInOutCubic",duration:2e3}),p.tween({"segments[1].point.y":Ct.view.viewSize.height},{easing:"easeInOutCubic",duration:2e3})}),Ct.view.onMouseMove=function(k){const D=f.getNearestLocation(k.point);D.distance<=30&&D.segment.index!==0&&D.segment.index!==4&&(f.segments[D.segment.index].point.y-k.point.y<0&&k.delta.y<0?f.segments[D.segment.index].point.y+k.delta.y>10&&f.segments[D.segment.index].point.y+k.delta.y<Ct.view.bounds.height-10&&(f.segments[D.segment.index].point.y=f.segments[D.segment.index].point.y+k.delta.y):f.segments[D.segment.index].point.y-k.point.y>=0&&k.delta.y>0&&f.segments[D.segment.index].point.y+k.delta.y>10&&f.segments[D.segment.index].point.y+k.delta.y<Ct.view.bounds.height-10&&(f.segments[D.segment.index].point.y=f.segments[D.segment.index].point.y+k.delta.y),f.segments[D.segment.index].point.x-k.point.x<0&&k.delta.x<0?f.segments[D.segment.index].point.x+k.delta.x>10&&f.segments[D.segment.index].point.x+k.delta.x<Ct.view.bounds.width-10&&(f.segments[D.segment.index].point.x=f.segments[D.segment.index].point.x+k.delta.x):f.segments[D.segment.index].point.x-k.point.x>=0&&k.delta.x>0&&f.segments[D.segment.index].point.x+k.delta.x>10&&f.segments[D.segment.index].point.x+k.delta.x<Ct.view.bounds.width-10&&(f.segments[D.segment.index].point.x=f.segments[D.segment.index].point.x+k.delta.x))},Ct.view.onResize=function(k){f.segments[0].point.y=Ct.view.viewSize.height/3,f.segments[1].point.y=f.segments[1].point.y+k.delta.height,f.segments[2].point.y=f.segments[2].point.y+k.delta.height,f.segments[3].point.y=f.segments[3].point.y+k.delta.height,f.segments[4].point.y=Ct.view.viewSize.height/3,f.segments[0].point.x=0,f.segments[1].point.x=f.segments[1].point.x+k.delta.width,f.segments[2].point.x=f.segments[2].point.x+k.delta.width,f.segments[3].point.x=f.segments[3].point.x+k.delta.width,f.segments[4].point.x=Ct.view.viewSize.width,p.segments[0].point.y=0,p.segments[1].point.y=Ct.view.viewSize.height,T.segments[0].point.y=0,T.segments[1].point.y=Ct.view.viewSize.height,p.segments[0].point.x=Ct.view.viewSize.width-5,p.segments[1].point.x=Ct.view.viewSize.width-5,T.segments[0].point.x=5,T.segments[1].point.x=5},Ct.view.onClick=k=>{f.tween({"segments[0].point.y":Ct.view.center.y,"segments[1].point.y":Ct.view.center.y,"segments[2].point.y":Ct.view.center.y,"segments[3].point.y":Ct.view.center.y,"segments[4].point.y":Ct.view.center.y},{easing:"easeOutCubic",duration:1e3}).then(()=>{this.elements.splashScreenContainer.classList.add("c-splash-screen--faded"),this.widgets.splashScreenVideoPlayer.pause(),setTimeout(()=>{this.elements.splashScreenContainer.remove()},1e3)}),T.tween({"segments[0].point.y":Ct.view.viewSize.height},{easing:"easeInOutCubic",duration:1e3}),p.tween({"segments[1].point.y":0},{easing:"easeInOutCubic",duration:1e3})}}}}const h=new a;console.log(h)});console.log("main.js");
