var Vr=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function B_(o){var d=o.default;if(typeof d=="function"){var a=function(){return d.apply(this,arguments)};a.prototype=d.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(o).forEach(function(f){var A=Object.getOwnPropertyDescriptor(o,f);Object.defineProperty(a,f,A.get?A:{enumerable:!0,get:function(){return o[f]}})}),a}var kf={exports:{}};(function(o){(function(d,a){var f=a(d,d.document,Date);d.lazySizes=f,o.exports&&(o.exports=f)})(typeof window!="undefined"?window:{},function(a,f,A){var v,P;if(function(){var Me,xe={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};P=a.lazySizesConfig||a.lazysizesConfig||{};for(Me in xe)Me in P||(P[Me]=xe[Me])}(),!f||!f.getElementsByClassName)return{init:function(){},cfg:P,noSupport:!0};var q=f.documentElement,ae=a.HTMLPictureElement,oe="addEventListener",le="getAttribute",ge=a[oe].bind(a),Z=a.setTimeout,D=a.requestAnimationFrame||Z,X=a.requestIdleCallback,K=/^picture$/i,ie=["load","error","lazyincluded","_lazyloaded"],fe={},ve=Array.prototype.forEach,he=function(Me,xe){return fe[xe]||(fe[xe]=new RegExp("(\\s|^)"+xe+"(\\s|$)")),fe[xe].test(Me[le]("class")||"")&&fe[xe]},Ae=function(Me,xe){he(Me,xe)||Me.setAttribute("class",(Me[le]("class")||"").trim()+" "+xe)},Ee=function(Me,xe){var Ie;(Ie=he(Me,xe))&&Me.setAttribute("class",(Me[le]("class")||"").replace(Ie," "))},O=function(Me,xe,Ie){var Ke=Ie?oe:"removeEventListener";Ie&&O(Me,xe),ie.forEach(function(ct){Me[Ke](ct,xe)})},Pe=function(Me,xe,Ie,Ke,ct){var pt=f.createEvent("Event");return Ie||(Ie={}),Ie.instance=v,pt.initEvent(xe,!Ke,!ct),pt.detail=Ie,Me.dispatchEvent(pt),pt},Je=function(Me,xe){var Ie;!ae&&(Ie=a.picturefill||P.pf)?(xe&&xe.src&&!Me[le]("srcset")&&Me.setAttribute("srcset",xe.src),Ie({reevaluate:!0,elements:[Me]})):xe&&xe.src&&(Me.src=xe.src)},Xe=function(Me,xe){return(getComputedStyle(Me,null)||{})[xe]},ht=function(Me,xe,Ie){for(Ie=Ie||Me.offsetWidth;Ie<P.minSize&&xe&&!Me._lazysizesWidth;)Ie=xe.offsetWidth,xe=xe.parentNode;return Ie},We=function(){var Me,xe,Ie=[],Ke=[],ct=Ie,pt=function(){var lt=ct;for(ct=Ie.length?Ke:Ie,Me=!0,xe=!1;lt.length;)lt.shift()();Me=!1},Nt=function(lt,De){Me&&!De?lt.apply(this,arguments):(ct.push(lt),xe||(xe=!0,(f.hidden?Z:D)(pt)))};return Nt._lsFlush=pt,Nt}(),Ge=function(Me,xe){return xe?function(){We(Me)}:function(){var Ie=this,Ke=arguments;We(function(){Me.apply(Ie,Ke)})}},Qe=function(Me){var xe,Ie=0,Ke=P.throttleDelay,ct=P.ricTimeout,pt=function(){xe=!1,Ie=A.now(),Me()},Nt=X&&ct>49?function(){X(pt,{timeout:ct}),ct!==P.ricTimeout&&(ct=P.ricTimeout)}:Ge(function(){Z(pt)},!0);return function(lt){var De;(lt=lt===!0)&&(ct=33),!xe&&(xe=!0,De=Ke-(A.now()-Ie),De<0&&(De=0),lt||De<9?Nt():Z(Nt,De))}},Ve=function(Me){var xe,Ie,Ke=99,ct=function(){xe=null,Me()},pt=function(){var Nt=A.now()-Ie;Nt<Ke?Z(pt,Ke-Nt):(X||ct)(ct)};return function(){Ie=A.now(),xe||(xe=Z(pt,Ke))}},xt=function(){var Me,xe,Ie,Ke,ct,pt,Nt,lt,De,Ct,Dt,dt,Mt=/^img$/i,$t=/^iframe$/i,Li="onscroll"in a&&!/(gle|ing)bot/.test(navigator.userAgent),ot=0,St=0,Kt=0,ci=-1,wi=function(m){Kt--,(!m||Kt<0||!m.target)&&(Kt=0)},an=function(m){return dt==null&&(dt=Xe(f.body,"visibility")=="hidden"),dt||!(Xe(m.parentNode,"visibility")=="hidden"&&Xe(m,"visibility")=="hidden")},mn=function(m,p){var _,b=m,E=an(m);for(lt-=p,Dt+=p,De-=p,Ct+=p;E&&(b=b.offsetParent)&&b!=f.body&&b!=q;)E=(Xe(b,"opacity")||1)>0,E&&Xe(b,"overflow")!="visible"&&(_=b.getBoundingClientRect(),E=Ct>_.left&&De<_.right&&Dt>_.top-1&&lt<_.bottom+1);return E},li=function(){var m,p,_,b,E,T,S,x,M,k,R,C,N=v.elements;if((Ke=P.loadMode)&&Kt<8&&(m=N.length)){for(p=0,ci++;p<m;p++)if(!(!N[p]||N[p]._lazyRace)){if(!Li||v.prematureUnveil&&v.prematureUnveil(N[p])){r(N[p]);continue}if((!(x=N[p][le]("data-expand"))||!(T=x*1))&&(T=St),k||(k=!P.expand||P.expand<1?q.clientHeight>500&&q.clientWidth>500?500:370:P.expand,v._defEx=k,R=k*P.expFactor,C=P.hFac,dt=null,St<R&&Kt<1&&ci>2&&Ke>2&&!f.hidden?(St=R,ci=0):Ke>1&&ci>1&&Kt<6?St=k:St=ot),M!==T&&(pt=innerWidth+T*C,Nt=innerHeight+T,S=T*-1,M=T),_=N[p].getBoundingClientRect(),(Dt=_.bottom)>=S&&(lt=_.top)<=Nt&&(Ct=_.right)>=S*C&&(De=_.left)<=pt&&(Dt||Ct||De||lt)&&(P.loadHidden||an(N[p]))&&(xe&&Kt<3&&!x&&(Ke<3||ci<4)||mn(N[p],T))){if(r(N[p]),E=!0,Kt>9)break}else!E&&xe&&!b&&Kt<4&&ci<4&&Ke>2&&(Me[0]||P.preloadAfterLoad)&&(Me[0]||!x&&(Dt||Ct||De||lt||N[p][le](P.sizesAttr)!="auto"))&&(b=Me[0]||N[p])}b&&!E&&r(b)}},gt=Qe(li),Ni=function(m){var p=m.target;if(p._lazyCache){delete p._lazyCache;return}wi(m),Ae(p,P.loadedClass),Ee(p,P.loadingClass),O(p,Ht),Pe(p,"lazyloaded")},ft=Ge(Ni),Ht=function(m){ft({target:m.target})},Ue=function(m,p){var _=m.getAttribute("data-load-mode")||P.iframeLoadMode;_==0?m.contentWindow.location.replace(p):_==1&&(m.src=p)},e=function(m){var p,_=m[le](P.srcsetAttr);(p=P.customMedia[m[le]("data-media")||m[le]("media")])&&m.setAttribute("media",p),_&&m.setAttribute("srcset",_)},t=Ge(function(m,p,_,b,E){var T,S,x,M,k,R;(k=Pe(m,"lazybeforeunveil",p)).defaultPrevented||(b&&(_?Ae(m,P.autosizesClass):m.setAttribute("sizes",b)),S=m[le](P.srcsetAttr),T=m[le](P.srcAttr),E&&(x=m.parentNode,M=x&&K.test(x.nodeName||"")),R=p.firesLoad||"src"in m&&(S||T||M),k={target:m},Ae(m,P.loadingClass),R&&(clearTimeout(Ie),Ie=Z(wi,2500),O(m,Ht,!0)),M&&ve.call(x.getElementsByTagName("source"),e),S?m.setAttribute("srcset",S):T&&!M&&($t.test(m.nodeName)?Ue(m,T):m.src=T),E&&(S||M)&&Je(m,{src:T})),m._lazyRace&&delete m._lazyRace,Ee(m,P.lazyClass),We(function(){var C=m.complete&&m.naturalWidth>1;(!R||C)&&(C&&Ae(m,P.fastLoadedClass),Ni(k),m._lazyCache=!0,Z(function(){"_lazyCache"in m&&delete m._lazyCache},9)),m.loading=="lazy"&&Kt--},!0)}),r=function(m){if(!m._lazyRace){var p,_=Mt.test(m.nodeName),b=_&&(m[le](P.sizesAttr)||m[le]("sizes")),E=b=="auto";(E||!xe)&&_&&(m[le]("src")||m.srcset)&&!m.complete&&!he(m,P.errorClass)&&he(m,P.lazyClass)||(p=Pe(m,"lazyunveilread").detail,E&&Oe.updateElem(m,!0,m.offsetWidth),m._lazyRace=!0,Kt++,t(m,p,E,b,_))}},u=Ve(function(){P.loadMode=3,gt()}),l=function(){P.loadMode==3&&(P.loadMode=2),u()},c=function(){if(!xe){if(A.now()-ct<999){Z(c,999);return}xe=!0,P.loadMode=3,gt(),ge("scroll",l,!0)}};return{_:function(){ct=A.now(),v.elements=f.getElementsByClassName(P.lazyClass),Me=f.getElementsByClassName(P.lazyClass+" "+P.preloadClass),ge("scroll",gt,!0),ge("resize",gt,!0),ge("pageshow",function(m){if(m.persisted){var p=f.querySelectorAll("."+P.loadingClass);p.length&&p.forEach&&D(function(){p.forEach(function(_){_.complete&&r(_)})})}}),a.MutationObserver?new MutationObserver(gt).observe(q,{childList:!0,subtree:!0,attributes:!0}):(q[oe]("DOMNodeInserted",gt,!0),q[oe]("DOMAttrModified",gt,!0),setInterval(gt,999)),ge("hashchange",gt,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(m){f[oe](m,gt,!0)}),/d$|^c/.test(f.readyState)?c():(ge("load",c),f[oe]("DOMContentLoaded",gt),Z(c,2e4)),v.elements.length?(li(),We._lsFlush()):gt()},checkElems:gt,unveil:r,_aLSL:l}}(),Oe=function(){var Me,xe=Ge(function(pt,Nt,lt,De){var Ct,Dt,dt;if(pt._lazysizesWidth=De,De+="px",pt.setAttribute("sizes",De),K.test(Nt.nodeName||""))for(Ct=Nt.getElementsByTagName("source"),Dt=0,dt=Ct.length;Dt<dt;Dt++)Ct[Dt].setAttribute("sizes",De);lt.detail.dataAttr||Je(pt,lt.detail)}),Ie=function(pt,Nt,lt){var De,Ct=pt.parentNode;Ct&&(lt=ht(pt,Ct,lt),De=Pe(pt,"lazybeforesizes",{width:lt,dataAttr:!!Nt}),De.defaultPrevented||(lt=De.detail.width,lt&&lt!==pt._lazysizesWidth&&xe(pt,Ct,De,lt)))},Ke=function(){var pt,Nt=Me.length;if(Nt)for(pt=0;pt<Nt;pt++)Ie(Me[pt])},ct=Ve(Ke);return{_:function(){Me=f.getElementsByClassName(P.autosizesClass),ge("resize",ct)},checkElems:ct,updateElem:Ie}}(),yt=function(){!yt.i&&f.getElementsByClassName&&(yt.i=!0,Oe._(),xt._())};return Z(function(){P.init&&yt()}),v={cfg:P,autoSizer:Oe,loader:xt,init:yt,uP:Je,aC:Ae,rC:Ee,hC:he,fire:Pe,gW:ht,rAF:We},v})})(kf);var F_={exports:{}};(function(o){(function(d,a){if(!!d){var f=function(){a(d.lazySizes),d.removeEventListener("lazyunveilread",f,!0)};a=a.bind(null,d,d.document),o.exports?a(kf.exports):d.lazySizes?f():d.addEventListener("lazyunveilread",f,!0)}})(typeof window!="undefined"?window:0,function(d,a,f){var A;(function(){var Z,D={blurUpClass:"ls-blur-up-img",blurUpLoadingClass:"ls-blur-up-is-loading",blurUpInviewClass:"ls-inview",blurUpLoadedClass:"ls-blur-up-loaded",blurUpLoadedOriginalClass:"ls-original-loaded"};A=f.cfg||{};for(Z in D)Z in A||(A[Z]=D[Z])})();var v=[].slice,P=/blur-up["']*\s*:\s*["']*(always|auto)/,q=/image\/(jpeg|png|gif|svg\+xml)/,ae="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",oe=function(Z){var D=Z.getAttribute("data-media")||Z.getAttribute("media"),X=Z.getAttribute("type");return(!X||q.test(X))&&(!D||d.matchMedia(f.cfg.customMedia[D]||D).matches)},le=function(Z,D){var X,K=Z?v.call(Z.querySelectorAll("source, img")):[D];return K.forEach(function(ie){if(!X){var fe=ie.getAttribute("data-lowsrc");fe&&oe(ie)&&(X=fe)}}),X},ge=function(Z,D,X,K){var ie,fe=!1,ve=!1,he=K=="always"?0:Date.now(),Ae=0,Ee=(Z||D).parentNode,O=function(){if(!!X){var We=function(Ge){fe=!0,ie||(ie=Ge.target),f.rAF(function(){f.rC(D,f.cfg.blurUpLoadingClass),ie&&f.aC(ie,f.cfg.blurUpLoadedClass)}),ie&&(ie.removeEventListener("load",We),ie.removeEventListener("error",We))};ie=a.createElement("img"),ie.addEventListener("load",We),ie.addEventListener("error",We),ie.className=f.cfg.blurUpClass,ie.cssText=D.cssText,ie.src=X,ie.alt="",ie.setAttribute("aria-hidden","true"),Ee.insertBefore(ie,(Z||D).nextSibling),K!="always"&&(ie.style.visibility="hidden",f.rAF(function(){ie&&setTimeout(function(){ie&&f.rAF(function(){!ve&&ie&&(ie.style.visibility="")})},f.cfg.blurupCacheDelay||33)}))}},Pe=function(){ie&&f.rAF(function(){f.rC(D,f.cfg.blurUpLoadingClass);try{ie.parentNode.removeChild(ie)}catch(We){}ie=null})},Je=function(We){Ae++,ve=We||ve,We?Pe():Ae>1&&setTimeout(Pe,5e3)},Xe=function(){D.removeEventListener("load",Xe),D.removeEventListener("error",Xe),ie&&f.rAF(function(){ie&&f.aC(ie,f.cfg.blurUpLoadedOriginalClass)}),f.fire(D,"blurUpLoaded"),K!="always"&&(!fe||Date.now()-he<66)?Je(!0):Je()};O(),D.addEventListener("load",Xe),D.addEventListener("error",Xe),f.aC(D,f.cfg.blurUpLoadingClass);var ht=function(We){Ee==We.target&&(f.aC(ie||D,f.cfg.blurUpInviewClass),Je(),Ee.removeEventListener("lazybeforeunveil",ht))};Ee.getAttribute("data-expand")||Ee.setAttribute("data-expand",-1),Ee.addEventListener("lazybeforeunveil",ht),f.aC(Ee,f.cfg.lazyClass)};d.addEventListener("lazybeforeunveil",function(Z){var D=Z.detail;if(!(D.instance!=f||!D.blurUp)){var X=Z.target,K=X.parentNode;K.nodeName!="PICTURE"&&(K=null),ge(K,X,le(K,X)||ae,D.blurUp)}}),d.addEventListener("lazyunveilread",function(Z){var D=Z.detail;if(D.instance==f){var X=Z.target,K=(getComputedStyle(X,null)||{fontFamily:""}).fontFamily.match(P);!K&&!X.getAttribute("data-lowsrc")||(D.blurUp=K&&K[1]||f.cfg.blurupMode||"always")}})})})(F_);function at(o,d,a){return d in o?Object.defineProperty(o,d,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[d]=a,o}function D_(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}function tf(o,d){for(var a=0;a<d.length;a++){var f=d[a];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(o,f.key,f)}}function z_(o,d,a){return d&&tf(o.prototype,d),a&&tf(o,a),o}function V_(o,d,a){return d in o?Object.defineProperty(o,d,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[d]=a,o}function nf(o,d){var a=Object.keys(o);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(o);d&&(f=f.filter(function(A){return Object.getOwnPropertyDescriptor(o,A).enumerable})),a.push.apply(a,f)}return a}function rf(o){for(var d=1;d<arguments.length;d++){var a=arguments[d]!=null?arguments[d]:{};d%2?nf(Object(a),!0).forEach(function(f){V_(o,f,a[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):nf(Object(a)).forEach(function(f){Object.defineProperty(o,f,Object.getOwnPropertyDescriptor(a,f))})}return o}var sf={addCSS:!0,thumbWidth:15,watch:!0};function U_(o,d){return function(){return Array.from(document.querySelectorAll(d)).includes(this)}.call(o,d)}function q_(o,d){if(o&&d){var a=new Event(d,{bubbles:!0});o.dispatchEvent(a)}}var Ua=function(o){return o!=null?o.constructor:null},Kl=function(o,d){return!!(o&&d&&o instanceof d)},If=function(o){return o==null},Pf=function(o){return Ua(o)===Object},H_=function(o){return Ua(o)===Number&&!Number.isNaN(o)},Lf=function(o){return Ua(o)===String},W_=function(o){return Ua(o)===Boolean},G_=function(o){return Ua(o)===Function},Nf=function(o){return Array.isArray(o)},Of=function(o){return Kl(o,NodeList)},$_=function(o){return Kl(o,Element)},K_=function(o){return Kl(o,Event)},Z_=function(o){return If(o)||(Lf(o)||Nf(o)||Of(o))&&!o.length||Pf(o)&&!Object.keys(o).length},en={nullOrUndefined:If,object:Pf,number:H_,string:Lf,boolean:W_,function:G_,array:Nf,nodeList:Of,element:$_,event:K_,empty:Z_};function Y_(o){var d="".concat(o).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return d?Math.max(0,(d[1]?d[1].length:0)-(d[2]?+d[2]:0)):0}function j_(o,d){if(1>d){var a=Y_(d);return parseFloat(o.toFixed(a))}return Math.round(o/d)*d}var X_=function(){function o(d,a){D_(this,o),en.element(d)?this.element=d:en.string(d)&&(this.element=document.querySelector(d)),en.element(this.element)&&en.empty(this.element.rangeTouch)&&(this.config=rf({},sf,{},a),this.init())}return z_(o,[{key:"init",value:function(){o.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){o.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(d){var a=this,f=d?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(A){a.element[f](A,function(v){return a.set(v)},!1)})}},{key:"get",value:function(d){if(!o.enabled||!en.event(d))return null;var a,f=d.target,A=d.changedTouches[0],v=parseFloat(f.getAttribute("min"))||0,P=parseFloat(f.getAttribute("max"))||100,q=parseFloat(f.getAttribute("step"))||1,ae=f.getBoundingClientRect(),oe=100/ae.width*(this.config.thumbWidth/2)/100;return 0>(a=100/ae.width*(A.clientX-ae.left))?a=0:100<a&&(a=100),50>a?a-=(100-2*a)*oe:50<a&&(a+=2*(a-50)*oe),v+j_(a/100*(P-v),q)}},{key:"set",value:function(d){o.enabled&&en.event(d)&&!d.target.disabled&&(d.preventDefault(),d.target.value=this.get(d),q_(d.target,d.type==="touchend"?"change":"input"))}}],[{key:"setup",value:function(d){var a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},f=null;if(en.empty(d)||en.string(d)?f=Array.from(document.querySelectorAll(en.string(d)?d:'input[type="range"]')):en.element(d)?f=[d]:en.nodeList(d)?f=Array.from(d):en.array(d)&&(f=d.filter(en.element)),en.empty(f))return null;var A=rf({},sf,{},a);if(en.string(d)&&A.watch){var v=new MutationObserver(function(P){Array.from(P).forEach(function(q){Array.from(q.addedNodes).forEach(function(ae){en.element(ae)&&U_(ae,d)&&new o(ae,A)})})});v.observe(document.body,{childList:!0,subtree:!0})}return f.map(function(P){return new o(P,a)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),o}();const qa=o=>o!=null?o.constructor:null,Tr=(o,d)=>Boolean(o&&d&&o instanceof d),Zl=o=>o==null,Mf=o=>qa(o)===Object,Q_=o=>qa(o)===Number&&!Number.isNaN(o),iu=o=>qa(o)===String,J_=o=>qa(o)===Boolean,Rf=o=>typeof o=="function",Bf=o=>Array.isArray(o),e1=o=>Tr(o,WeakMap),Ff=o=>Tr(o,NodeList),t1=o=>qa(o)===Text,i1=o=>Tr(o,Event),n1=o=>Tr(o,KeyboardEvent),r1=o=>Tr(o,window.TextTrackCue)||Tr(o,window.VTTCue),s1=o=>Tr(o,TextTrack)||!Zl(o)&&iu(o.kind),a1=o=>Tr(o,Promise)&&Rf(o.then),o1=o=>o!==null&&typeof o=="object"&&o.nodeType===1&&typeof o.style=="object"&&typeof o.ownerDocument=="object",Df=o=>Zl(o)||(iu(o)||Bf(o)||Ff(o))&&!o.length||Mf(o)&&!Object.keys(o).length,u1=o=>{if(Tr(o,window.URL))return!0;if(!iu(o))return!1;let d=o;o.startsWith("http://")&&o.startsWith("https://")||(d=`http://${o}`);try{return!Df(new URL(d).hostname)}catch(a){return!1}};var Q={nullOrUndefined:Zl,object:Mf,number:Q_,string:iu,boolean:J_,function:Rf,array:Bf,weakMap:e1,nodeList:Ff,element:o1,textNode:t1,event:i1,keyboardEvent:n1,cue:r1,track:s1,promise:a1,url:u1,empty:Df};const Nl=(()=>{const o=document.createElement("span"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},a=Object.keys(d).find(f=>o.style[f]!==void 0);return!!Q.string(a)&&d[a]})();function zf(o,d){setTimeout(()=>{try{o.hidden=!0,o.offsetHeight,o.hidden=!1}catch(a){}},d)}const Zi={isIE:Boolean(window.document.documentMode),isEdge:/Edge/g.test(navigator.userAgent),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),isIPhone:/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,isIos:/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1};function l1(o){return JSON.parse(JSON.stringify(o))}function Vf(o,d){return d.split(".").reduce((a,f)=>a&&a[f],o)}function Pi(o={},...d){if(!d.length)return o;const a=d.shift();return Q.object(a)?(Object.keys(a).forEach(f=>{Q.object(a[f])?(Object.keys(o).includes(f)||Object.assign(o,{[f]:{}}),Pi(o[f],a[f])):Object.assign(o,{[f]:a[f]})}),Pi(o,...d)):o}function Uf(o,d){const a=o.length?o:[o];Array.from(a).reverse().forEach((f,A)=>{const v=A>0?d.cloneNode(!0):d,P=f.parentNode,q=f.nextSibling;v.appendChild(f),q?P.insertBefore(v,q):P.appendChild(v)})}function Ol(o,d){Q.element(o)&&!Q.empty(d)&&Object.entries(d).filter(([,a])=>!Q.nullOrUndefined(a)).forEach(([a,f])=>o.setAttribute(a,f))}function Ot(o,d,a){const f=document.createElement(o);return Q.object(d)&&Ol(f,d),Q.string(a)&&(f.innerText=a),f}function h1(o,d){Q.element(o)&&Q.element(d)&&d.parentNode.insertBefore(o,d.nextSibling)}function af(o,d,a,f){Q.element(d)&&d.appendChild(Ot(o,a,f))}function Cr(o){Q.nodeList(o)||Q.array(o)?Array.from(o).forEach(Cr):Q.element(o)&&Q.element(o.parentNode)&&o.parentNode.removeChild(o)}function Uo(o){if(!Q.element(o))return;let{length:d}=o.childNodes;for(;d>0;)o.removeChild(o.lastChild),d-=1}function Zo(o,d){return Q.element(d)&&Q.element(d.parentNode)&&Q.element(o)?(d.parentNode.replaceChild(o,d),o):null}function Qn(o,d){if(!Q.string(o)||Q.empty(o))return{};const a={},f=Pi({},d);return o.split(",").forEach(A=>{const v=A.trim(),P=v.replace(".",""),q=v.replace(/[[\]]/g,"").split("="),[ae]=q,oe=q.length>1?q[1].replace(/["']/g,""):"";switch(v.charAt(0)){case".":Q.string(f.class)?a.class=`${f.class} ${P}`:a.class=P;break;case"#":a.id=v.replace("#","");break;case"[":a[ae]=oe}}),Pi(f,a)}function ps(o,d){if(!Q.element(o))return;let a=d;Q.boolean(a)||(a=!o.hidden),o.hidden=a}function Jt(o,d,a){if(Q.nodeList(o))return Array.from(o).map(f=>Jt(f,d,a));if(Q.element(o)){let f="toggle";return a!==void 0&&(f=a?"add":"remove"),o.classList[f](d),o.classList.contains(d)}return!1}function Yo(o,d){return Q.element(o)&&o.classList.contains(d)}function ms(o,d){const{prototype:a}=Element;return(a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||function(){return Array.from(document.querySelectorAll(d)).includes(this)}).call(o,d)}function c1(o,d){const{prototype:a}=Element;return(a.closest||function(){let f=this;do{if(ms.matches(f,d))return f;f=f.parentElement||f.parentNode}while(f!==null&&f.nodeType===1);return null}).call(o,d)}function $s(o){return this.elements.container.querySelectorAll(o)}function zi(o){return this.elements.container.querySelector(o)}function Sl(o=null,d=!1){Q.element(o)&&(o.focus({preventScroll:!0}),d&&Jt(o,this.config.classNames.tabFocus))}const of={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},Ei={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(o,d,a){const f=Zi.isIPhone&&a&&Ei.playsinline,A=Ei[o]||d!=="html5";return{api:A,ui:A&&Ei.rangeInput&&(o!=="video"||!Zi.isIPhone||f)}},pip:!(Zi.isIPhone||!Q.function(Ot("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||Ot("video").disablePictureInPicture)),airplay:Q.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(o){if(Q.empty(o))return!1;const[d]=o.split("/");let a=o;if(!this.isHTML5||d!==this.type)return!1;Object.keys(of).includes(a)&&(a+=`; codecs="${of[o]}"`);try{return Boolean(a&&this.media.canPlayType(a).replace(/no/,""))}catch(f){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const o=document.createElement("input");return o.type="range",o.type==="range"})(),touch:"ontouchstart"in document.documentElement,transitions:Nl!==!1,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},f1=(()=>{let o=!1;try{const d=Object.defineProperty({},"passive",{get:()=>(o=!0,null)});window.addEventListener("test",null,d),window.removeEventListener("test",null,d)}catch(d){}return o})();function Ks(o,d,a,f=!1,A=!0,v=!1){if(!o||!("addEventListener"in o)||Q.empty(d)||!Q.function(a))return;const P=d.split(" ");let q=v;f1&&(q={passive:A,capture:v}),P.forEach(ae=>{this&&this.eventListeners&&f&&this.eventListeners.push({element:o,type:ae,callback:a,options:q}),o[f?"addEventListener":"removeEventListener"](ae,a,q)})}function ei(o,d="",a,f=!0,A=!1){Ks.call(this,o,d,a,!0,f,A)}function nu(o,d="",a,f=!0,A=!1){Ks.call(this,o,d,a,!1,f,A)}function Yl(o,d="",a,f=!0,A=!1){const v=(...P)=>{nu(o,d,v,f,A),a.apply(this,P)};Ks.call(this,o,d,v,!0,f,A)}function Ft(o,d="",a=!1,f={}){if(!Q.element(o)||Q.empty(d))return;const A=new CustomEvent(d,{bubbles:a,detail:{...f,plyr:this}});o.dispatchEvent(A)}function d1(){this&&this.eventListeners&&(this.eventListeners.forEach(o=>{const{element:d,type:a,callback:f,options:A}=o;d.removeEventListener(a,f,A)}),this.eventListeners=[])}function p1(){return new Promise(o=>this.ready?setTimeout(o,0):ei.call(this,this.elements.container,"ready",o)).then(()=>{})}function er(o){Q.promise(o)&&o.then(null,()=>{})}function Ml(o){return Q.array(o)?o.filter((d,a)=>o.indexOf(d)===a):o}function qf(o,d){return Q.array(o)&&o.length?o.reduce((a,f)=>Math.abs(f-d)<Math.abs(a-d)?f:a):null}function Hf(o){return!(!window||!window.CSS)&&window.CSS.supports(o)}const uf=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce((o,[d,a])=>({...o,[d/a]:[d,a]}),{});function Wf(o){return Q.array(o)||Q.string(o)&&o.includes(":")?(Q.array(o)?o:o.split(":")).map(Number).every(Q.number):!1}function jo(o){if(!Q.array(o)||!o.every(Q.number))return null;const[d,a]=o,f=(v,P)=>P===0?v:f(P,v%P),A=f(d,a);return[d/A,a/A]}function jl(o){const d=f=>Wf(f)?f.split(":").map(Number):null;let a=d(o);if(a===null&&(a=d(this.config.ratio)),a===null&&!Q.empty(this.embed)&&Q.array(this.embed.ratio)&&({ratio:a}=this.embed),a===null&&this.isHTML5){const{videoWidth:f,videoHeight:A}=this.media;a=[f,A]}return jo(a)}function js(o){if(!this.isVideo)return{};const{wrapper:d}=this.elements,a=jl.call(this,o);if(!Q.array(a))return{};const[f,A]=jo(a),v=100/f*A;if(Hf(`aspect-ratio: ${f}/${A}`)?d.style.aspectRatio=`${f}/${A}`:d.style.paddingBottom=`${v}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const P=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),q=(P-v)/(P/50);this.fullscreen.active?d.style.paddingBottom=null:this.media.style.transform=`translateY(-${q}%)`}else this.isHTML5&&d.classList.add(this.config.classNames.videoFixedRatio);return{padding:v,ratio:a}}function Gf(o,d,a=.05){const f=o/d,A=qf(Object.keys(uf),f);return Math.abs(A-f)<=a?uf[A]:[o,d]}function g1(){return[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)]}const qr={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(o=>{const d=o.getAttribute("type");return!!Q.empty(d)||Ei.mime.call(this,d)}):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:qr.getSources.call(this).map(o=>Number(o.getAttribute("size"))).filter(Boolean)},setup(){if(!this.isHTML5)return;const o=this;o.options.speed=o.config.speed.options,Q.empty(this.config.ratio)||js.call(o),Object.defineProperty(o.media,"quality",{get(){const d=qr.getSources.call(o).find(a=>a.getAttribute("src")===o.source);return d&&Number(d.getAttribute("size"))},set(d){if(o.quality!==d){if(o.config.quality.forced&&Q.function(o.config.quality.onChange))o.config.quality.onChange(d);else{const a=qr.getSources.call(o).find(ae=>Number(ae.getAttribute("size"))===d);if(!a)return;const{currentTime:f,paused:A,preload:v,readyState:P,playbackRate:q}=o.media;o.media.src=a.getAttribute("src"),(v!=="none"||P)&&(o.once("loadedmetadata",()=>{o.speed=q,o.currentTime=f,A||er(o.play())}),o.media.load())}Ft.call(o,o.media,"qualitychange",!1,{quality:d})}}})},cancelRequests(){this.isHTML5&&(Cr(qr.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function m1(o){return`${o}-${Math.floor(1e4*Math.random())}`}function Rl(o,...d){return Q.empty(o)?o:o.toString().replace(/{(\d+)}/g,(a,f)=>d[f].toString())}function v1(o,d){return o===0||d===0||Number.isNaN(o)||Number.isNaN(d)?0:(o/d*100).toFixed(2)}const Ia=(o="",d="",a="")=>o.replace(new RegExp(d.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),a.toString()),$f=(o="")=>o.toString().replace(/\w\S*/g,d=>d.charAt(0).toUpperCase()+d.slice(1).toLowerCase());function _1(o=""){let d=o.toString();return d=Ia(d,"-"," "),d=Ia(d,"_"," "),d=$f(d),Ia(d," ","")}function b1(o=""){let d=o.toString();return d=_1(d),d.charAt(0).toLowerCase()+d.slice(1)}function y1(o){const d=document.createDocumentFragment(),a=document.createElement("div");return d.appendChild(a),a.innerHTML=o,d.firstChild.innerText}function w1(o){const d=document.createElement("div");return d.appendChild(o),d.innerHTML}const lf={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},Gi={get(o="",d={}){if(Q.empty(o)||Q.empty(d))return"";let a=Vf(d.i18n,o);if(Q.empty(a))return Object.keys(lf).includes(o)?lf[o]:"";const f={"{seektime}":d.seekTime,"{title}":d.title};return Object.entries(f).forEach(([A,v])=>{a=Ia(a,A,v)}),a}};class Na{constructor(d){at(this,"get",a=>{if(!Na.supported||!this.enabled)return null;const f=window.localStorage.getItem(this.key);if(Q.empty(f))return null;const A=JSON.parse(f);return Q.string(a)&&a.length?A[a]:A}),at(this,"set",a=>{if(!Na.supported||!this.enabled||!Q.object(a))return;let f=this.get();Q.empty(f)&&(f={}),Pi(f,a);try{window.localStorage.setItem(this.key,JSON.stringify(f))}catch(A){}}),this.enabled=d.config.storage.enabled,this.key=d.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const d="___test";return window.localStorage.setItem(d,d),window.localStorage.removeItem(d),!0}catch(d){return!1}}}function Ha(o,d="text"){return new Promise((a,f)=>{try{const A=new XMLHttpRequest;if(!("withCredentials"in A))return;A.addEventListener("load",()=>{if(d==="text")try{a(JSON.parse(A.responseText))}catch(v){a(A.responseText)}else a(A.response)}),A.addEventListener("error",()=>{throw new Error(A.status)}),A.open("GET",o,!0),A.responseType=d,A.send()}catch(A){f(A)}})}function Kf(o,d){if(!Q.string(o))return;const a=Q.string(d);let f=!1;const A=()=>document.getElementById(d)!==null,v=(P,q)=>{P.innerHTML=q,a&&A()||document.body.insertAdjacentElement("afterbegin",P)};if(!a||!A()){const P=Na.supported,q=document.createElement("div");if(q.setAttribute("hidden",""),a&&q.setAttribute("id",d),P){const ae=window.localStorage.getItem(`cache-${d}`);if(f=ae!==null,f){const oe=JSON.parse(ae);v(q,oe.content)}}Ha(o).then(ae=>{if(!Q.empty(ae)){if(P)try{window.localStorage.setItem(`cache-${d}`,JSON.stringify({content:ae}))}catch(oe){}v(q,ae)}}).catch(()=>{})}}const Zf=o=>Math.trunc(o/60/60%60,10),x1=o=>Math.trunc(o%60,10);function ru(o=0,d=!1,a=!1){if(!Q.number(o))return ru(void 0,d,a);const f=ae=>`0${ae}`.slice(-2);let A=Zf(o);const v=(P=o,Math.trunc(P/60%60,10));var P;const q=x1(o);return A=d||A>0?`${A}:`:"",`${a&&o>0?"-":""}${A}${f(v)}:${f(q)}`}const rt={getIconUrl(){const o=new URL(this.config.iconUrl,window.location),d=window.location.host?window.location.host:window.top.location.host,a=o.host!==d||Zi.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:a}},findElements(){try{return this.elements.controls=zi.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:$s.call(this,this.config.selectors.buttons.play),pause:zi.call(this,this.config.selectors.buttons.pause),restart:zi.call(this,this.config.selectors.buttons.restart),rewind:zi.call(this,this.config.selectors.buttons.rewind),fastForward:zi.call(this,this.config.selectors.buttons.fastForward),mute:zi.call(this,this.config.selectors.buttons.mute),pip:zi.call(this,this.config.selectors.buttons.pip),airplay:zi.call(this,this.config.selectors.buttons.airplay),settings:zi.call(this,this.config.selectors.buttons.settings),captions:zi.call(this,this.config.selectors.buttons.captions),fullscreen:zi.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=zi.call(this,this.config.selectors.progress),this.elements.inputs={seek:zi.call(this,this.config.selectors.inputs.seek),volume:zi.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:zi.call(this,this.config.selectors.display.buffer),currentTime:zi.call(this,this.config.selectors.display.currentTime),duration:zi.call(this,this.config.selectors.display.duration)},Q.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(o){return this.debug.warn("It looks like there is a problem with your custom controls HTML",o),this.toggleNativeControls(!0),!1}},createIcon(o,d){const a="http://www.w3.org/2000/svg",f=rt.getIconUrl.call(this),A=`${f.cors?"":f.url}#${this.config.iconPrefix}`,v=document.createElementNS(a,"svg");Ol(v,Pi(d,{"aria-hidden":"true",focusable:"false"}));const P=document.createElementNS(a,"use"),q=`${A}-${o}`;return"href"in P&&P.setAttributeNS("http://www.w3.org/1999/xlink","href",q),P.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",q),v.appendChild(P),v},createLabel(o,d={}){const a=Gi.get(o,this.config);return Ot("span",{...d,class:[d.class,this.config.classNames.hidden].filter(Boolean).join(" ")},a)},createBadge(o){if(Q.empty(o))return null;const d=Ot("span",{class:this.config.classNames.menu.value});return d.appendChild(Ot("span",{class:this.config.classNames.menu.badge},o)),d},createButton(o,d){const a=Pi({},d);let f=b1(o);const A={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(P=>{Object.keys(a).includes(P)&&(A[P]=a[P],delete a[P])}),A.element!=="button"||Object.keys(a).includes("type")||(a.type="button"),Object.keys(a).includes("class")?a.class.split(" ").some(P=>P===this.config.classNames.control)||Pi(a,{class:`${a.class} ${this.config.classNames.control}`}):a.class=this.config.classNames.control,o){case"play":A.toggle=!0,A.label="play",A.labelPressed="pause",A.icon="play",A.iconPressed="pause";break;case"mute":A.toggle=!0,A.label="mute",A.labelPressed="unmute",A.icon="volume",A.iconPressed="muted";break;case"captions":A.toggle=!0,A.label="enableCaptions",A.labelPressed="disableCaptions",A.icon="captions-off",A.iconPressed="captions-on";break;case"fullscreen":A.toggle=!0,A.label="enterFullscreen",A.labelPressed="exitFullscreen",A.icon="enter-fullscreen",A.iconPressed="exit-fullscreen";break;case"play-large":a.class+=` ${this.config.classNames.control}--overlaid`,f="play",A.label="play",A.icon="play";break;default:Q.empty(A.label)&&(A.label=f),Q.empty(A.icon)&&(A.icon=o)}const v=Ot(A.element);return A.toggle?(v.appendChild(rt.createIcon.call(this,A.iconPressed,{class:"icon--pressed"})),v.appendChild(rt.createIcon.call(this,A.icon,{class:"icon--not-pressed"})),v.appendChild(rt.createLabel.call(this,A.labelPressed,{class:"label--pressed"})),v.appendChild(rt.createLabel.call(this,A.label,{class:"label--not-pressed"}))):(v.appendChild(rt.createIcon.call(this,A.icon)),v.appendChild(rt.createLabel.call(this,A.label))),Pi(a,Qn(this.config.selectors.buttons[f],a)),Ol(v,a),f==="play"?(Q.array(this.elements.buttons[f])||(this.elements.buttons[f]=[]),this.elements.buttons[f].push(v)):this.elements.buttons[f]=v,v},createRange(o,d){const a=Ot("input",Pi(Qn(this.config.selectors.inputs[o]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":Gi.get(o,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},d));return this.elements.inputs[o]=a,rt.updateRangeFill.call(this,a),X_.setup(a),a},createProgress(o,d){const a=Ot("progress",Pi(Qn(this.config.selectors.display[o]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},d));if(o!=="volume"){a.appendChild(Ot("span",null,"0"));const f={played:"played",buffer:"buffered"}[o],A=f?Gi.get(f,this.config):"";a.innerText=`% ${A.toLowerCase()}`}return this.elements.display[o]=a,a},createTime(o,d){const a=Qn(this.config.selectors.display[o],d),f=Ot("div",Pi(a,{class:`${a.class?a.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":Gi.get(o,this.config)}),"00:00");return this.elements.display[o]=f,f},bindMenuItemShortcuts(o,d){ei.call(this,o,"keydown keyup",a=>{if(!["Space","ArrowUp","ArrowDown","ArrowRight"].includes(a.key)||(a.preventDefault(),a.stopPropagation(),a.type==="keydown"))return;const f=ms(o,'[role="menuitemradio"]');if(!f&&["Space","ArrowRight"].includes(a.key))rt.showMenuPanel.call(this,d,!0);else{let A;a.key!=="Space"&&(a.key==="ArrowDown"||f&&a.key==="ArrowRight"?(A=o.nextElementSibling,Q.element(A)||(A=o.parentNode.firstElementChild)):(A=o.previousElementSibling,Q.element(A)||(A=o.parentNode.lastElementChild)),Sl.call(this,A,!0))}},!1),ei.call(this,o,"keyup",a=>{a.key==="Return"&&rt.focusFirstMenuItem.call(this,null,!0)})},createMenuItem({value:o,list:d,type:a,title:f,badge:A=null,checked:v=!1}){const P=Qn(this.config.selectors.inputs[a]),q=Ot("button",Pi(P,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${P.class?P.class:""}`.trim(),"aria-checked":v,value:o})),ae=Ot("span");ae.innerHTML=f,Q.element(A)&&ae.appendChild(A),q.appendChild(ae),Object.defineProperty(q,"checked",{enumerable:!0,get:()=>q.getAttribute("aria-checked")==="true",set(oe){oe&&Array.from(q.parentNode.children).filter(le=>ms(le,'[role="menuitemradio"]')).forEach(le=>le.setAttribute("aria-checked","false")),q.setAttribute("aria-checked",oe?"true":"false")}}),this.listeners.bind(q,"click keyup",oe=>{if(!Q.keyboardEvent(oe)||oe.key==="Space"){switch(oe.preventDefault(),oe.stopPropagation(),q.checked=!0,a){case"language":this.currentTrack=Number(o);break;case"quality":this.quality=o;break;case"speed":this.speed=parseFloat(o)}rt.showMenuPanel.call(this,"home",Q.keyboardEvent(oe))}},a,!1),rt.bindMenuItemShortcuts.call(this,q,a),d.appendChild(q)},formatTime(o=0,d=!1){return Q.number(o)?ru(o,Zf(this.duration)>0,d):o},updateTimeDisplay(o=null,d=0,a=!1){Q.element(o)&&Q.number(d)&&(o.innerText=rt.formatTime(d,a))},updateVolume(){this.supported.ui&&(Q.element(this.elements.inputs.volume)&&rt.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),Q.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||this.volume===0))},setRange(o,d=0){Q.element(o)&&(o.value=d,rt.updateRangeFill.call(this,o))},updateProgress(o){if(!this.supported.ui||!Q.event(o))return;let d=0;const a=(f,A)=>{const v=Q.number(A)?A:0,P=Q.element(f)?f:this.elements.display.buffer;if(Q.element(P)){P.value=v;const q=P.getElementsByTagName("span")[0];Q.element(q)&&(q.childNodes[0].nodeValue=v)}};if(o)switch(o.type){case"timeupdate":case"seeking":case"seeked":d=v1(this.currentTime,this.duration),o.type==="timeupdate"&&rt.setRange.call(this,this.elements.inputs.seek,d);break;case"playing":case"progress":a(this.elements.display.buffer,100*this.buffered)}},updateRangeFill(o){const d=Q.event(o)?o.target:o;if(Q.element(d)&&d.getAttribute("type")==="range"){if(ms(d,this.config.selectors.inputs.seek)){d.setAttribute("aria-valuenow",this.currentTime);const a=rt.formatTime(this.currentTime),f=rt.formatTime(this.duration),A=Gi.get("seekLabel",this.config);d.setAttribute("aria-valuetext",A.replace("{currentTime}",a).replace("{duration}",f))}else if(ms(d,this.config.selectors.inputs.volume)){const a=100*d.value;d.setAttribute("aria-valuenow",a),d.setAttribute("aria-valuetext",`${a.toFixed(1)}%`)}else d.setAttribute("aria-valuenow",d.value);Zi.isWebkit&&d.style.setProperty("--value",d.value/d.max*100+"%")}},updateSeekTooltip(o){var d,a;if(!this.config.tooltips.seek||!Q.element(this.elements.inputs.seek)||!Q.element(this.elements.display.seekTooltip)||this.duration===0)return;const f=this.elements.display.seekTooltip,A=`${this.config.classNames.tooltip}--visible`,v=le=>Jt(f,A,le);if(this.touch)return void v(!1);let P=0;const q=this.elements.progress.getBoundingClientRect();if(Q.event(o))P=100/q.width*(o.pageX-q.left);else{if(!Yo(f,A))return;P=parseFloat(f.style.left,10)}P<0?P=0:P>100&&(P=100);const ae=this.duration/100*P;f.innerText=rt.formatTime(ae);const oe=(d=this.config.markers)===null||d===void 0||(a=d.points)===null||a===void 0?void 0:a.find(({time:le})=>le===Math.round(ae));oe&&f.insertAdjacentHTML("afterbegin",`${oe.label}<br>`),f.style.left=`${P}%`,Q.event(o)&&["mouseenter","mouseleave"].includes(o.type)&&v(o.type==="mouseenter")},timeUpdate(o){const d=!Q.element(this.elements.display.duration)&&this.config.invertTime;rt.updateTimeDisplay.call(this,this.elements.display.currentTime,d?this.duration-this.currentTime:this.currentTime,d),o&&o.type==="timeupdate"&&this.media.seeking||rt.updateProgress.call(this,o)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return ps(this.elements.display.currentTime,!0),void ps(this.elements.progress,!0);Q.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const o=Q.element(this.elements.display.duration);!o&&this.config.displayDuration&&this.paused&&rt.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),o&&rt.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&rt.setMarkers.call(this),rt.updateSeekTooltip.call(this)},toggleMenuButton(o,d){ps(this.elements.settings.buttons[o],!d)},updateSetting(o,d,a){const f=this.elements.settings.panels[o];let A=null,v=d;if(o==="captions")A=this.currentTrack;else{if(A=Q.empty(a)?this[o]:a,Q.empty(A)&&(A=this.config[o].default),!Q.empty(this.options[o])&&!this.options[o].includes(A))return void this.debug.warn(`Unsupported value of '${A}' for ${o}`);if(!this.config[o].options.includes(A))return void this.debug.warn(`Disabled value of '${A}' for ${o}`)}if(Q.element(v)||(v=f&&f.querySelector('[role="menu"]')),!Q.element(v))return;this.elements.settings.buttons[o].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=rt.getLabel.call(this,o,A);const P=v&&v.querySelector(`[value="${A}"]`);Q.element(P)&&(P.checked=!0)},getLabel(o,d){switch(o){case"speed":return d===1?Gi.get("normal",this.config):`${d}&times;`;case"quality":if(Q.number(d)){const a=Gi.get(`qualityLabel.${d}`,this.config);return a.length?a:`${d}p`}return $f(d);case"captions":return ii.getLabel.call(this);default:return null}},setQualityMenu(o){if(!Q.element(this.elements.settings.panels.quality))return;const d="quality",a=this.elements.settings.panels.quality.querySelector('[role="menu"]');Q.array(o)&&(this.options.quality=Ml(o).filter(v=>this.config.quality.options.includes(v)));const f=!Q.empty(this.options.quality)&&this.options.quality.length>1;if(rt.toggleMenuButton.call(this,d,f),Uo(a),rt.checkMenu.call(this),!f)return;const A=v=>{const P=Gi.get(`qualityBadge.${v}`,this.config);return P.length?rt.createBadge.call(this,P):null};this.options.quality.sort((v,P)=>{const q=this.config.quality.options;return q.indexOf(v)>q.indexOf(P)?1:-1}).forEach(v=>{rt.createMenuItem.call(this,{value:v,list:a,type:d,title:rt.getLabel.call(this,"quality",v),badge:A(v)})}),rt.updateSetting.call(this,d,a)},setCaptionsMenu(){if(!Q.element(this.elements.settings.panels.captions))return;const o="captions",d=this.elements.settings.panels.captions.querySelector('[role="menu"]'),a=ii.getTracks.call(this),f=Boolean(a.length);if(rt.toggleMenuButton.call(this,o,f),Uo(d),rt.checkMenu.call(this),!f)return;const A=a.map((v,P)=>({value:P,checked:this.captions.toggled&&this.currentTrack===P,title:ii.getLabel.call(this,v),badge:v.language&&rt.createBadge.call(this,v.language.toUpperCase()),list:d,type:"language"}));A.unshift({value:-1,checked:!this.captions.toggled,title:Gi.get("disabled",this.config),list:d,type:"language"}),A.forEach(rt.createMenuItem.bind(this)),rt.updateSetting.call(this,o,d)},setSpeedMenu(){if(!Q.element(this.elements.settings.panels.speed))return;const o="speed",d=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(f=>f>=this.minimumSpeed&&f<=this.maximumSpeed);const a=!Q.empty(this.options.speed)&&this.options.speed.length>1;rt.toggleMenuButton.call(this,o,a),Uo(d),rt.checkMenu.call(this),a&&(this.options.speed.forEach(f=>{rt.createMenuItem.call(this,{value:f,list:d,type:o,title:rt.getLabel.call(this,"speed",f)})}),rt.updateSetting.call(this,o,d))},checkMenu(){const{buttons:o}=this.elements.settings,d=!Q.empty(o)&&Object.values(o).some(a=>!a.hidden);ps(this.elements.settings.menu,!d)},focusFirstMenuItem(o,d=!1){if(this.elements.settings.popup.hidden)return;let a=o;Q.element(a)||(a=Object.values(this.elements.settings.panels).find(A=>!A.hidden));const f=a.querySelector('[role^="menuitem"]');Sl.call(this,f,d)},toggleMenu(o){const{popup:d}=this.elements.settings,a=this.elements.buttons.settings;if(!Q.element(d)||!Q.element(a))return;const{hidden:f}=d;let A=f;if(Q.boolean(o))A=o;else if(Q.keyboardEvent(o)&&o.key==="Escape")A=!1;else if(Q.event(o)){const v=Q.function(o.composedPath)?o.composedPath()[0]:o.target,P=d.contains(v);if(P||!P&&o.target!==a&&A)return}a.setAttribute("aria-expanded",A),ps(d,!A),Jt(this.elements.container,this.config.classNames.menu.open,A),A&&Q.keyboardEvent(o)?rt.focusFirstMenuItem.call(this,null,!0):A||f||Sl.call(this,a,Q.keyboardEvent(o))},getMenuSize(o){const d=o.cloneNode(!0);d.style.position="absolute",d.style.opacity=0,d.removeAttribute("hidden"),o.parentNode.appendChild(d);const a=d.scrollWidth,f=d.scrollHeight;return Cr(d),{width:a,height:f}},showMenuPanel(o="",d=!1){const a=this.elements.container.querySelector(`#plyr-settings-${this.id}-${o}`);if(!Q.element(a))return;const f=a.parentNode,A=Array.from(f.children).find(v=>!v.hidden);if(Ei.transitions&&!Ei.reducedMotion){f.style.width=`${A.scrollWidth}px`,f.style.height=`${A.scrollHeight}px`;const v=rt.getMenuSize.call(this,a),P=q=>{q.target===f&&["width","height"].includes(q.propertyName)&&(f.style.width="",f.style.height="",nu.call(this,f,Nl,P))};ei.call(this,f,Nl,P),f.style.width=`${v.width}px`,f.style.height=`${v.height}px`}ps(A,!0),ps(a,!1),rt.focusFirstMenuItem.call(this,a,d)},setDownloadUrl(){const o=this.elements.buttons.download;Q.element(o)&&o.setAttribute("href",this.download)},create(o){const{bindMenuItemShortcuts:d,createButton:a,createProgress:f,createRange:A,createTime:v,setQualityMenu:P,setSpeedMenu:q,showMenuPanel:ae}=rt;this.elements.controls=null,Q.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(a.call(this,"play-large"));const oe=Ot("div",Qn(this.config.selectors.controls.wrapper));this.elements.controls=oe;const le={class:"plyr__controls__item"};return Ml(Q.array(this.config.controls)?this.config.controls:[]).forEach(ge=>{if(ge==="restart"&&oe.appendChild(a.call(this,"restart",le)),ge==="rewind"&&oe.appendChild(a.call(this,"rewind",le)),ge==="play"&&oe.appendChild(a.call(this,"play",le)),ge==="fast-forward"&&oe.appendChild(a.call(this,"fast-forward",le)),ge==="progress"){const Z=Ot("div",{class:`${le.class} plyr__progress__container`}),D=Ot("div",Qn(this.config.selectors.progress));if(D.appendChild(A.call(this,"seek",{id:`plyr-seek-${o.id}`})),D.appendChild(f.call(this,"buffer")),this.config.tooltips.seek){const X=Ot("span",{class:this.config.classNames.tooltip},"00:00");D.appendChild(X),this.elements.display.seekTooltip=X}this.elements.progress=D,Z.appendChild(this.elements.progress),oe.appendChild(Z)}if(ge==="current-time"&&oe.appendChild(v.call(this,"currentTime",le)),ge==="duration"&&oe.appendChild(v.call(this,"duration",le)),ge==="mute"||ge==="volume"){let{volume:Z}=this.elements;if(Q.element(Z)&&oe.contains(Z)||(Z=Ot("div",Pi({},le,{class:`${le.class} plyr__volume`.trim()})),this.elements.volume=Z,oe.appendChild(Z)),ge==="mute"&&Z.appendChild(a.call(this,"mute")),ge==="volume"&&!Zi.isIos){const D={max:1,step:.05,value:this.config.volume};Z.appendChild(A.call(this,"volume",Pi(D,{id:`plyr-volume-${o.id}`})))}}if(ge==="captions"&&oe.appendChild(a.call(this,"captions",le)),ge==="settings"&&!Q.empty(this.config.settings)){const Z=Ot("div",Pi({},le,{class:`${le.class} plyr__menu`.trim(),hidden:""}));Z.appendChild(a.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${o.id}`,"aria-expanded":!1}));const D=Ot("div",{class:"plyr__menu__container",id:`plyr-settings-${o.id}`,hidden:""}),X=Ot("div"),K=Ot("div",{id:`plyr-settings-${o.id}-home`}),ie=Ot("div",{role:"menu"});K.appendChild(ie),X.appendChild(K),this.elements.settings.panels.home=K,this.config.settings.forEach(fe=>{const ve=Ot("button",Pi(Qn(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));d.call(this,ve,fe),ei.call(this,ve,"click",()=>{ae.call(this,fe,!1)});const he=Ot("span",null,Gi.get(fe,this.config)),Ae=Ot("span",{class:this.config.classNames.menu.value});Ae.innerHTML=o[fe],he.appendChild(Ae),ve.appendChild(he),ie.appendChild(ve);const Ee=Ot("div",{id:`plyr-settings-${o.id}-${fe}`,hidden:""}),O=Ot("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});O.appendChild(Ot("span",{"aria-hidden":!0},Gi.get(fe,this.config))),O.appendChild(Ot("span",{class:this.config.classNames.hidden},Gi.get("menuBack",this.config))),ei.call(this,Ee,"keydown",Pe=>{Pe.key==="ArrowLeft"&&(Pe.preventDefault(),Pe.stopPropagation(),ae.call(this,"home",!0))},!1),ei.call(this,O,"click",()=>{ae.call(this,"home",!1)}),Ee.appendChild(O),Ee.appendChild(Ot("div",{role:"menu"})),X.appendChild(Ee),this.elements.settings.buttons[fe]=ve,this.elements.settings.panels[fe]=Ee}),D.appendChild(X),Z.appendChild(D),oe.appendChild(Z),this.elements.settings.popup=D,this.elements.settings.menu=Z}if(ge==="pip"&&Ei.pip&&oe.appendChild(a.call(this,"pip",le)),ge==="airplay"&&Ei.airplay&&oe.appendChild(a.call(this,"airplay",le)),ge==="download"){const Z=Pi({},le,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(Z.download="");const{download:D}=this.config.urls;!Q.url(D)&&this.isEmbed&&Pi(Z,{icon:`logo-${this.provider}`,label:this.provider}),oe.appendChild(a.call(this,"download",Z))}ge==="fullscreen"&&oe.appendChild(a.call(this,"fullscreen",le))}),this.isHTML5&&P.call(this,qr.getQualityOptions.call(this)),q.call(this),oe},inject(){if(this.config.loadSprite){const A=rt.getIconUrl.call(this);A.cors&&Kf(A.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let o=null;this.elements.controls=null;const d={id:this.id,seektime:this.config.seekTime,title:this.config.title};let a=!0;Q.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,d)),this.config.controls||(this.config.controls=[]),Q.element(this.config.controls)||Q.string(this.config.controls)?o=this.config.controls:(o=rt.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:ii.getLabel.call(this)}),a=!1);let f;if(a&&Q.string(this.config.controls)&&(o=(A=>{let v=A;return Object.entries(d).forEach(([P,q])=>{v=Ia(v,`{${P}}`,q)}),v})(o)),Q.string(this.config.selectors.controls.container)&&(f=document.querySelector(this.config.selectors.controls.container)),Q.element(f)||(f=this.elements.container),f[Q.element(o)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",o),Q.element(this.elements.controls)||rt.findElements.call(this),!Q.empty(this.elements.buttons)){const A=v=>{const P=this.config.classNames.controlPressed;v.setAttribute("aria-pressed","false"),Object.defineProperty(v,"pressed",{configurable:!0,enumerable:!0,get:()=>Yo(v,P),set(q=!1){Jt(v,P,q),v.setAttribute("aria-pressed",q?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach(v=>{Q.array(v)||Q.nodeList(v)?Array.from(v).filter(Boolean).forEach(A):A(v)})}if(Zi.isEdge&&zf(f),this.config.tooltips.controls){const{classNames:A,selectors:v}=this.config,P=`${v.controls.wrapper} ${v.labels} .${A.hidden}`,q=$s.call(this,P);Array.from(q).forEach(ae=>{Jt(ae,this.config.classNames.hidden,!1),Jt(ae,this.config.classNames.tooltip,!0)})}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch(o){}},setMarkers(){var o,d;if(!this.duration||this.elements.markers)return;const a=(o=this.config.markers)===null||o===void 0||(d=o.points)===null||d===void 0?void 0:d.filter(({time:ae})=>ae>0&&ae<this.duration);if(a==null||!a.length)return;const f=document.createDocumentFragment(),A=document.createDocumentFragment();let v=null;const P=`${this.config.classNames.tooltip}--visible`,q=ae=>Jt(v,P,ae);a.forEach(ae=>{const oe=Ot("span",{class:this.config.classNames.marker},""),le=ae.time/this.duration*100+"%";v&&(oe.addEventListener("mouseenter",()=>{ae.label||(v.style.left=le,v.innerHTML=ae.label,q(!0))}),oe.addEventListener("mouseleave",()=>{q(!1)})),oe.addEventListener("click",()=>{this.currentTime=ae.time}),oe.style.left=le,A.appendChild(oe)}),f.appendChild(A),this.config.tooltips.seek||(v=Ot("span",{class:this.config.classNames.tooltip},""),f.appendChild(v)),this.elements.markers={points:A,tip:v},this.elements.progress.appendChild(f)}};function Yf(o,d=!0){let a=o;if(d){const f=document.createElement("a");f.href=a,a=f.href}try{return new URL(a)}catch(f){return null}}function jf(o){const d=new URLSearchParams;return Q.object(o)&&Object.entries(o).forEach(([a,f])=>{d.set(a,f)}),d}const ii={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!Ei.textTracks)return void(Q.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&rt.setCaptionsMenu.call(this));if(Q.element(this.elements.captions)||(this.elements.captions=Ot("div",Qn(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),h1(this.elements.captions,this.elements.wrapper)),Zi.isIE&&window.URL){const f=this.media.querySelectorAll("track");Array.from(f).forEach(A=>{const v=A.getAttribute("src"),P=Yf(v);P!==null&&P.hostname!==window.location.href.hostname&&["http:","https:"].includes(P.protocol)&&Ha(v,"blob").then(q=>{A.setAttribute("src",window.URL.createObjectURL(q))}).catch(()=>{Cr(A)})})}const o=Ml((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(f=>f.split("-")[0]));let d=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();d==="auto"&&([d]=o);let a=this.storage.get("captions");if(Q.boolean(a)||({active:a}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:a,language:d,languages:o}),this.isHTML5){const f=this.config.captions.update?"addtrack removetrack":"removetrack";ei.call(this,this.media.textTracks,f,ii.update.bind(this))}setTimeout(ii.update.bind(this),0)},update(){const o=ii.getTracks.call(this,!0),{active:d,language:a,meta:f,currentTrackNode:A}=this.captions,v=Boolean(o.find(P=>P.language===a));this.isHTML5&&this.isVideo&&o.filter(P=>!f.get(P)).forEach(P=>{this.debug.log("Track added",P),f.set(P,{default:P.mode==="showing"}),P.mode==="showing"&&(P.mode="hidden"),ei.call(this,P,"cuechange",()=>ii.updateCues.call(this))}),(v&&this.language!==a||!o.includes(A))&&(ii.setLanguage.call(this,a),ii.toggle.call(this,d&&v)),this.elements&&Jt(this.elements.container,this.config.classNames.captions.enabled,!Q.empty(o)),Q.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&rt.setCaptionsMenu.call(this)},toggle(o,d=!0){if(!this.supported.ui)return;const{toggled:a}=this.captions,f=this.config.classNames.captions.active,A=Q.nullOrUndefined(o)?!a:o;if(A!==a){if(d||(this.captions.active=A,this.storage.set({captions:A})),!this.language&&A&&!d){const v=ii.getTracks.call(this),P=ii.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=P.language,void ii.set.call(this,v.indexOf(P))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=A),Jt(this.elements.container,f,A),this.captions.toggled=A,rt.updateSetting.call(this,"captions"),Ft.call(this,this.media,A?"captionsenabled":"captionsdisabled")}setTimeout(()=>{A&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")})},set(o,d=!0){const a=ii.getTracks.call(this);if(o!==-1)if(Q.number(o))if(o in a){if(this.captions.currentTrack!==o){this.captions.currentTrack=o;const f=a[o],{language:A}=f||{};this.captions.currentTrackNode=f,rt.updateSetting.call(this,"captions"),d||(this.captions.language=A,this.storage.set({language:A})),this.isVimeo&&this.embed.enableTextTrack(A),Ft.call(this,this.media,"languagechange")}ii.toggle.call(this,!0,d),this.isHTML5&&this.isVideo&&ii.updateCues.call(this)}else this.debug.warn("Track not found",o);else this.debug.warn("Invalid caption argument",o);else ii.toggle.call(this,!1,d)},setLanguage(o,d=!0){if(!Q.string(o))return void this.debug.warn("Invalid language argument",o);const a=o.toLowerCase();this.captions.language=a;const f=ii.getTracks.call(this),A=ii.findTrack.call(this,[a]);ii.set.call(this,f.indexOf(A),d)},getTracks(o=!1){return Array.from((this.media||{}).textTracks||[]).filter(d=>!this.isHTML5||o||this.captions.meta.has(d)).filter(d=>["captions","subtitles"].includes(d.kind))},findTrack(o,d=!1){const a=ii.getTracks.call(this),f=P=>Number((this.captions.meta.get(P)||{}).default),A=Array.from(a).sort((P,q)=>f(q)-f(P));let v;return o.every(P=>(v=A.find(q=>q.language===P),!v)),v||(d?A[0]:void 0)},getCurrentTrack(){return ii.getTracks.call(this)[this.currentTrack]},getLabel(o){let d=o;return!Q.track(d)&&Ei.textTracks&&this.captions.toggled&&(d=ii.getCurrentTrack.call(this)),Q.track(d)?Q.empty(d.label)?Q.empty(d.language)?Gi.get("enabled",this.config):o.language.toUpperCase():d.label:Gi.get("disabled",this.config)},updateCues(o){if(!this.supported.ui)return;if(!Q.element(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!Q.nullOrUndefined(o)&&!Array.isArray(o))return void this.debug.warn("updateCues: Invalid input",o);let d=o;if(!d){const f=ii.getCurrentTrack.call(this);d=Array.from((f||{}).activeCues||[]).map(A=>A.getCueAsHTML()).map(w1)}const a=d.map(f=>f.trim()).join(`
`);if(a!==this.elements.captions.innerHTML){Uo(this.elements.captions);const f=Ot("span",Qn(this.config.selectors.caption));f.innerHTML=a,this.elements.captions.appendChild(f),Ft.call(this,this.media,"cuechange")}}},Xf={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.3/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus",previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},El={active:"picture-in-picture",inactive:"inline"},Ur={html5:"html5",youtube:"youtube",vimeo:"vimeo"},Al={audio:"audio",video:"video"};function C1(o){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(o)?Ur.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(o)?Ur.vimeo:null}const Tl=()=>{};class S1{constructor(d=!1){this.enabled=window.console&&d,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):Tl}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):Tl}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):Tl}}class Jn{constructor(d){at(this,"onChange",()=>{if(!this.enabled)return;const a=this.player.elements.buttons.fullscreen;Q.element(a)&&(a.pressed=this.active);const f=this.target===this.player.media?this.target:this.player.elements.container;Ft.call(this.player,f,this.active?"enterfullscreen":"exitfullscreen",!0)}),at(this,"toggleFallback",(a=!1)=>{if(a?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=a?"hidden":"",Jt(this.target,this.player.config.classNames.fullscreen.fallback,a),Zi.isIos){let f=document.head.querySelector('meta[name="viewport"]');const A="viewport-fit=cover";f||(f=document.createElement("meta"),f.setAttribute("name","viewport"));const v=Q.string(f.content)&&f.content.includes(A);a?(this.cleanupViewport=!v,v||(f.content+=`,${A}`)):this.cleanupViewport&&(f.content=f.content.split(",").filter(P=>P.trim()!==A).join(","))}this.onChange()}),at(this,"trapFocus",a=>{if(Zi.isIos||!this.active||a.key!=="Tab")return;const f=document.activeElement,A=$s.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[v]=A,P=A[A.length-1];f!==P||a.shiftKey?f===v&&a.shiftKey&&(P.focus(),a.preventDefault()):(v.focus(),a.preventDefault())}),at(this,"update",()=>{if(this.enabled){let a;a=this.forceFallback?"Fallback (forced)":Jn.native?"Native":"Fallback",this.player.debug.log(`${a} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");Jt(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}),at(this,"enter",()=>{this.enabled&&(Zi.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!Jn.native||this.forceFallback?this.toggleFallback(!0):this.prefix?Q.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))}),at(this,"exit",()=>{if(this.enabled)if(Zi.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),er(this.player.play());else if(!Jn.native||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!Q.empty(this.prefix)){const a=this.prefix==="moz"?"Cancel":"Exit";document[`${this.prefix}${a}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}),at(this,"toggle",()=>{this.active?this.exit():this.enter()}),this.player=d,this.prefix=Jn.prefix,this.property=Jn.property,this.scrollPosition={x:0,y:0},this.forceFallback=d.config.fullscreen.fallback==="force",this.player.elements.fullscreen=d.config.fullscreen.container&&c1(this.player.elements.container,d.config.fullscreen.container),ei.call(this.player,document,this.prefix==="ms"?"MSFullscreenChange":`${this.prefix}fullscreenchange`,()=>{this.onChange()}),ei.call(this.player,this.player.elements.container,"dblclick",a=>{Q.element(this.player.elements.controls)&&this.player.elements.controls.contains(a.target)||this.player.listeners.proxy(a,this.toggle,"fullscreen")}),ei.call(this,this.player.elements.container,"keydown",a=>this.trapFocus(a)),this.update()}static get native(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get usingNative(){return Jn.native&&!this.forceFallback}static get prefix(){if(Q.function(document.exitFullscreen))return"";let d="";return["webkit","moz","ms"].some(a=>!(!Q.function(document[`${a}ExitFullscreen`])&&!Q.function(document[`${a}CancelFullScreen`]))&&(d=a,!0)),d}static get property(){return this.prefix==="moz"?"FullScreen":"Fullscreen"}get enabled(){return(Jn.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}get active(){if(!this.enabled)return!1;if(!Jn.native||this.forceFallback)return Yo(this.target,this.player.config.classNames.fullscreen.fallback);const d=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return d&&d.shadowRoot?d===this.target.getRootNode().host:d===this.target}get target(){return Zi.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen||this.player.elements.container}}function qo(o,d=1){return new Promise((a,f)=>{const A=new Image,v=()=>{delete A.onload,delete A.onerror,(A.naturalWidth>=d?a:f)(A)};Object.assign(A,{onload:v,onerror:v,src:o})})}const ui={addStyleHook(){Jt(this.elements.container,this.config.selectors.container.replace(".",""),!0),Jt(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(o=!1){o&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void ui.toggleNativeControls.call(this,!0);Q.element(this.elements.controls)||(rt.inject.call(this),this.listeners.controls()),ui.toggleNativeControls.call(this),this.isHTML5&&ii.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,rt.updateVolume.call(this),rt.timeUpdate.call(this),rt.durationUpdate.call(this),ui.checkPlaying.call(this),Jt(this.elements.container,this.config.classNames.pip.supported,Ei.pip&&this.isHTML5&&this.isVideo),Jt(this.elements.container,this.config.classNames.airplay.supported,Ei.airplay&&this.isHTML5),Jt(this.elements.container,this.config.classNames.isIos,Zi.isIos),Jt(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(()=>{Ft.call(this,this.media,"ready")},0),ui.setTitle.call(this),this.poster&&ui.setPoster.call(this,this.poster,!1).catch(()=>{}),this.config.duration&&rt.durationUpdate.call(this),this.config.mediaMetadata&&rt.setMediaMetadata.call(this)},setTitle(){let o=Gi.get("play",this.config);if(Q.string(this.config.title)&&!Q.empty(this.config.title)&&(o+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach(d=>{d.setAttribute("aria-label",o)}),this.isEmbed){const d=zi.call(this,"iframe");if(!Q.element(d))return;const a=Q.empty(this.config.title)?"video":this.config.title,f=Gi.get("frameTitle",this.config);d.setAttribute("title",f.replace("{title}",a))}},togglePoster(o){Jt(this.elements.container,this.config.classNames.posterEnabled,o)},setPoster(o,d=!0){return d&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",o),this.elements.poster.removeAttribute("hidden"),p1.call(this).then(()=>qo(o)).catch(a=>{throw o===this.poster&&ui.togglePoster.call(this,!1),a}).then(()=>{if(o!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${o}')`,backgroundSize:""}),ui.togglePoster.call(this,!0),o)))},checkPlaying(o){Jt(this.elements.container,this.config.classNames.playing,this.playing),Jt(this.elements.container,this.config.classNames.paused,this.paused),Jt(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(d=>{Object.assign(d,{pressed:this.playing}),d.setAttribute("aria-label",Gi.get(this.playing?"pause":"play",this.config))}),Q.event(o)&&o.type==="timeupdate"||ui.toggleControls.call(this)},checkLoading(o){this.loading=["stalled","waiting"].includes(o.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(()=>{Jt(this.elements.container,this.config.classNames.loading,this.loading),ui.toggleControls.call(this)},this.loading?250:0)},toggleControls(o){const{controls:d}=this.elements;if(d&&this.config.hideControls){const a=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(o||this.loading||this.paused||d.pressed||d.hover||a))}},migrateStyles(){Object.values({...this.media.style}).filter(o=>!Q.empty(o)&&Q.string(o)&&o.startsWith("--plyr")).forEach(o=>{this.elements.container.style.setProperty(o,this.media.style.getPropertyValue(o)),this.media.style.removeProperty(o)}),Q.empty(this.media.style)&&this.media.removeAttribute("style")}};class E1{constructor(d){at(this,"firstTouch",()=>{const{player:a}=this,{elements:f}=a;a.touch=!0,Jt(f.container,a.config.classNames.isTouch,!0)}),at(this,"setTabFocus",a=>{const{player:f}=this,{elements:A}=f,{key:v,type:P,timeStamp:q}=a;if(clearTimeout(this.focusTimer),P==="keydown"&&v!=="Tab")return;P==="keydown"&&(this.lastKeyDown=q);const ae=q-this.lastKeyDown<=20;(P!=="focus"||ae)&&((()=>{const oe=f.config.classNames.tabFocus;Jt($s.call(f,`.${oe}`),oe,!1)})(),P!=="focusout"&&(this.focusTimer=setTimeout(()=>{const oe=document.activeElement;A.container.contains(oe)&&Jt(document.activeElement,f.config.classNames.tabFocus,!0)},10)))}),at(this,"global",(a=!0)=>{const{player:f}=this;f.config.keyboard.global&&Ks.call(f,window,"keydown keyup",this.handleKey,a,!1),Ks.call(f,document.body,"click",this.toggleMenu,a),Yl.call(f,document.body,"touchstart",this.firstTouch),Ks.call(f,document.body,"keydown focus blur focusout",this.setTabFocus,a,!1,!0)}),at(this,"container",()=>{const{player:a}=this,{config:f,elements:A,timers:v}=a;!f.keyboard.global&&f.keyboard.focused&&ei.call(a,A.container,"keydown keyup",this.handleKey,!1),ei.call(a,A.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",ae=>{const{controls:oe}=A;oe&&ae.type==="enterfullscreen"&&(oe.pressed=!1,oe.hover=!1);let le=0;["touchstart","touchmove","mousemove"].includes(ae.type)&&(ui.toggleControls.call(a,!0),le=a.touch?3e3:2e3),clearTimeout(v.controls),v.controls=setTimeout(()=>ui.toggleControls.call(a,!1),le)});const P=()=>{if(!a.isVimeo||a.config.vimeo.premium)return;const ae=A.wrapper,{active:oe}=a.fullscreen,[le,ge]=jl.call(a),Z=Hf(`aspect-ratio: ${le} / ${ge}`);if(!oe)return void(Z?(ae.style.width=null,ae.style.height=null):(ae.style.maxWidth=null,ae.style.margin=null));const[D,X]=g1(),K=D/X>le/ge;Z?(ae.style.width=K?"auto":"100%",ae.style.height=K?"100%":"auto"):(ae.style.maxWidth=K?X/ge*le+"px":null,ae.style.margin=K?"0 auto":null)},q=()=>{clearTimeout(v.resized),v.resized=setTimeout(P,50)};ei.call(a,A.container,"enterfullscreen exitfullscreen",ae=>{const{target:oe}=a.fullscreen;oe===A.container&&(!a.isEmbed&&Q.empty(a.config.ratio)||(P(),(ae.type==="enterfullscreen"?ei:nu).call(a,window,"resize",q)))})}),at(this,"media",()=>{const{player:a}=this,{elements:f}=a;if(ei.call(a,a.media,"timeupdate seeking seeked",v=>rt.timeUpdate.call(a,v)),ei.call(a,a.media,"durationchange loadeddata loadedmetadata",v=>rt.durationUpdate.call(a,v)),ei.call(a,a.media,"ended",()=>{a.isHTML5&&a.isVideo&&a.config.resetOnEnd&&(a.restart(),a.pause())}),ei.call(a,a.media,"progress playing seeking seeked",v=>rt.updateProgress.call(a,v)),ei.call(a,a.media,"volumechange",v=>rt.updateVolume.call(a,v)),ei.call(a,a.media,"playing play pause ended emptied timeupdate",v=>ui.checkPlaying.call(a,v)),ei.call(a,a.media,"waiting canplay seeked playing",v=>ui.checkLoading.call(a,v)),a.supported.ui&&a.config.clickToPlay&&!a.isAudio){const v=zi.call(a,`.${a.config.classNames.video}`);if(!Q.element(v))return;ei.call(a,f.container,"click",P=>{([f.container,v].includes(P.target)||v.contains(P.target))&&(a.touch&&a.config.hideControls||(a.ended?(this.proxy(P,a.restart,"restart"),this.proxy(P,()=>{er(a.play())},"play")):this.proxy(P,()=>{er(a.togglePlay())},"play")))})}a.supported.ui&&a.config.disableContextMenu&&ei.call(a,f.wrapper,"contextmenu",v=>{v.preventDefault()},!1),ei.call(a,a.media,"volumechange",()=>{a.storage.set({volume:a.volume,muted:a.muted})}),ei.call(a,a.media,"ratechange",()=>{rt.updateSetting.call(a,"speed"),a.storage.set({speed:a.speed})}),ei.call(a,a.media,"qualitychange",v=>{rt.updateSetting.call(a,"quality",null,v.detail.quality)}),ei.call(a,a.media,"ready qualitychange",()=>{rt.setDownloadUrl.call(a)});const A=a.config.events.concat(["keyup","keydown"]).join(" ");ei.call(a,a.media,A,v=>{let{detail:P={}}=v;v.type==="error"&&(P=a.media.error),Ft.call(a,f.container,v.type,!0,P)})}),at(this,"proxy",(a,f,A)=>{const{player:v}=this,P=v.config.listeners[A];let q=!0;Q.function(P)&&(q=P.call(v,a)),q!==!1&&Q.function(f)&&f.call(v,a)}),at(this,"bind",(a,f,A,v,P=!0)=>{const{player:q}=this,ae=q.config.listeners[v],oe=Q.function(ae);ei.call(q,a,f,le=>this.proxy(le,A,v),P&&!oe)}),at(this,"controls",()=>{const{player:a}=this,{elements:f}=a,A=Zi.isIE?"change":"input";if(f.buttons.play&&Array.from(f.buttons.play).forEach(v=>{this.bind(v,"click",()=>{er(a.togglePlay())},"play")}),this.bind(f.buttons.restart,"click",a.restart,"restart"),this.bind(f.buttons.rewind,"click",()=>{a.lastSeekTime=Date.now(),a.rewind()},"rewind"),this.bind(f.buttons.fastForward,"click",()=>{a.lastSeekTime=Date.now(),a.forward()},"fastForward"),this.bind(f.buttons.mute,"click",()=>{a.muted=!a.muted},"mute"),this.bind(f.buttons.captions,"click",()=>a.toggleCaptions()),this.bind(f.buttons.download,"click",()=>{Ft.call(a,a.media,"download")},"download"),this.bind(f.buttons.fullscreen,"click",()=>{a.fullscreen.toggle()},"fullscreen"),this.bind(f.buttons.pip,"click",()=>{a.pip="toggle"},"pip"),this.bind(f.buttons.airplay,"click",a.airplay,"airplay"),this.bind(f.buttons.settings,"click",v=>{v.stopPropagation(),v.preventDefault(),rt.toggleMenu.call(a,v)},null,!1),this.bind(f.buttons.settings,"keyup",v=>{["Space","Enter"].includes(v.key)&&(v.key!=="Enter"?(v.preventDefault(),v.stopPropagation(),rt.toggleMenu.call(a,v)):rt.focusFirstMenuItem.call(a,null,!0))},null,!1),this.bind(f.settings.menu,"keydown",v=>{v.key==="Escape"&&rt.toggleMenu.call(a,v)}),this.bind(f.inputs.seek,"mousedown mousemove",v=>{const P=f.progress.getBoundingClientRect(),q=100/P.width*(v.pageX-P.left);v.currentTarget.setAttribute("seek-value",q)}),this.bind(f.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",v=>{const P=v.currentTarget,q="play-on-seeked";if(Q.keyboardEvent(v)&&!["ArrowLeft","ArrowRight"].includes(v.key))return;a.lastSeekTime=Date.now();const ae=P.hasAttribute(q),oe=["mouseup","touchend","keyup"].includes(v.type);ae&&oe?(P.removeAttribute(q),er(a.play())):!oe&&a.playing&&(P.setAttribute(q,""),a.pause())}),Zi.isIos){const v=$s.call(a,'input[type="range"]');Array.from(v).forEach(P=>this.bind(P,A,q=>zf(q.target)))}this.bind(f.inputs.seek,A,v=>{const P=v.currentTarget;let q=P.getAttribute("seek-value");Q.empty(q)&&(q=P.value),P.removeAttribute("seek-value"),a.currentTime=q/P.max*a.duration},"seek"),this.bind(f.progress,"mouseenter mouseleave mousemove",v=>rt.updateSeekTooltip.call(a,v)),this.bind(f.progress,"mousemove touchmove",v=>{const{previewThumbnails:P}=a;P&&P.loaded&&P.startMove(v)}),this.bind(f.progress,"mouseleave touchend click",()=>{const{previewThumbnails:v}=a;v&&v.loaded&&v.endMove(!1,!0)}),this.bind(f.progress,"mousedown touchstart",v=>{const{previewThumbnails:P}=a;P&&P.loaded&&P.startScrubbing(v)}),this.bind(f.progress,"mouseup touchend",v=>{const{previewThumbnails:P}=a;P&&P.loaded&&P.endScrubbing(v)}),Zi.isWebkit&&Array.from($s.call(a,'input[type="range"]')).forEach(v=>{this.bind(v,"input",P=>rt.updateRangeFill.call(a,P.target))}),a.config.toggleInvert&&!Q.element(f.display.duration)&&this.bind(f.display.currentTime,"click",()=>{a.currentTime!==0&&(a.config.invertTime=!a.config.invertTime,rt.timeUpdate.call(a))}),this.bind(f.inputs.volume,A,v=>{a.volume=v.target.value},"volume"),this.bind(f.controls,"mouseenter mouseleave",v=>{f.controls.hover=!a.touch&&v.type==="mouseenter"}),f.fullscreen&&Array.from(f.fullscreen.children).filter(v=>!v.contains(f.container)).forEach(v=>{this.bind(v,"mouseenter mouseleave",P=>{f.controls&&(f.controls.hover=!a.touch&&P.type==="mouseenter")})}),this.bind(f.controls,"mousedown mouseup touchstart touchend touchcancel",v=>{f.controls.pressed=["mousedown","touchstart"].includes(v.type)}),this.bind(f.controls,"focusin",()=>{const{config:v,timers:P}=a;Jt(f.controls,v.classNames.noTransition,!0),ui.toggleControls.call(a,!0),setTimeout(()=>{Jt(f.controls,v.classNames.noTransition,!1)},0);const q=this.touch?3e3:4e3;clearTimeout(P.controls),P.controls=setTimeout(()=>ui.toggleControls.call(a,!1),q)}),this.bind(f.inputs.volume,"wheel",v=>{const P=v.webkitDirectionInvertedFromDevice,[q,ae]=[v.deltaX,-v.deltaY].map(ge=>P?-ge:ge),oe=Math.sign(Math.abs(q)>Math.abs(ae)?q:ae);a.increaseVolume(oe/50);const{volume:le}=a.media;(oe===1&&le<1||oe===-1&&le>0)&&v.preventDefault()},"volume",!1)}),this.player=d,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(d){const{player:a}=this,{elements:f}=a,{key:A,type:v,altKey:P,ctrlKey:q,metaKey:ae,shiftKey:oe}=d,le=v==="keydown",ge=le&&A===this.lastKey;if(!(P||q||ae||oe)&&!!A){if(le){const D=document.activeElement;if(Q.element(D)){const{editable:X}=a.config.selectors,{seek:K}=f.inputs;if(D!==K&&ms(D,X)||d.key==="Space"&&ms(D,'button, [role^="menuitem"]'))return}switch(["Space","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(A)&&(d.preventDefault(),d.stopPropagation()),A){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":ge||(Z=parseInt(A,10),a.currentTime=a.duration/10*Z);break;case"Space":case"k":ge||er(a.togglePlay());break;case"ArrowUp":a.increaseVolume(.1);break;case"ArrowDown":a.decreaseVolume(.1);break;case"m":ge||(a.muted=!a.muted);break;case"ArrowRight":a.forward();break;case"ArrowLeft":a.rewind();break;case"f":a.fullscreen.toggle();break;case"c":ge||a.toggleCaptions();break;case"l":a.loop=!a.loop}A==="Escape"&&!a.fullscreen.usingNative&&a.fullscreen.active&&a.fullscreen.toggle(),this.lastKey=A}else this.lastKey=null;var Z}}toggleMenu(d){rt.toggleMenu.call(this.player,d)}}function A1(o,d){return o(d={exports:{}},d.exports),d.exports}var T1=A1(function(o,d){o.exports=function(){var a=function(){},f={},A={},v={};function P(Z,D){Z=Z.push?Z:[Z];var X,K,ie,fe=[],ve=Z.length,he=ve;for(X=function(Ae,Ee){Ee.length&&fe.push(Ae),--he||D(fe)};ve--;)K=Z[ve],(ie=A[K])?X(K,ie):(v[K]=v[K]||[]).push(X)}function q(Z,D){if(Z){var X=v[Z];if(A[Z]=D,X)for(;X.length;)X[0](Z,D),X.splice(0,1)}}function ae(Z,D){Z.call&&(Z={success:Z}),D.length?(Z.error||a)(D):(Z.success||a)(Z)}function oe(Z,D,X,K){var ie,fe,ve=document,he=X.async,Ae=(X.numRetries||0)+1,Ee=X.before||a,O=Z.replace(/[\?|#].*$/,""),Pe=Z.replace(/^(css|img)!/,"");K=K||0,/(^css!|\.css$)/.test(O)?((fe=ve.createElement("link")).rel="stylesheet",fe.href=Pe,(ie="hideFocus"in fe)&&fe.relList&&(ie=0,fe.rel="preload",fe.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(O)?(fe=ve.createElement("img")).src=Pe:((fe=ve.createElement("script")).src=Z,fe.async=he===void 0||he),fe.onload=fe.onerror=fe.onbeforeload=function(Je){var Xe=Je.type[0];if(ie)try{fe.sheet.cssText.length||(Xe="e")}catch(ht){ht.code!=18&&(Xe="e")}if(Xe=="e"){if((K+=1)<Ae)return oe(Z,D,X,K)}else if(fe.rel=="preload"&&fe.as=="style")return fe.rel="stylesheet";D(Z,Xe,Je.defaultPrevented)},Ee(Z,fe)!==!1&&ve.head.appendChild(fe)}function le(Z,D,X){var K,ie,fe=(Z=Z.push?Z:[Z]).length,ve=fe,he=[];for(K=function(Ae,Ee,O){if(Ee=="e"&&he.push(Ae),Ee=="b"){if(!O)return;he.push(Ae)}--fe||D(he)},ie=0;ie<ve;ie++)oe(Z[ie],K,X)}function ge(Z,D,X){var K,ie;if(D&&D.trim&&(K=D),ie=(K?X:D)||{},K){if(K in f)throw"LoadJS";f[K]=!0}function fe(ve,he){le(Z,function(Ae){ae(ie,Ae),ve&&ae({success:ve,error:he},Ae),q(K,Ae)},ie)}if(ie.returnPromise)return new Promise(fe);fe()}return ge.ready=function(Z,D){return P(Z,function(X){ae(D,X)}),ge},ge.done=function(Z){q(Z,[])},ge.reset=function(){f={},A={},v={}},ge.isDefined=function(Z){return Z in f},ge}()});function Xl(o){return new Promise((d,a)=>{T1(o,{success:d,error:a})})}function k1(o){return Q.empty(o)?null:Q.number(Number(o))?o:o.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:o}function I1(o){const d=o.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return d&&d.length===5?d[4]:null}function Ta(o){o&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===o&&(this.media.paused=!o,Ft.call(this,this.media,o?"play":"pause"))}const Bl={setup(){const o=this;Jt(o.elements.wrapper,o.config.classNames.embed,!0),o.options.speed=o.config.speed.options,js.call(o),Q.object(window.Vimeo)?Bl.ready.call(o):Xl(o.config.urls.vimeo.sdk).then(()=>{Bl.ready.call(o)}).catch(d=>{o.debug.warn("Vimeo SDK (player.js) failed to load",d)})},ready(){const o=this,d=o.config.vimeo,{premium:a,referrerPolicy:f,...A}=d;let v=o.media.getAttribute("src"),P="";Q.empty(v)?(v=o.media.getAttribute(o.config.attributes.embed.id),P=o.media.getAttribute(o.config.attributes.embed.hash)):P=I1(v);const q=P?{h:P}:{};a&&Object.assign(A,{controls:!1,sidedock:!1});const ae=jf({loop:o.config.loop.active,autoplay:o.autoplay,muted:o.muted,gesture:"media",playsinline:!this.config.fullscreen.iosNative,...q,...A}),oe=k1(v),le=Ot("iframe"),ge=Rl(o.config.urls.vimeo.iframe,oe,ae);if(le.setAttribute("src",ge),le.setAttribute("allowfullscreen",""),le.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),Q.empty(f)||le.setAttribute("referrerPolicy",f),a||!d.customControls)le.setAttribute("data-poster",o.poster),o.media=Zo(le,o.media);else{const ve=Ot("div",{class:o.config.classNames.embedContainer,"data-poster":o.poster});ve.appendChild(le),o.media=Zo(ve,o.media)}d.customControls||Ha(Rl(o.config.urls.vimeo.api,ge)).then(ve=>{!Q.empty(ve)&&ve.thumbnail_url&&ui.setPoster.call(o,ve.thumbnail_url).catch(()=>{})}),o.embed=new window.Vimeo.Player(le,{autopause:o.config.autopause,muted:o.muted}),o.media.paused=!0,o.media.currentTime=0,o.supported.ui&&o.embed.disableTextTrack(),o.media.play=()=>(Ta.call(o,!0),o.embed.play()),o.media.pause=()=>(Ta.call(o,!1),o.embed.pause()),o.media.stop=()=>{o.pause(),o.currentTime=0};let{currentTime:Z}=o.media;Object.defineProperty(o.media,"currentTime",{get:()=>Z,set(ve){const{embed:he,media:Ae,paused:Ee,volume:O}=o,Pe=Ee&&!he.hasPlayed;Ae.seeking=!0,Ft.call(o,Ae,"seeking"),Promise.resolve(Pe&&he.setVolume(0)).then(()=>he.setCurrentTime(ve)).then(()=>Pe&&he.pause()).then(()=>Pe&&he.setVolume(O)).catch(()=>{})}});let D=o.config.speed.selected;Object.defineProperty(o.media,"playbackRate",{get:()=>D,set(ve){o.embed.setPlaybackRate(ve).then(()=>{D=ve,Ft.call(o,o.media,"ratechange")}).catch(()=>{o.options.speed=[1]})}});let{volume:X}=o.config;Object.defineProperty(o.media,"volume",{get:()=>X,set(ve){o.embed.setVolume(ve).then(()=>{X=ve,Ft.call(o,o.media,"volumechange")})}});let{muted:K}=o.config;Object.defineProperty(o.media,"muted",{get:()=>K,set(ve){const he=!!Q.boolean(ve)&&ve;o.embed.setVolume(he?0:o.config.volume).then(()=>{K=he,Ft.call(o,o.media,"volumechange")})}});let ie,{loop:fe}=o.config;Object.defineProperty(o.media,"loop",{get:()=>fe,set(ve){const he=Q.boolean(ve)?ve:o.config.loop.active;o.embed.setLoop(he).then(()=>{fe=he})}}),o.embed.getVideoUrl().then(ve=>{ie=ve,rt.setDownloadUrl.call(o)}).catch(ve=>{this.debug.warn(ve)}),Object.defineProperty(o.media,"currentSrc",{get:()=>ie}),Object.defineProperty(o.media,"ended",{get:()=>o.currentTime===o.duration}),Promise.all([o.embed.getVideoWidth(),o.embed.getVideoHeight()]).then(ve=>{const[he,Ae]=ve;o.embed.ratio=Gf(he,Ae),js.call(this)}),o.embed.setAutopause(o.config.autopause).then(ve=>{o.config.autopause=ve}),o.embed.getVideoTitle().then(ve=>{o.config.title=ve,ui.setTitle.call(this)}),o.embed.getCurrentTime().then(ve=>{Z=ve,Ft.call(o,o.media,"timeupdate")}),o.embed.getDuration().then(ve=>{o.media.duration=ve,Ft.call(o,o.media,"durationchange")}),o.embed.getTextTracks().then(ve=>{o.media.textTracks=ve,ii.setup.call(o)}),o.embed.on("cuechange",({cues:ve=[]})=>{const he=ve.map(Ae=>y1(Ae.text));ii.updateCues.call(o,he)}),o.embed.on("loaded",()=>{o.embed.getPaused().then(ve=>{Ta.call(o,!ve),ve||Ft.call(o,o.media,"playing")}),Q.element(o.embed.element)&&o.supported.ui&&o.embed.element.setAttribute("tabindex",-1)}),o.embed.on("bufferstart",()=>{Ft.call(o,o.media,"waiting")}),o.embed.on("bufferend",()=>{Ft.call(o,o.media,"playing")}),o.embed.on("play",()=>{Ta.call(o,!0),Ft.call(o,o.media,"playing")}),o.embed.on("pause",()=>{Ta.call(o,!1)}),o.embed.on("timeupdate",ve=>{o.media.seeking=!1,Z=ve.seconds,Ft.call(o,o.media,"timeupdate")}),o.embed.on("progress",ve=>{o.media.buffered=ve.percent,Ft.call(o,o.media,"progress"),parseInt(ve.percent,10)===1&&Ft.call(o,o.media,"canplaythrough"),o.embed.getDuration().then(he=>{he!==o.media.duration&&(o.media.duration=he,Ft.call(o,o.media,"durationchange"))})}),o.embed.on("seeked",()=>{o.media.seeking=!1,Ft.call(o,o.media,"seeked")}),o.embed.on("ended",()=>{o.media.paused=!0,Ft.call(o,o.media,"ended")}),o.embed.on("error",ve=>{o.media.error=ve,Ft.call(o,o.media,"error")}),d.customControls&&setTimeout(()=>ui.build.call(o),0)}};function P1(o){return Q.empty(o)?null:o.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:o}function ka(o){o&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===o&&(this.media.paused=!o,Ft.call(this,this.media,o?"play":"pause"))}function L1(o){return o.noCookie?"https://www.youtube-nocookie.com":window.location.protocol==="http:"?"http://www.youtube.com":void 0}const Ho={setup(){if(Jt(this.elements.wrapper,this.config.classNames.embed,!0),Q.object(window.YT)&&Q.function(window.YT.Player))Ho.ready.call(this);else{const o=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{Q.function(o)&&o(),Ho.ready.call(this)},Xl(this.config.urls.youtube.sdk).catch(d=>{this.debug.warn("YouTube API failed to load",d)})}},getTitle(o){Ha(Rl(this.config.urls.youtube.api,o)).then(d=>{if(Q.object(d)){const{title:a,height:f,width:A}=d;this.config.title=a,ui.setTitle.call(this),this.embed.ratio=Gf(A,f)}js.call(this)}).catch(()=>{js.call(this)})},ready(){const o=this,d=o.config.youtube,a=o.media&&o.media.getAttribute("id");if(!Q.empty(a)&&a.startsWith("youtube-"))return;let f=o.media.getAttribute("src");Q.empty(f)&&(f=o.media.getAttribute(this.config.attributes.embed.id));const A=P1(f),v=Ot("div",{id:m1(o.provider),"data-poster":d.customControls?o.poster:void 0});if(o.media=Zo(v,o.media),d.customControls){const P=q=>`https://i.ytimg.com/vi/${A}/${q}default.jpg`;qo(P("maxres"),121).catch(()=>qo(P("sd"),121)).catch(()=>qo(P("hq"))).then(q=>ui.setPoster.call(o,q.src)).then(q=>{q.includes("maxres")||(o.elements.poster.style.backgroundSize="cover")}).catch(()=>{})}o.embed=new window.YT.Player(o.media,{videoId:A,host:L1(d),playerVars:Pi({},{autoplay:o.config.autoplay?1:0,hl:o.config.hl,controls:o.supported.ui&&d.customControls?0:1,disablekb:1,playsinline:o.config.fullscreen.iosNative?0:1,cc_load_policy:o.captions.active?1:0,cc_lang_pref:o.config.captions.language,widget_referrer:window?window.location.href:null},d),events:{onError(P){if(!o.media.error){const q=P.data,ae={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[q]||"An unknown error occured";o.media.error={code:q,message:ae},Ft.call(o,o.media,"error")}},onPlaybackRateChange(P){const q=P.target;o.media.playbackRate=q.getPlaybackRate(),Ft.call(o,o.media,"ratechange")},onReady(P){if(Q.function(o.media.play))return;const q=P.target;Ho.getTitle.call(o,A),o.media.play=()=>{ka.call(o,!0),q.playVideo()},o.media.pause=()=>{ka.call(o,!1),q.pauseVideo()},o.media.stop=()=>{q.stopVideo()},o.media.duration=q.getDuration(),o.media.paused=!0,o.media.currentTime=0,Object.defineProperty(o.media,"currentTime",{get:()=>Number(q.getCurrentTime()),set(ge){o.paused&&!o.embed.hasPlayed&&o.embed.mute(),o.media.seeking=!0,Ft.call(o,o.media,"seeking"),q.seekTo(ge)}}),Object.defineProperty(o.media,"playbackRate",{get:()=>q.getPlaybackRate(),set(ge){q.setPlaybackRate(ge)}});let{volume:ae}=o.config;Object.defineProperty(o.media,"volume",{get:()=>ae,set(ge){ae=ge,q.setVolume(100*ae),Ft.call(o,o.media,"volumechange")}});let{muted:oe}=o.config;Object.defineProperty(o.media,"muted",{get:()=>oe,set(ge){const Z=Q.boolean(ge)?ge:oe;oe=Z,q[Z?"mute":"unMute"](),q.setVolume(100*ae),Ft.call(o,o.media,"volumechange")}}),Object.defineProperty(o.media,"currentSrc",{get:()=>q.getVideoUrl()}),Object.defineProperty(o.media,"ended",{get:()=>o.currentTime===o.duration});const le=q.getAvailablePlaybackRates();o.options.speed=le.filter(ge=>o.config.speed.options.includes(ge)),o.supported.ui&&d.customControls&&o.media.setAttribute("tabindex",-1),Ft.call(o,o.media,"timeupdate"),Ft.call(o,o.media,"durationchange"),clearInterval(o.timers.buffering),o.timers.buffering=setInterval(()=>{o.media.buffered=q.getVideoLoadedFraction(),(o.media.lastBuffered===null||o.media.lastBuffered<o.media.buffered)&&Ft.call(o,o.media,"progress"),o.media.lastBuffered=o.media.buffered,o.media.buffered===1&&(clearInterval(o.timers.buffering),Ft.call(o,o.media,"canplaythrough"))},200),d.customControls&&setTimeout(()=>ui.build.call(o),50)},onStateChange(P){const q=P.target;switch(clearInterval(o.timers.playing),o.media.seeking&&[1,2].includes(P.data)&&(o.media.seeking=!1,Ft.call(o,o.media,"seeked")),P.data){case-1:Ft.call(o,o.media,"timeupdate"),o.media.buffered=q.getVideoLoadedFraction(),Ft.call(o,o.media,"progress");break;case 0:ka.call(o,!1),o.media.loop?(q.stopVideo(),q.playVideo()):Ft.call(o,o.media,"ended");break;case 1:d.customControls&&!o.config.autoplay&&o.media.paused&&!o.embed.hasPlayed?o.media.pause():(ka.call(o,!0),Ft.call(o,o.media,"playing"),o.timers.playing=setInterval(()=>{Ft.call(o,o.media,"timeupdate")},50),o.media.duration!==q.getDuration()&&(o.media.duration=q.getDuration(),Ft.call(o,o.media,"durationchange")));break;case 2:o.muted||o.embed.unMute(),ka.call(o,!1);break;case 3:Ft.call(o,o.media,"waiting")}Ft.call(o,o.elements.container,"statechange",!1,{code:P.data})}}})}},Qf={setup(){this.media?(Jt(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),Jt(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&Jt(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=Ot("div",{class:this.config.classNames.video}),Uf(this.media,this.elements.wrapper),this.elements.poster=Ot("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?qr.setup.call(this):this.isYouTube?Ho.setup.call(this):this.isVimeo&&Bl.setup.call(this)):this.debug.warn("No media element found!")}};class N1{constructor(d){at(this,"load",()=>{this.enabled&&(Q.object(window.google)&&Q.object(window.google.ima)?this.ready():Xl(this.player.config.urls.googleIMA.sdk).then(()=>{this.ready()}).catch(()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))}))}),at(this,"ready",()=>{var a;this.enabled||((a=this).manager&&a.manager.destroy(),a.elements.displayContainer&&a.elements.displayContainer.destroy(),a.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(()=>{this.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}),at(this,"setupIMA",()=>{this.elements.container=Ot("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,a=>this.onAdsManagerLoaded(a),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,a=>this.onAdError(a),!1),this.requestAds()}),at(this,"requestAds",()=>{const{container:a}=this.player.elements;try{const f=new google.ima.AdsRequest;f.adTagUrl=this.tagUrl,f.linearAdSlotWidth=a.offsetWidth,f.linearAdSlotHeight=a.offsetHeight,f.nonLinearAdSlotWidth=a.offsetWidth,f.nonLinearAdSlotHeight=a.offsetHeight,f.forceNonLinearFullSlot=!1,f.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(f)}catch(f){this.onAdError(f)}}),at(this,"pollCountdown",(a=!1)=>{if(!a)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(()=>{const f=ru(Math.max(this.manager.getRemainingTime(),0)),A=`${Gi.get("advertisement",this.player.config)} - ${f}`;this.elements.container.setAttribute("data-badge-text",A)},100)}),at(this,"onAdsManagerLoaded",a=>{if(!this.enabled)return;const f=new google.ima.AdsRenderingSettings;f.restoreCustomPlaybackStateOnAdBreakComplete=!0,f.enablePreloading=!0,this.manager=a.getAdsManager(this.player,f),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,A=>this.onAdError(A)),Object.keys(google.ima.AdEvent.Type).forEach(A=>{this.manager.addEventListener(google.ima.AdEvent.Type[A],v=>this.onAdEvent(v))}),this.trigger("loaded")}),at(this,"addCuePoints",()=>{Q.empty(this.cuePoints)||this.cuePoints.forEach(a=>{if(a!==0&&a!==-1&&a<this.player.duration){const f=this.player.elements.progress;if(Q.element(f)){const A=100/this.player.duration*a,v=Ot("span",{class:this.player.config.classNames.cues});v.style.left=`${A.toString()}%`,f.appendChild(v)}}})}),at(this,"onAdEvent",a=>{const{container:f}=this.player.elements,A=a.getAd(),v=a.getAdData();switch((P=>{Ft.call(this.player,this.player.media,`ads${P.replace(/_/g,"").toLowerCase()}`)})(a.type),a.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),A.isLinear()||(A.width=f.offsetWidth,A.height=f.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:v.adError&&this.player.debug.warn(`Non-fatal ad error: ${v.adError.getMessage()}`)}}),at(this,"onAdError",a=>{this.cancel(),this.player.debug.warn("Ads error",a)}),at(this,"listeners",()=>{const{container:a}=this.player.elements;let f;this.player.on("canplay",()=>{this.addCuePoints()}),this.player.on("ended",()=>{this.loader.contentComplete()}),this.player.on("timeupdate",()=>{f=this.player.currentTime}),this.player.on("seeked",()=>{const A=this.player.currentTime;Q.empty(this.cuePoints)||this.cuePoints.forEach((v,P)=>{f<v&&v<A&&(this.manager.discardAdBreak(),this.cuePoints.splice(P,1))})}),window.addEventListener("resize",()=>{this.manager&&this.manager.resize(a.offsetWidth,a.offsetHeight,google.ima.ViewMode.NORMAL)})}),at(this,"play",()=>{const{container:a}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then(()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(a.offsetWidth,a.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(f){this.onAdError(f)}}).catch(()=>{})}),at(this,"resumeContent",()=>{this.elements.container.style.zIndex="",this.playing=!1,er(this.player.media.play())}),at(this,"pauseContent",()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}),at(this,"cancel",()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}),at(this,"loadAds",()=>{this.managerPromise.then(()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise(a=>{this.on("loaded",a),this.player.debug.log(this.manager)}),this.initialized=!1,this.requestAds()}).catch(()=>{})}),at(this,"trigger",(a,...f)=>{const A=this.events[a];Q.array(A)&&A.forEach(v=>{Q.function(v)&&v.apply(this,f)})}),at(this,"on",(a,f)=>(Q.array(this.events[a])||(this.events[a]=[]),this.events[a].push(f),this)),at(this,"startSafetyTimer",(a,f)=>{this.player.debug.log(`Safety timer invoked from: ${f}`),this.safetyTimer=setTimeout(()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")},a)}),at(this,"clearSafetyTimer",a=>{Q.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${a}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)}),this.player=d,this.config=d.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((a,f)=>{this.on("loaded",a),this.on("error",f)}),this.load()}get enabled(){const{config:d}=this;return this.player.isHTML5&&this.player.isVideo&&d.enabled&&(!Q.empty(d.publisherId)||Q.url(d.tagUrl))}get tagUrl(){const{config:d}=this;return Q.url(d.tagUrl)?d.tagUrl:`https://go.aniview.com/api/adserver6/vast/?${jf({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:d.publisherId})}`}}function Jf(o=0,d=0,a=255){return Math.min(Math.max(o,d),a)}const O1=o=>{const d=[];return o.split(/\r\n\r\n|\n\n|\r\r/).forEach(a=>{const f={};a.split(/\r\n|\n|\r/).forEach(A=>{if(Q.number(f.startTime)){if(!Q.empty(A.trim())&&Q.empty(f.text)){const v=A.trim().split("#xywh=");[f.text]=v,v[1]&&([f.x,f.y,f.w,f.h]=v[1].split(","))}}else{const v=A.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);v&&(f.startTime=60*Number(v[1]||0)*60+60*Number(v[2])+Number(v[3])+Number(`0.${v[4]}`),f.endTime=60*Number(v[6]||0)*60+60*Number(v[7])+Number(v[8])+Number(`0.${v[9]}`))}}),f.text&&d.push(f)}),d},hf=(o,d)=>{const a={};return o>d.width/d.height?(a.width=d.width,a.height=1/o*d.width):(a.height=d.height,a.width=o*d.height),a};class Fl{constructor(d){at(this,"load",()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.loaded=!0)})}),at(this,"getThumbnails",()=>new Promise(a=>{const{src:f}=this.player.config.previewThumbnails;if(Q.empty(f))throw new Error("Missing previewThumbnails.src config attribute");const A=()=>{this.thumbnails.sort((v,P)=>v.height-P.height),this.player.debug.log("Preview thumbnails",this.thumbnails),a()};if(Q.function(f))f(v=>{this.thumbnails=v,A()});else{const v=(Q.string(f)?[f]:f).map(P=>this.getThumbnail(P));Promise.all(v).then(A)}})),at(this,"getThumbnail",a=>new Promise(f=>{Ha(a).then(A=>{const v={frames:O1(A),height:null,urlPrefix:""};v.frames[0].text.startsWith("/")||v.frames[0].text.startsWith("http://")||v.frames[0].text.startsWith("https://")||(v.urlPrefix=a.substring(0,a.lastIndexOf("/")+1));const P=new Image;P.onload=()=>{v.height=P.naturalHeight,v.width=P.naturalWidth,this.thumbnails.push(v),f()},P.src=v.urlPrefix+v.frames[0].text})})),at(this,"startMove",a=>{if(this.loaded&&Q.event(a)&&["touchmove","mousemove"].includes(a.type)&&this.player.media.duration){if(a.type==="touchmove")this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var f,A;const v=this.player.elements.progress.getBoundingClientRect(),P=100/v.width*(a.pageX-v.left);this.seekTime=this.player.media.duration*(P/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=a.pageX,this.elements.thumb.time.innerText=ru(this.seekTime);const q=(f=this.player.config.markers)===null||f===void 0||(A=f.points)===null||A===void 0?void 0:A.find(({time:ae})=>ae===Math.round(this.seekTime));q&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${q.label}<br>`)}this.showImageAtCurrentTime()}}),at(this,"endMove",()=>{this.toggleThumbContainer(!1,!0)}),at(this,"startScrubbing",a=>{(Q.nullOrUndefined(a.button)||a.button===!1||a.button===0)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}),at(this,"endScrubbing",()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):Yl.call(this.player,this.player.media,"timeupdate",()=>{this.mouseDown||this.toggleScrubbingContainer(!1)})}),at(this,"listeners",()=>{this.player.on("play",()=>{this.toggleThumbContainer(!1,!0)}),this.player.on("seeked",()=>{this.toggleThumbContainer(!1)}),this.player.on("timeupdate",()=>{this.lastTime=this.player.media.currentTime})}),at(this,"render",()=>{this.elements.thumb.container=Ot("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=Ot("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const a=Ot("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=Ot("span",{},"00:00"),a.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(a),Q.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=Ot("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}),at(this,"destroy",()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}),at(this,"showImageAtCurrentTime",()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const a=this.thumbnails[0].frames.findIndex(v=>this.seekTime>=v.startTime&&this.seekTime<=v.endTime),f=a>=0;let A=0;this.mouseDown||this.toggleThumbContainer(f),f&&(this.thumbnails.forEach((v,P)=>{this.loadedImages.includes(v.frames[a].text)&&(A=P)}),a!==this.showingThumb&&(this.showingThumb=a,this.loadImage(A)))}),at(this,"loadImage",(a=0)=>{const f=this.showingThumb,A=this.thumbnails[a],{urlPrefix:v}=A,P=A.frames[f],q=A.frames[f].text,ae=v+q;if(this.currentImageElement&&this.currentImageElement.dataset.filename===q)this.showImage(this.currentImageElement,P,a,f,q,!1),this.currentImageElement.dataset.index=f,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const oe=new Image;oe.src=ae,oe.dataset.index=f,oe.dataset.filename=q,this.showingThumbFilename=q,this.player.debug.log(`Loading image: ${ae}`),oe.onload=()=>this.showImage(oe,P,a,f,q,!0),this.loadingImage=oe,this.removeOldImages(oe)}}),at(this,"showImage",(a,f,A,v,P,q=!0)=>{this.player.debug.log(`Showing thumb: ${P}. num: ${v}. qual: ${A}. newimg: ${q}`),this.setImageSizeAndOffset(a,f),q&&(this.currentImageContainer.appendChild(a),this.currentImageElement=a,this.loadedImages.includes(P)||this.loadedImages.push(P)),this.preloadNearby(v,!0).then(this.preloadNearby(v,!1)).then(this.getHigherQuality(A,a,f,P))}),at(this,"removeOldImages",a=>{Array.from(this.currentImageContainer.children).forEach(f=>{if(f.tagName.toLowerCase()!=="img")return;const A=this.usingSprites?500:1e3;if(f.dataset.index!==a.dataset.index&&!f.dataset.deleting){f.dataset.deleting=!0;const{currentImageContainer:v}=this;setTimeout(()=>{v.removeChild(f),this.player.debug.log(`Removing thumb: ${f.dataset.filename}`)},A)}})}),at(this,"preloadNearby",(a,f=!0)=>new Promise(A=>{setTimeout(()=>{const v=this.thumbnails[0].frames[a].text;if(this.showingThumbFilename===v){let P;P=f?this.thumbnails[0].frames.slice(a):this.thumbnails[0].frames.slice(0,a).reverse();let q=!1;P.forEach(ae=>{const oe=ae.text;if(oe!==v&&!this.loadedImages.includes(oe)){q=!0,this.player.debug.log(`Preloading thumb filename: ${oe}`);const{urlPrefix:le}=this.thumbnails[0],ge=le+oe,Z=new Image;Z.src=ge,Z.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${oe}`),this.loadedImages.includes(oe)||this.loadedImages.push(oe),A()}}}),q||A()}},300)})),at(this,"getHigherQuality",(a,f,A,v)=>{if(a<this.thumbnails.length-1){let P=f.naturalHeight;this.usingSprites&&(P=A.h),P<this.thumbContainerHeight&&setTimeout(()=>{this.showingThumbFilename===v&&(this.player.debug.log(`Showing higher quality thumb for: ${v}`),this.loadImage(a+1))},300)}}),at(this,"toggleThumbContainer",(a=!1,f=!1)=>{const A=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(A,a),!a&&f&&(this.showingThumb=null,this.showingThumbFilename=null)}),at(this,"toggleScrubbingContainer",(a=!1)=>{const f=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(f,a),a||(this.showingThumb=null,this.showingThumbFilename=null)}),at(this,"determineContainerAutoSizing",()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}),at(this,"setThumbContainerSizeAndPos",()=>{const{imageContainer:a}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(a.clientHeight>20&&a.clientWidth<20){const f=Math.floor(a.clientHeight*this.thumbAspectRatio);a.style.width=`${f}px`}else if(a.clientHeight<20&&a.clientWidth>20){const f=Math.floor(a.clientWidth/this.thumbAspectRatio);a.style.height=`${f}px`}}else{const f=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);a.style.height=`${this.thumbContainerHeight}px`,a.style.width=`${f}px`}this.setThumbContainerPos()}),at(this,"setThumbContainerPos",()=>{const a=this.player.elements.progress.getBoundingClientRect(),f=this.player.elements.container.getBoundingClientRect(),{container:A}=this.elements.thumb,v=f.left-a.left+10,P=f.right-a.left-A.clientWidth-10,q=this.mousePosX-a.left-A.clientWidth/2,ae=Jf(q,v,P);A.style.left=`${ae}px`,A.style.setProperty("--preview-arrow-offset",q-ae+"px")}),at(this,"setScrubbingContainerSize",()=>{const{width:a,height:f}=hf(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${a}px`,this.elements.scrubbing.container.style.height=`${f}px`}),at(this,"setImageSizeAndOffset",(a,f)=>{if(!this.usingSprites)return;const A=this.thumbContainerHeight/f.h;a.style.height=a.naturalHeight*A+"px",a.style.width=a.naturalWidth*A+"px",a.style.left=`-${f.x*A}px`,a.style.top=`-${f.y*A}px`}),this.player=d,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:d}=hf(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return d}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(d){this.mouseDown?this.currentScrubbingImageElement=d:this.currentThumbnailImageElement=d}}const Dl={insertElements(o,d){Q.string(d)?af(o,this.media,{src:d}):Q.array(d)&&d.forEach(a=>{af(o,this.media,a)})},change(o){Vf(o,"sources.length")?(qr.cancelRequests.call(this),this.destroy.call(this,()=>{this.options.quality=[],Cr(this.media),this.media=null,Q.element(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:d,type:a}=o,[{provider:f=Ur.html5,src:A}]=d,v=f==="html5"?a:"div",P=f==="html5"?{}:{src:A};Object.assign(this,{provider:f,type:a,supported:Ei.check(a,f,this.config.playsinline),media:Ot(v,P)}),this.elements.container.appendChild(this.media),Q.boolean(o.autoplay)&&(this.config.autoplay=o.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),Q.empty(o.poster)||(this.poster=o.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),ui.addStyleHook.call(this),this.isHTML5&&Dl.insertElements.call(this,"source",d),this.config.title=o.title,Qf.setup.call(this),this.isHTML5&&Object.keys(o).includes("tracks")&&Dl.insertElements.call(this,"track",o.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&ui.build.call(this),this.isHTML5&&this.media.load(),Q.empty(o.previewThumbnails)||(Object.assign(this.config.previewThumbnails,o.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Fl(this))),this.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};class vs{constructor(d,a){if(at(this,"play",()=>Q.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(()=>this.ads.play()).catch(()=>er(this.media.play())),this.media.play()):null),at(this,"pause",()=>this.playing&&Q.function(this.media.pause)?this.media.pause():null),at(this,"togglePlay",q=>(Q.boolean(q)?q:!this.playing)?this.play():this.pause()),at(this,"stop",()=>{this.isHTML5?(this.pause(),this.restart()):Q.function(this.media.stop)&&this.media.stop()}),at(this,"restart",()=>{this.currentTime=0}),at(this,"rewind",q=>{this.currentTime-=Q.number(q)?q:this.config.seekTime}),at(this,"forward",q=>{this.currentTime+=Q.number(q)?q:this.config.seekTime}),at(this,"increaseVolume",q=>{const ae=this.media.muted?0:this.volume;this.volume=ae+(Q.number(q)?q:0)}),at(this,"decreaseVolume",q=>{this.increaseVolume(-q)}),at(this,"airplay",()=>{Ei.airplay&&this.media.webkitShowPlaybackTargetPicker()}),at(this,"toggleControls",q=>{if(this.supported.ui&&!this.isAudio){const ae=Yo(this.elements.container,this.config.classNames.hideControls),oe=q===void 0?void 0:!q,le=Jt(this.elements.container,this.config.classNames.hideControls,oe);if(le&&Q.array(this.config.controls)&&this.config.controls.includes("settings")&&!Q.empty(this.config.settings)&&rt.toggleMenu.call(this,!1),le!==ae){const ge=le?"controlshidden":"controlsshown";Ft.call(this,this.media,ge)}return!le}return!1}),at(this,"on",(q,ae)=>{ei.call(this,this.elements.container,q,ae)}),at(this,"once",(q,ae)=>{Yl.call(this,this.elements.container,q,ae)}),at(this,"off",(q,ae)=>{nu(this.elements.container,q,ae)}),at(this,"destroy",(q,ae=!1)=>{if(!this.ready)return;const oe=()=>{document.body.style.overflow="",this.embed=null,ae?(Object.keys(this.elements).length&&(Cr(this.elements.buttons.play),Cr(this.elements.captions),Cr(this.elements.controls),Cr(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),Q.function(q)&&q()):(d1.call(this),qr.cancelRequests.call(this),Zo(this.elements.original,this.elements.container),Ft.call(this,this.elements.original,"destroyed",!0),Q.function(q)&&q.call(this.elements.original),this.ready=!1,setTimeout(()=>{this.elements=null,this.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(ui.toggleNativeControls.call(this,!0),oe()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),this.embed!==null&&Q.function(this.embed.destroy)&&this.embed.destroy(),oe()):this.isVimeo&&(this.embed!==null&&this.embed.unload().then(oe),setTimeout(oe,200))}),at(this,"supports",q=>Ei.mime.call(this,q)),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=Ei.touch,this.media=d,Q.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||Q.nodeList(this.media)||Q.array(this.media))&&(this.media=this.media[0]),this.config=Pi({},Xf,vs.defaults,a||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch(q){return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new S1(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",Ei),Q.nullOrUndefined(this.media)||!Q.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!Ei.check().api)return void this.debug.error("Setup failed: no support");const f=this.media.cloneNode(!0);f.autoplay=!1,this.elements.original=f;const A=this.media.tagName.toLowerCase();let v=null,P=null;switch(A){case"div":if(v=this.media.querySelector("iframe"),Q.element(v)){if(P=Yf(v.getAttribute("src")),this.provider=C1(P.toString()),this.elements.container=this.media,this.media=v,this.elements.container.className="",P.search.length){const q=["1","true"];q.includes(P.searchParams.get("autoplay"))&&(this.config.autoplay=!0),q.includes(P.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=q.includes(P.searchParams.get("playsinline")),this.config.youtube.hl=P.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(Q.empty(this.provider)||!Object.values(Ur).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=Al.video;break;case"video":case"audio":this.type=A,this.provider=Ur.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=Ei.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new E1(this),this.storage=new Na(this),this.media.plyr=this,Q.element(this.elements.container)||(this.elements.container=Ot("div",{tabindex:0}),Uf(this.media,this.elements.container)),ui.migrateStyles.call(this),ui.addStyleHook.call(this),Qf.setup.call(this),this.config.debug&&ei.call(this,this.elements.container,this.config.events.join(" "),q=>{this.debug.log(`event: ${q.type}`)}),this.fullscreen=new Jn(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&ui.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new N1(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",()=>er(this.play())),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Fl(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===Ur.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===Ur.youtube}get isVimeo(){return this.provider===Ur.vimeo}get isVideo(){return this.type===Al.video}get isAudio(){return this.type===Al.audio}get playing(){return Boolean(this.ready&&!this.paused&&!this.ended)}get paused(){return Boolean(this.media.paused)}get stopped(){return Boolean(this.paused&&this.currentTime===0)}get ended(){return Boolean(this.media.ended)}set currentTime(d){if(!this.duration)return;const a=Q.number(d)&&d>0;this.media.currentTime=a?Math.min(d,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:d}=this.media;return Q.number(d)?d:d&&d.length&&this.duration>0?d.end(0)/this.duration:0}get seeking(){return Boolean(this.media.seeking)}get duration(){const d=parseFloat(this.config.duration),a=(this.media||{}).duration,f=Q.number(a)&&a!==1/0?a:0;return d||f}set volume(d){let a=d;Q.string(a)&&(a=Number(a)),Q.number(a)||(a=this.storage.get("volume")),Q.number(a)||({volume:a}=this.config),a>1&&(a=1),a<0&&(a=0),this.config.volume=a,this.media.volume=a,!Q.empty(d)&&this.muted&&a>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(d){let a=d;Q.boolean(a)||(a=this.storage.get("muted")),Q.boolean(a)||(a=this.config.muted),this.config.muted=a,this.media.muted=a}get muted(){return Boolean(this.media.muted)}get hasAudio(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}set speed(d){let a=null;Q.number(d)&&(a=d),Q.number(a)||(a=this.storage.get("speed")),Q.number(a)||(a=this.config.speed.selected);const{minimumSpeed:f,maximumSpeed:A}=this;a=Jf(a,f,A),this.config.speed.selected=a,setTimeout(()=>{this.media&&(this.media.playbackRate=a)},0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(d){const a=this.config.quality,f=this.options.quality;if(!f.length)return;let A=[!Q.empty(d)&&Number(d),this.storage.get("quality"),a.selected,a.default].find(Q.number),v=!0;if(!f.includes(A)){const P=qf(f,A);this.debug.warn(`Unsupported quality option: ${A}, using ${P} instead`),A=P,v=!1}a.selected=A,this.media.quality=A,v&&this.storage.set({quality:A})}get quality(){return this.media.quality}set loop(d){const a=Q.boolean(d)?d:this.config.loop.active;this.config.loop.active=a,this.media.loop=a}get loop(){return Boolean(this.media.loop)}set source(d){Dl.change.call(this,d)}get source(){return this.media.currentSrc}get download(){const{download:d}=this.config.urls;return Q.url(d)?d:this.source}set download(d){Q.url(d)&&(this.config.urls.download=d,rt.setDownloadUrl.call(this))}set poster(d){this.isVideo?ui.setPoster.call(this,d,!1).catch(()=>{}):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const d=jo(jl.call(this));return Q.array(d)?d.join(":"):d}set ratio(d){this.isVideo?Q.string(d)&&Wf(d)?(this.config.ratio=jo(d),js.call(this)):this.debug.error(`Invalid aspect ratio specified (${d})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(d){this.config.autoplay=Q.boolean(d)?d:this.config.autoplay}get autoplay(){return Boolean(this.config.autoplay)}toggleCaptions(d){ii.toggle.call(this,d,!1)}set currentTrack(d){ii.set.call(this,d,!1),ii.setup.call(this)}get currentTrack(){const{toggled:d,currentTrack:a}=this.captions;return d?a:-1}set language(d){ii.setLanguage.call(this,d,!1)}get language(){return(ii.getCurrentTrack.call(this)||{}).language}set pip(d){if(!Ei.pip)return;const a=Q.boolean(d)?d:!this.pip;Q.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(a?El.active:El.inactive),Q.function(this.media.requestPictureInPicture)&&(!this.pip&&a?this.media.requestPictureInPicture():this.pip&&!a&&document.exitPictureInPicture())}get pip(){return Ei.pip?Q.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===El.active:null}setPreviewThumbnails(d){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,d),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Fl(this))}static supported(d,a,f){return Ei.check(d,a,f)}static loadSprite(d,a){return Kf(d,a)}static setup(d,a={}){let f=null;return Q.string(d)?f=Array.from(document.querySelectorAll(d)):Q.nodeList(d)?f=Array.from(d):Q.array(d)&&(f=d.filter(Q.element)),Q.empty(f)?null:f.map(A=>new vs(A,a))}}vs.defaults=l1(Xf);function cf(o,d){for(var a=0;a<d.length;a++){var f=d[a];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(o,f.key,f)}}function M1(o,d,a){return d&&cf(o.prototype,d),a&&cf(o,a),Object.defineProperty(o,"prototype",{writable:!1}),o}/*!
 * Splide.js
 * Version  : 4.1.4
 * License  : MIT
 * Copyright: 2022 Naotoshi Fujita
 */var ff="(prefers-reduced-motion: reduce)",Gs=1,R1=2,Xs=3,Js=4,Wa=5,Wo=6,Xo=7,B1={CREATED:Gs,MOUNTED:R1,IDLE:Xs,MOVING:Js,SCROLLING:Wa,DRAGGING:Wo,DESTROYED:Xo};function kr(o){o.length=0}function Kr(o,d,a){return Array.prototype.slice.call(o,d,a)}function pi(o){return o.bind.apply(o,[null].concat(Kr(arguments,1)))}var ed=setTimeout,zl=function(){};function df(o){return requestAnimationFrame(o)}function su(o,d){return typeof d===o}function Oa(o){return!Jl(o)&&su("object",o)}var Ql=Array.isArray,td=pi(su,"function"),Wr=pi(su,"string"),Ga=pi(su,"undefined");function Jl(o){return o===null}function id(o){try{return o instanceof(o.ownerDocument.defaultView||window).HTMLElement}catch(d){return!1}}function $a(o){return Ql(o)?o:[o]}function Nn(o,d){$a(o).forEach(d)}function eh(o,d){return o.indexOf(d)>-1}function Go(o,d){return o.push.apply(o,$a(d)),o}function Sr(o,d,a){o&&Nn(d,function(f){f&&o.classList[a?"add":"remove"](f)})}function tr(o,d){Sr(o,Wr(d)?d.split(" "):d,!0)}function Ka(o,d){Nn(d,o.appendChild.bind(o))}function th(o,d){Nn(o,function(a){var f=(d||a).parentNode;f&&f.insertBefore(a,d)})}function Ma(o,d){return id(o)&&(o.msMatchesSelector||o.matches).call(o,d)}function nd(o,d){var a=o?Kr(o.children):[];return d?a.filter(function(f){return Ma(f,d)}):a}function Za(o,d){return d?nd(o,d)[0]:o.firstElementChild}var Ra=Object.keys;function _s(o,d,a){return o&&(a?Ra(o).reverse():Ra(o)).forEach(function(f){f!=="__proto__"&&d(o[f],f)}),o}function Ba(o){return Kr(arguments,1).forEach(function(d){_s(d,function(a,f){o[f]=d[f]})}),o}function Hr(o){return Kr(arguments,1).forEach(function(d){_s(d,function(a,f){Ql(a)?o[f]=a.slice():Oa(a)?o[f]=Hr({},Oa(o[f])?o[f]:{},a):o[f]=a})}),o}function pf(o,d){Nn(d||Ra(o),function(a){delete o[a]})}function ir(o,d){Nn(o,function(a){Nn(d,function(f){a&&a.removeAttribute(f)})})}function qt(o,d,a){Oa(d)?_s(d,function(f,A){qt(o,A,f)}):Nn(o,function(f){Jl(a)||a===""?ir(f,d):f.setAttribute(d,String(a))})}function Zs(o,d,a){var f=document.createElement(o);return d&&(Wr(d)?tr(f,d):qt(f,d)),a&&Ka(a,f),f}function zn(o,d,a){if(Ga(a))return getComputedStyle(o)[d];Jl(a)||(o.style[d]=""+a)}function Fa(o,d){zn(o,"display",d)}function rd(o){o.setActive&&o.setActive()||o.focus({preventScroll:!0})}function Vn(o,d){return o.getAttribute(d)}function gf(o,d){return o&&o.classList.contains(d)}function Pn(o){return o.getBoundingClientRect()}function bs(o){Nn(o,function(d){d&&d.parentNode&&d.parentNode.removeChild(d)})}function sd(o){return Za(new DOMParser().parseFromString(o,"text/html").body)}function xr(o,d){o.preventDefault(),d&&(o.stopPropagation(),o.stopImmediatePropagation())}function ad(o,d){return o&&o.querySelector(d)}function ih(o,d){return d?Kr(o.querySelectorAll(d)):[]}function Er(o,d){Sr(o,d,!1)}function Vl(o){return o.timeStamp}function gs(o){return Wr(o)?o:o?o+"px":""}var Ya="splide",nh="data-"+Ya;function Pa(o,d){if(!o)throw new Error("["+Ya+"] "+(d||""))}var Gr=Math.min,Qo=Math.max,Jo=Math.floor,Da=Math.ceil,pn=Math.abs;function od(o,d,a){return pn(o-d)<a}function $o(o,d,a,f){var A=Gr(d,a),v=Qo(d,a);return f?A<o&&o<v:A<=o&&o<=v}function Hs(o,d,a){var f=Gr(d,a),A=Qo(d,a);return Gr(Qo(f,o),A)}function Ul(o){return+(o>0)-+(o<0)}function ql(o,d){return Nn(d,function(a){o=o.replace("%s",""+a)}),o}function rh(o){return o<10?"0"+o:""+o}var mf={};function F1(o){return""+o+rh(mf[o]=(mf[o]||0)+1)}function ud(){var o=[];function d(P,q,ae,oe){A(P,q,function(le,ge,Z){var D="addEventListener"in le,X=D?le.removeEventListener.bind(le,ge,ae,oe):le.removeListener.bind(le,ae);D?le.addEventListener(ge,ae,oe):le.addListener(ae),o.push([le,ge,Z,ae,X])})}function a(P,q,ae){A(P,q,function(oe,le,ge){o=o.filter(function(Z){return Z[0]===oe&&Z[1]===le&&Z[2]===ge&&(!ae||Z[3]===ae)?(Z[4](),!1):!0})})}function f(P,q,ae){var oe,le=!0;return typeof CustomEvent=="function"?oe=new CustomEvent(q,{bubbles:le,detail:ae}):(oe=document.createEvent("CustomEvent"),oe.initCustomEvent(q,le,!1,ae)),P.dispatchEvent(oe),oe}function A(P,q,ae){Nn(P,function(oe){oe&&Nn(q,function(le){le.split(" ").forEach(function(ge){var Z=ge.split(".");ae(oe,Z[0],Z[1])})})})}function v(){o.forEach(function(P){P[4]()}),kr(o)}return{bind:d,unbind:a,dispatch:f,destroy:v}}var ws="mounted",vf="ready",$r="move",ja="moved",ld="click",D1="active",z1="inactive",V1="visible",U1="hidden",Vi="refresh",gn="updated",za="resize",sh="resized",q1="drag",H1="dragging",W1="dragged",ah="scroll",ea="scrolled",G1="overflow",hd="destroy",$1="arrows:mounted",K1="arrows:updated",Z1="pagination:mounted",Y1="pagination:updated",cd="navigation:mounted",fd="autoplay:play",j1="autoplay:playing",dd="autoplay:pause",pd="lazyload:loaded",gd="sk",md="sh",eu="ei";function yi(o){var d=o?o.event.bus:document.createDocumentFragment(),a=ud();function f(v,P){a.bind(d,$a(v).join(" "),function(q){P.apply(P,Ql(q.detail)?q.detail:[])})}function A(v){a.dispatch(d,v,Kr(arguments,1))}return o&&o.event.on(hd,a.destroy),Ba(a,{bus:d,on:f,off:pi(a.unbind,d),emit:A})}function au(o,d,a,f){var A=Date.now,v,P=0,q,ae=!0,oe=0;function le(){if(!ae){if(P=o?Gr((A()-v)/o,1):1,a&&a(P),P>=1&&(d(),v=A(),f&&++oe>=f))return Z();q=df(le)}}function ge(fe){fe||X(),v=A()-(fe?P*o:0),ae=!1,q=df(le)}function Z(){ae=!0}function D(){v=A(),P=0,a&&a(P)}function X(){q&&cancelAnimationFrame(q),P=0,q=0,ae=!0}function K(fe){o=fe}function ie(){return ae}return{start:ge,rewind:D,pause:Z,cancel:X,set:K,isPaused:ie}}function X1(o){var d=o;function a(A){d=A}function f(A){return eh($a(A),d)}return{set:a,is:f}}function Q1(o,d){var a=au(d||0,o,null,1);return function(){a.isPaused()&&a.start()}}function J1(o,d,a){var f=o.state,A=a.breakpoints||{},v=a.reducedMotion||{},P=ud(),q=[];function ae(){var X=a.mediaQuery==="min";Ra(A).sort(function(K,ie){return X?+K-+ie:+ie-+K}).forEach(function(K){le(A[K],"("+(X?"min":"max")+"-width:"+K+"px)")}),le(v,ff),ge()}function oe(X){X&&P.destroy()}function le(X,K){var ie=matchMedia(K);P.bind(ie,"change",ge),q.push([X,ie])}function ge(){var X=f.is(Xo),K=a.direction,ie=q.reduce(function(fe,ve){return Hr(fe,ve[1].matches?ve[0]:{})},{});pf(a),D(ie),a.destroy?o.destroy(a.destroy==="completely"):X?(oe(!0),o.mount()):K!==a.direction&&o.refresh()}function Z(X){matchMedia(ff).matches&&(X?Hr(a,v):pf(a,Ra(v)))}function D(X,K,ie){Hr(a,X),K&&Hr(Object.getPrototypeOf(a),X),(ie||!f.is(Gs))&&o.emit(gn,a)}return{setup:ae,destroy:oe,reduce:Z,set:D}}var ou="Arrow",uu=ou+"Left",lu=ou+"Right",vd=ou+"Up",_d=ou+"Down",_f="rtl",hu="ttb",kl={width:["height"],left:["top","right"],right:["bottom","left"],x:["y"],X:["Y"],Y:["X"],ArrowLeft:[vd,lu],ArrowRight:[_d,uu]};function eb(o,d,a){function f(v,P,q){q=q||a.direction;var ae=q===_f&&!P?1:q===hu?0:-1;return kl[v]&&kl[v][ae]||v.replace(/width|left|right/i,function(oe,le){var ge=kl[oe.toLowerCase()][ae]||oe;return le>0?ge.charAt(0).toUpperCase()+ge.slice(1):ge})}function A(v){return v*(a.direction===_f?1:-1)}return{resolve:f,orient:A}}var Ar="role",Ys="tabindex",tb="disabled",Un="aria-",Xa=Un+"controls",bd=Un+"current",bf=Un+"selected",Ln=Un+"label",oh=Un+"labelledby",yd=Un+"hidden",uh=Un+"orientation",Va=Un+"roledescription",yf=Un+"live",wf=Un+"busy",xf=Un+"atomic",lh=[Ar,Ys,tb,Xa,bd,Ln,oh,yd,uh,Va],nr=Ya+"__",Zr="is-",Il=Ya,Cf=nr+"track",ib=nr+"list",cu=nr+"slide",wd=cu+"--clone",nb=cu+"__container",hh=nr+"arrows",fu=nr+"arrow",xd=fu+"--prev",Cd=fu+"--next",du=nr+"pagination",Sd=du+"__page",rb=nr+"progress",sb=rb+"__bar",ab=nr+"toggle",ob=nr+"spinner",ub=nr+"sr",lb=Zr+"initialized",ys=Zr+"active",Ed=Zr+"prev",Ad=Zr+"next",Hl=Zr+"visible",Wl=Zr+"loading",Td=Zr+"focus-in",kd=Zr+"overflow",hb=[ys,Hl,Ed,Ad,Wl,Td,kd],cb={slide:cu,clone:wd,arrows:hh,arrow:fu,prev:xd,next:Cd,pagination:du,page:Sd,spinner:ob};function fb(o,d){if(td(o.closest))return o.closest(d);for(var a=o;a&&a.nodeType===1&&!Ma(a,d);)a=a.parentElement;return a}var db=5,Sf=200,Id="touchstart mousedown",Pl="touchmove mousemove",Ll="touchend touchcancel mouseup click";function pb(o,d,a){var f=yi(o),A=f.on,v=f.bind,P=o.root,q=a.i18n,ae={},oe=[],le=[],ge=[],Z,D,X;function K(){he(),Ae(),ve()}function ie(){A(Vi,fe),A(Vi,K),A(gn,ve),v(document,Id+" keydown",function(Pe){X=Pe.type==="keydown"},{capture:!0}),v(P,"focusin",function(){Sr(P,Td,!!X)})}function fe(Pe){var Je=lh.concat("style");kr(oe),Er(P,le),Er(Z,ge),ir([Z,D],Je),ir(P,Pe?Je:["style",Va])}function ve(){Er(P,le),Er(Z,ge),le=O(Il),ge=O(Cf),tr(P,le),tr(Z,ge),qt(P,Ln,a.label),qt(P,oh,a.labelledby)}function he(){Z=Ee("."+Cf),D=Za(Z,"."+ib),Pa(Z&&D,"A track/list element is missing."),Go(oe,nd(D,"."+cu+":not(."+wd+")")),_s({arrows:hh,pagination:du,prev:xd,next:Cd,bar:sb,toggle:ab},function(Pe,Je){ae[Je]=Ee("."+Pe)}),Ba(ae,{root:P,track:Z,list:D,slides:oe})}function Ae(){var Pe=P.id||F1(Ya),Je=a.role;P.id=Pe,Z.id=Z.id||Pe+"-track",D.id=D.id||Pe+"-list",!Vn(P,Ar)&&P.tagName!=="SECTION"&&Je&&qt(P,Ar,Je),qt(P,Va,q.carousel),qt(D,Ar,"presentation")}function Ee(Pe){var Je=ad(P,Pe);return Je&&fb(Je,"."+Il)===P?Je:void 0}function O(Pe){return[Pe+"--"+a.type,Pe+"--"+a.direction,a.drag&&Pe+"--draggable",a.isNavigation&&Pe+"--nav",Pe===Il&&ys]}return Ba(ae,{setup:K,mount:ie,destroy:fe})}var Qs="slide",ta="loop",Qa="fade";function gb(o,d,a,f){var A=yi(o),v=A.on,P=A.emit,q=A.bind,ae=o.Components,oe=o.root,le=o.options,ge=le.isNavigation,Z=le.updateOnMove,D=le.i18n,X=le.pagination,K=le.slideFocus,ie=ae.Direction.resolve,fe=Vn(f,"style"),ve=Vn(f,Ln),he=a>-1,Ae=Za(f,"."+nb),Ee;function O(){he||(f.id=oe.id+"-slide"+rh(d+1),qt(f,Ar,X?"tabpanel":"group"),qt(f,Va,D.slide),qt(f,Ln,ve||ql(D.slideLabel,[d+1,o.length]))),Pe()}function Pe(){q(f,"click",pi(P,ld,Me)),q(f,"keydown",pi(P,gd,Me)),v([ja,md,ea],We),v(cd,Xe),Z&&v($r,ht)}function Je(){Ee=!0,A.destroy(),Er(f,hb),ir(f,lh),qt(f,"style",fe),qt(f,Ln,ve||"")}function Xe(){var xe=o.splides.map(function(Ie){var Ke=Ie.splide.Components.Slides.getAt(d);return Ke?Ke.slide.id:""}).join(" ");qt(f,Ln,ql(D.slideX,(he?a:d)+1)),qt(f,Xa,xe),qt(f,Ar,K?"button":""),K&&ir(f,Va)}function ht(){Ee||We()}function We(){if(!Ee){var xe=o.index;Ge(),Qe(),Sr(f,Ed,d===xe-1),Sr(f,Ad,d===xe+1)}}function Ge(){var xe=xt();xe!==gf(f,ys)&&(Sr(f,ys,xe),qt(f,bd,ge&&xe||""),P(xe?D1:z1,Me))}function Qe(){var xe=Oe(),Ie=!xe&&(!xt()||he);if(o.state.is([Js,Wa])||qt(f,yd,Ie||""),qt(ih(f,le.focusableNodes||""),Ys,Ie?-1:""),K&&qt(f,Ys,Ie?-1:0),xe!==gf(f,Hl)&&(Sr(f,Hl,xe),P(xe?V1:U1,Me)),!xe&&document.activeElement===f){var Ke=ae.Slides.getAt(o.index);Ke&&rd(Ke.slide)}}function Ve(xe,Ie,Ke){zn(Ke&&Ae||f,xe,Ie)}function xt(){var xe=o.index;return xe===d||le.cloneStatus&&xe===a}function Oe(){if(o.is(Qa))return xt();var xe=Pn(ae.Elements.track),Ie=Pn(f),Ke=ie("left",!0),ct=ie("right",!0);return Jo(xe[Ke])<=Da(Ie[Ke])&&Jo(Ie[ct])<=Da(xe[ct])}function yt(xe,Ie){var Ke=pn(xe-d);return!he&&(le.rewind||o.is(ta))&&(Ke=Gr(Ke,o.length-Ke)),Ke<=Ie}var Me={index:d,slideIndex:a,slide:f,container:Ae,isClone:he,mount:O,destroy:Je,update:We,style:Ve,isWithin:yt};return Me}function mb(o,d,a){var f=yi(o),A=f.on,v=f.emit,P=f.bind,q=d.Elements,ae=q.slides,oe=q.list,le=[];function ge(){Z(),A(Vi,D),A(Vi,Z)}function Z(){ae.forEach(function(We,Ge){K(We,Ge,-1)})}function D(){Ee(function(We){We.destroy()}),kr(le)}function X(){Ee(function(We){We.update()})}function K(We,Ge,Qe){var Ve=gb(o,Ge,Qe,We);Ve.mount(),le.push(Ve),le.sort(function(xt,Oe){return xt.index-Oe.index})}function ie(We){return We?O(function(Ge){return!Ge.isClone}):le}function fe(We){var Ge=d.Controller,Qe=Ge.toIndex(We),Ve=Ge.hasFocus()?1:a.perPage;return O(function(xt){return $o(xt.index,Qe,Qe+Ve-1)})}function ve(We){return O(We)[0]}function he(We,Ge){Nn(We,function(Qe){if(Wr(Qe)&&(Qe=sd(Qe)),id(Qe)){var Ve=ae[Ge];Ve?th(Qe,Ve):Ka(oe,Qe),tr(Qe,a.classes.slide),Je(Qe,pi(v,za))}}),v(Vi)}function Ae(We){bs(O(We).map(function(Ge){return Ge.slide})),v(Vi)}function Ee(We,Ge){ie(Ge).forEach(We)}function O(We){return le.filter(td(We)?We:function(Ge){return Wr(We)?Ma(Ge.slide,We):eh($a(We),Ge.index)})}function Pe(We,Ge,Qe){Ee(function(Ve){Ve.style(We,Ge,Qe)})}function Je(We,Ge){var Qe=ih(We,"img"),Ve=Qe.length;Ve?Qe.forEach(function(xt){P(xt,"load error",function(){--Ve||Ge()})}):Ge()}function Xe(We){return We?ae.length:le.length}function ht(){return le.length>a.perPage}return{mount:ge,destroy:D,update:X,register:K,get:ie,getIn:fe,getAt:ve,add:he,remove:Ae,forEach:Ee,filter:O,style:Pe,getLength:Xe,isEnough:ht}}function vb(o,d,a){var f=yi(o),A=f.on,v=f.bind,P=f.emit,q=d.Slides,ae=d.Direction.resolve,oe=d.Elements,le=oe.root,ge=oe.track,Z=oe.list,D=q.getAt,X=q.style,K,ie,fe;function ve(){he(),v(window,"resize load",Q1(pi(P,za))),A([gn,Vi],he),A(za,Ae)}function he(){K=a.direction===hu,zn(le,"maxWidth",gs(a.width)),zn(ge,ae("paddingLeft"),Ee(!1)),zn(ge,ae("paddingRight"),Ee(!0)),Ae(!0)}function Ae(Me){var xe=Pn(le);(Me||ie.width!==xe.width||ie.height!==xe.height)&&(zn(ge,"height",O()),X(ae("marginRight"),gs(a.gap)),X("width",Je()),X("height",Xe(),!0),ie=xe,P(sh),fe!==(fe=yt())&&(Sr(le,kd,fe),P(G1,fe)))}function Ee(Me){var xe=a.padding,Ie=ae(Me?"right":"left");return xe&&gs(xe[Ie]||(Oa(xe)?0:xe))||"0px"}function O(){var Me="";return K&&(Me=Pe(),Pa(Me,"height or heightRatio is missing."),Me="calc("+Me+" - "+Ee(!1)+" - "+Ee(!0)+")"),Me}function Pe(){return gs(a.height||Pn(Z).width*a.heightRatio)}function Je(){return a.autoWidth?null:gs(a.fixedWidth)||(K?"":ht())}function Xe(){return gs(a.fixedHeight)||(K?a.autoHeight?null:ht():Pe())}function ht(){var Me=gs(a.gap);return"calc((100%"+(Me&&" + "+Me)+")/"+(a.perPage||1)+(Me&&" - "+Me)+")"}function We(){return Pn(Z)[ae("width")]}function Ge(Me,xe){var Ie=D(Me||0);return Ie?Pn(Ie.slide)[ae("width")]+(xe?0:xt()):0}function Qe(Me,xe){var Ie=D(Me);if(Ie){var Ke=Pn(Ie.slide)[ae("right")],ct=Pn(Z)[ae("left")];return pn(Ke-ct)+(xe?0:xt())}return 0}function Ve(Me){return Qe(o.length-1)-Qe(0)+Ge(0,Me)}function xt(){var Me=D(0);return Me&&parseFloat(zn(Me.slide,ae("marginRight")))||0}function Oe(Me){return parseFloat(zn(ge,ae("padding"+(Me?"Right":"Left"))))||0}function yt(){return o.is(Qa)||Ve(!0)>We()}return{mount:ve,resize:Ae,listSize:We,slideSize:Ge,sliderSize:Ve,totalSize:Qe,getPadding:Oe,isOverflow:yt}}var _b=2;function bb(o,d,a){var f=yi(o),A=f.on,v=d.Elements,P=d.Slides,q=d.Direction.resolve,ae=[],oe;function le(){A(Vi,ge),A([gn,za],D),(oe=ie())&&(X(oe),d.Layout.resize(!0))}function ge(){Z(),le()}function Z(){bs(ae),kr(ae),f.destroy()}function D(){var fe=ie();oe!==fe&&(oe<fe||!fe)&&f.emit(Vi)}function X(fe){var ve=P.get().slice(),he=ve.length;if(he){for(;ve.length<fe;)Go(ve,ve);Go(ve.slice(-fe),ve.slice(0,fe)).forEach(function(Ae,Ee){var O=Ee<fe,Pe=K(Ae.slide,Ee);O?th(Pe,ve[0].slide):Ka(v.list,Pe),Go(ae,Pe),P.register(Pe,Ee-fe+(O?0:he),Ae.index)})}}function K(fe,ve){var he=fe.cloneNode(!0);return tr(he,a.classes.clone),he.id=o.root.id+"-clone"+rh(ve+1),he}function ie(){var fe=a.clones;if(!o.is(ta))fe=0;else if(Ga(fe)){var ve=a[q("fixedWidth")]&&d.Layout.slideSize(0),he=ve&&Da(Pn(v.track)[q("width")]/ve);fe=he||a[q("autoWidth")]&&o.length||a.perPage*_b}return fe}return{mount:le,destroy:Z}}function yb(o,d,a){var f=yi(o),A=f.on,v=f.emit,P=o.state.set,q=d.Layout,ae=q.slideSize,oe=q.getPadding,le=q.totalSize,ge=q.listSize,Z=q.sliderSize,D=d.Direction,X=D.resolve,K=D.orient,ie=d.Elements,fe=ie.list,ve=ie.track,he;function Ae(){he=d.Transition,A([ws,sh,gn,Vi],Ee)}function Ee(){d.Controller.isBusy()||(d.Scroll.cancel(),Pe(o.index),d.Slides.update())}function O(Ie,Ke,ct,pt){Ie!==Ke&&Me(Ie>ct)&&(We(),Je(ht(Ve(),Ie>ct),!0)),P(Js),v($r,Ke,ct,Ie),he.start(Ke,function(){P(Xs),v(ja,Ke,ct,Ie),pt&&pt()})}function Pe(Ie){Je(Qe(Ie,!0))}function Je(Ie,Ke){if(!o.is(Qa)){var ct=Ke?Ie:Xe(Ie);zn(fe,"transform","translate"+X("X")+"("+ct+"px)"),Ie!==ct&&v(md)}}function Xe(Ie){if(o.is(ta)){var Ke=Ge(Ie),ct=Ke>d.Controller.getEnd(),pt=Ke<0;(pt||ct)&&(Ie=ht(Ie,ct))}return Ie}function ht(Ie,Ke){var ct=Ie-yt(Ke),pt=Z();return Ie-=K(pt*(Da(pn(ct)/pt)||1))*(Ke?1:-1),Ie}function We(){Je(Ve(),!0),he.cancel()}function Ge(Ie){for(var Ke=d.Slides.get(),ct=0,pt=1/0,Nt=0;Nt<Ke.length;Nt++){var lt=Ke[Nt].index,De=pn(Qe(lt,!0)-Ie);if(De<=pt)pt=De,ct=lt;else break}return ct}function Qe(Ie,Ke){var ct=K(le(Ie-1)-Oe(Ie));return Ke?xt(ct):ct}function Ve(){var Ie=X("left");return Pn(fe)[Ie]-Pn(ve)[Ie]+K(oe(!1))}function xt(Ie){return a.trimSpace&&o.is(Qs)&&(Ie=Hs(Ie,0,K(Z(!0)-ge()))),Ie}function Oe(Ie){var Ke=a.focus;return Ke==="center"?(ge()-ae(Ie,!0))/2:+Ke*ae(Ie)||0}function yt(Ie){return Qe(Ie?d.Controller.getEnd():0,!!a.trimSpace)}function Me(Ie){var Ke=K(ht(Ve(),Ie));return Ie?Ke>=0:Ke<=fe[X("scrollWidth")]-Pn(ve)[X("width")]}function xe(Ie,Ke){Ke=Ga(Ke)?Ve():Ke;var ct=Ie!==!0&&K(Ke)<K(yt(!1)),pt=Ie!==!1&&K(Ke)>K(yt(!0));return ct||pt}return{mount:Ae,move:O,jump:Pe,translate:Je,shift:ht,cancel:We,toIndex:Ge,toPosition:Qe,getPosition:Ve,getLimit:yt,exceededLimit:xe,reposition:Ee}}function wb(o,d,a){var f=yi(o),A=f.on,v=f.emit,P=d.Move,q=P.getPosition,ae=P.getLimit,oe=P.toPosition,le=d.Slides,ge=le.isEnough,Z=le.getLength,D=a.omitEnd,X=o.is(ta),K=o.is(Qs),ie=pi(Ve,!1),fe=pi(Ve,!0),ve=a.start||0,he,Ae=ve,Ee,O,Pe;function Je(){Xe(),A([gn,Vi,eu],Xe),A(sh,ht)}function Xe(){Ee=Z(!0),O=a.perMove,Pe=a.perPage,he=Me();var De=Hs(ve,0,D?he:Ee-1);De!==ve&&(ve=De,P.reposition())}function ht(){he!==Me()&&v(eu)}function We(De,Ct,Dt){if(!lt()){var dt=Qe(De),Mt=yt(dt);Mt>-1&&(Ct||Mt!==ve)&&(ct(Mt),P.move(dt,Mt,Ae,Dt))}}function Ge(De,Ct,Dt,dt){d.Scroll.scroll(De,Ct,Dt,function(){var Mt=yt(P.toIndex(q()));ct(D?Gr(Mt,he):Mt),dt&&dt()})}function Qe(De){var Ct=ve;if(Wr(De)){var Dt=De.match(/([+\-<>])(\d+)?/)||[],dt=Dt[1],Mt=Dt[2];dt==="+"||dt==="-"?Ct=xt(ve+ +(""+dt+(+Mt||1)),ve):dt===">"?Ct=Mt?xe(+Mt):ie(!0):dt==="<"&&(Ct=fe(!0))}else Ct=X?De:Hs(De,0,he);return Ct}function Ve(De,Ct){var Dt=O||(Nt()?1:Pe),dt=xt(ve+Dt*(De?-1:1),ve,!(O||Nt()));return dt===-1&&K&&!od(q(),ae(!De),1)?De?0:he:Ct?dt:yt(dt)}function xt(De,Ct,Dt){if(ge()||Nt()){var dt=Oe(De);dt!==De&&(Ct=De,De=dt,Dt=!1),De<0||De>he?!O&&($o(0,De,Ct,!0)||$o(he,Ct,De,!0))?De=xe(Ie(De)):X?De=Dt?De<0?-(Ee%Pe||Pe):Ee:De:a.rewind?De=De<0?he:0:De=-1:Dt&&De!==Ct&&(De=xe(Ie(Ct)+(De<Ct?-1:1)))}else De=-1;return De}function Oe(De){if(K&&a.trimSpace==="move"&&De!==ve)for(var Ct=q();Ct===oe(De,!0)&&$o(De,0,o.length-1,!a.rewind);)De<ve?--De:++De;return De}function yt(De){return X?(De+Ee)%Ee||0:De}function Me(){for(var De=Ee-(Nt()||X&&O?1:Pe);D&&De-- >0;)if(oe(Ee-1,!0)!==oe(De,!0)){De++;break}return Hs(De,0,Ee-1)}function xe(De){return Hs(Nt()?De:Pe*De,0,he)}function Ie(De){return Nt()?Gr(De,he):Jo((De>=he?Ee-1:De)/Pe)}function Ke(De){var Ct=P.toIndex(De);return K?Hs(Ct,0,he):Ct}function ct(De){De!==ve&&(Ae=ve,ve=De)}function pt(De){return De?Ae:ve}function Nt(){return!Ga(a.focus)||a.isNavigation}function lt(){return o.state.is([Js,Wa])&&!!a.waitForTransition}return{mount:Je,go:We,scroll:Ge,getNext:ie,getPrev:fe,getAdjacent:Ve,getEnd:Me,setIndex:ct,getIndex:pt,toIndex:xe,toPage:Ie,toDest:Ke,hasFocus:Nt,isBusy:lt}}var xb="http://www.w3.org/2000/svg",Cb="m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z",zo=40;function Sb(o,d,a){var f=yi(o),A=f.on,v=f.bind,P=f.emit,q=a.classes,ae=a.i18n,oe=d.Elements,le=d.Controller,ge=oe.arrows,Z=oe.track,D=ge,X=oe.prev,K=oe.next,ie,fe,ve={};function he(){Ee(),A(gn,Ae)}function Ae(){O(),he()}function Ee(){var Ge=a.arrows;Ge&&!(X&&K)&&Xe(),X&&K&&(Ba(ve,{prev:X,next:K}),Fa(D,Ge?"":"none"),tr(D,fe=hh+"--"+a.direction),Ge&&(Pe(),We(),qt([X,K],Xa,Z.id),P($1,X,K)))}function O(){f.destroy(),Er(D,fe),ie?(bs(ge?[X,K]:D),X=K=null):ir([X,K],lh)}function Pe(){A([ws,ja,Vi,ea,eu],We),v(K,"click",pi(Je,">")),v(X,"click",pi(Je,"<"))}function Je(Ge){le.go(Ge,!0)}function Xe(){D=ge||Zs("div",q.arrows),X=ht(!0),K=ht(!1),ie=!0,Ka(D,[X,K]),!ge&&th(D,Z)}function ht(Ge){var Qe='<button class="'+q.arrow+" "+(Ge?q.prev:q.next)+'" type="button"><svg xmlns="'+xb+'" viewBox="0 0 '+zo+" "+zo+'" width="'+zo+'" height="'+zo+'" focusable="false"><path d="'+(a.arrowPath||Cb)+'" />';return sd(Qe)}function We(){if(X&&K){var Ge=o.index,Qe=le.getPrev(),Ve=le.getNext(),xt=Qe>-1&&Ge<Qe?ae.last:ae.prev,Oe=Ve>-1&&Ge>Ve?ae.first:ae.next;X.disabled=Qe<0,K.disabled=Ve<0,qt(X,Ln,xt),qt(K,Ln,Oe),P(K1,X,K,Qe,Ve)}}return{arrows:ve,mount:he,destroy:O,update:We}}var Eb=nh+"-interval";function Ab(o,d,a){var f=yi(o),A=f.on,v=f.bind,P=f.emit,q=au(a.interval,o.go.bind(o,">"),Pe),ae=q.isPaused,oe=d.Elements,le=d.Elements,ge=le.root,Z=le.toggle,D=a.autoplay,X,K,ie=D==="pause";function fe(){D&&(ve(),Z&&qt(Z,Xa,oe.track.id),ie||he(),O())}function ve(){a.pauseOnHover&&v(ge,"mouseenter mouseleave",function(Xe){X=Xe.type==="mouseenter",Ee()}),a.pauseOnFocus&&v(ge,"focusin focusout",function(Xe){K=Xe.type==="focusin",Ee()}),Z&&v(Z,"click",function(){ie?he():Ae(!0)}),A([$r,ah,Vi],q.rewind),A($r,Je)}function he(){ae()&&d.Slides.isEnough()&&(q.start(!a.resetProgress),K=X=ie=!1,O(),P(fd))}function Ae(Xe){Xe===void 0&&(Xe=!0),ie=!!Xe,O(),ae()||(q.pause(),P(dd))}function Ee(){ie||(X||K?Ae(!1):he())}function O(){Z&&(Sr(Z,ys,!ie),qt(Z,Ln,a.i18n[ie?"play":"pause"]))}function Pe(Xe){var ht=oe.bar;ht&&zn(ht,"width",Xe*100+"%"),P(j1,Xe)}function Je(Xe){var ht=d.Slides.getAt(Xe);q.set(ht&&+Vn(ht.slide,Eb)||a.interval)}return{mount:fe,destroy:q.cancel,play:he,pause:Ae,isPaused:ae}}function Tb(o,d,a){var f=yi(o),A=f.on;function v(){a.cover&&(A(pd,pi(q,!0)),A([ws,gn,Vi],pi(P,!0)))}function P(ae){d.Slides.forEach(function(oe){var le=Za(oe.container||oe.slide,"img");le&&le.src&&q(ae,le,oe)})}function q(ae,oe,le){le.style("background",ae?'center/cover no-repeat url("'+oe.src+'")':"",!0),Fa(oe,ae?"none":"")}return{mount:v,destroy:pi(P,!1)}}var kb=10,Ib=600,Pb=.6,Lb=1.5,Nb=800;function Ob(o,d,a){var f=yi(o),A=f.on,v=f.emit,P=o.state.set,q=d.Move,ae=q.getPosition,oe=q.getLimit,le=q.exceededLimit,ge=q.translate,Z=o.is(Qs),D,X,K=1;function ie(){A($r,Ae),A([gn,Vi],Ee)}function fe(Pe,Je,Xe,ht,We){var Ge=ae();if(Ae(),Xe&&(!Z||!le())){var Qe=d.Layout.sliderSize(),Ve=Ul(Pe)*Qe*Jo(pn(Pe)/Qe)||0;Pe=q.toPosition(d.Controller.toDest(Pe%Qe))+Ve}var xt=od(Ge,Pe,1);K=1,Je=xt?0:Je||Qo(pn(Pe-Ge)/Lb,Nb),X=ht,D=au(Je,ve,pi(he,Ge,Pe,We),1),P(Wa),v(ah),D.start()}function ve(){P(Xs),X&&X(),v(ea)}function he(Pe,Je,Xe,ht){var We=ae(),Ge=Pe+(Je-Pe)*O(ht),Qe=(Ge-We)*K;ge(We+Qe),Z&&!Xe&&le()&&(K*=Pb,pn(Qe)<kb&&fe(oe(le(!0)),Ib,!1,X,!0))}function Ae(){D&&D.cancel()}function Ee(){D&&!D.isPaused()&&(Ae(),ve())}function O(Pe){var Je=a.easingFunc;return Je?Je(Pe):1-Math.pow(1-Pe,4)}return{mount:ie,destroy:Ae,scroll:fe,cancel:Ee}}var Ws={passive:!1,capture:!0};function Mb(o,d,a){var f=yi(o),A=f.on,v=f.emit,P=f.bind,q=f.unbind,ae=o.state,oe=d.Move,le=d.Scroll,ge=d.Controller,Z=d.Elements.track,D=d.Media.reduce,X=d.Direction,K=X.resolve,ie=X.orient,fe=oe.getPosition,ve=oe.exceededLimit,he,Ae,Ee,O,Pe,Je=!1,Xe,ht,We;function Ge(){P(Z,Pl,zl,Ws),P(Z,Ll,zl,Ws),P(Z,Id,Ve,Ws),P(Z,"click",yt,{capture:!0}),P(Z,"dragstart",xr),A([ws,gn],Qe)}function Qe(){var ot=a.drag;Li(!ot),O=ot==="free"}function Ve(ot){if(Xe=!1,!ht){var St=Mt(ot);dt(ot.target)&&(St||!ot.button)&&(ge.isBusy()?xr(ot,!0):(We=St?Z:window,Pe=ae.is([Js,Wa]),Ee=null,P(We,Pl,xt,Ws),P(We,Ll,Oe,Ws),oe.cancel(),le.cancel(),Me(ot)))}}function xt(ot){if(ae.is(Wo)||(ae.set(Wo),v(q1)),ot.cancelable)if(Pe){oe.translate(he+Dt(Nt(ot)));var St=lt(ot)>Sf,Kt=Je!==(Je=ve());(St||Kt)&&Me(ot),Xe=!0,v(H1),xr(ot)}else Ke(ot)&&(Pe=Ie(ot),xr(ot))}function Oe(ot){ae.is(Wo)&&(ae.set(Xs),v(W1)),Pe&&(xe(ot),xr(ot)),q(We,Pl,xt),q(We,Ll,Oe),Pe=!1}function yt(ot){!ht&&Xe&&xr(ot,!0)}function Me(ot){Ee=Ae,Ae=ot,he=fe()}function xe(ot){var St=ct(ot),Kt=pt(St),ci=a.rewind&&a.rewindByDrag;D(!1),O?ge.scroll(Kt,0,a.snap):o.is(Qa)?ge.go(ie(Ul(St))<0?ci?"<":"-":ci?">":"+"):o.is(Qs)&&Je&&ci?ge.go(ve(!0)?">":"<"):ge.go(ge.toDest(Kt),!0),D(!0)}function Ie(ot){var St=a.dragMinThreshold,Kt=Oa(St),ci=Kt&&St.mouse||0,wi=(Kt?St.touch:+St)||10;return pn(Nt(ot))>(Mt(ot)?wi:ci)}function Ke(ot){return pn(Nt(ot))>pn(Nt(ot,!0))}function ct(ot){if(o.is(ta)||!Je){var St=lt(ot);if(St&&St<Sf)return Nt(ot)/St}return 0}function pt(ot){return fe()+Ul(ot)*Gr(pn(ot)*(a.flickPower||600),O?1/0:d.Layout.listSize()*(a.flickMaxPages||1))}function Nt(ot,St){return Ct(ot,St)-Ct(De(ot),St)}function lt(ot){return Vl(ot)-Vl(De(ot))}function De(ot){return Ae===ot&&Ee||Ae}function Ct(ot,St){return(Mt(ot)?ot.changedTouches[0]:ot)["page"+K(St?"Y":"X")]}function Dt(ot){return ot/(Je&&o.is(Qs)?db:1)}function dt(ot){var St=a.noDrag;return!Ma(ot,"."+Sd+", ."+fu)&&(!St||!Ma(ot,St))}function Mt(ot){return typeof TouchEvent!="undefined"&&ot instanceof TouchEvent}function $t(){return Pe}function Li(ot){ht=ot}return{mount:Ge,disable:Li,isDragging:$t}}var Rb={Spacebar:" ",Right:lu,Left:uu,Up:vd,Down:_d};function ch(o){return o=Wr(o)?o:o.key,Rb[o]||o}var Ef="keydown";function Bb(o,d,a){var f=yi(o),A=f.on,v=f.bind,P=f.unbind,q=o.root,ae=d.Direction.resolve,oe,le;function ge(){Z(),A(gn,D),A(gn,Z),A($r,K)}function Z(){var fe=a.keyboard;fe&&(oe=fe==="global"?window:q,v(oe,Ef,ie))}function D(){P(oe,Ef)}function X(fe){le=fe}function K(){var fe=le;le=!0,ed(function(){le=fe})}function ie(fe){if(!le){var ve=ch(fe);ve===ae(uu)?o.go("<"):ve===ae(lu)&&o.go(">")}}return{mount:ge,destroy:D,disable:X}}var La=nh+"-lazy",Ko=La+"-srcset",Fb="["+La+"], ["+Ko+"]";function Db(o,d,a){var f=yi(o),A=f.on,v=f.off,P=f.bind,q=f.emit,ae=a.lazyLoad==="sequential",oe=[ja,ea],le=[];function ge(){a.lazyLoad&&(Z(),A(Vi,Z))}function Z(){kr(le),D(),ae?fe():(v(oe),A(oe,X),X())}function D(){d.Slides.forEach(function(ve){ih(ve.slide,Fb).forEach(function(he){var Ae=Vn(he,La),Ee=Vn(he,Ko);if(Ae!==he.src||Ee!==he.srcset){var O=a.classes.spinner,Pe=he.parentElement,Je=Za(Pe,"."+O)||Zs("span",O,Pe);le.push([he,ve,Je]),he.src||Fa(he,"none")}})})}function X(){le=le.filter(function(ve){var he=a.perPage*((a.preloadPages||1)+1)-1;return ve[1].isWithin(o.index,he)?K(ve):!0}),le.length||v(oe)}function K(ve){var he=ve[0];tr(ve[1].slide,Wl),P(he,"load error",pi(ie,ve)),qt(he,"src",Vn(he,La)),qt(he,"srcset",Vn(he,Ko)),ir(he,La),ir(he,Ko)}function ie(ve,he){var Ae=ve[0],Ee=ve[1];Er(Ee.slide,Wl),he.type!=="error"&&(bs(ve[2]),Fa(Ae,""),q(pd,Ae,Ee),q(za)),ae&&fe()}function fe(){le.length&&K(le.shift())}return{mount:ge,destroy:pi(kr,le),check:X}}function zb(o,d,a){var f=yi(o),A=f.on,v=f.emit,P=f.bind,q=d.Slides,ae=d.Elements,oe=d.Controller,le=oe.hasFocus,ge=oe.getIndex,Z=oe.go,D=d.Direction.resolve,X=ae.pagination,K=[],ie,fe;function ve(){he(),A([gn,Vi,eu],ve);var ht=a.pagination;X&&Fa(X,ht?"":"none"),ht&&(A([$r,ah,ea],Xe),Ae(),Xe(),v(Z1,{list:ie,items:K},Je(o.index)))}function he(){ie&&(bs(X?Kr(ie.children):ie),Er(ie,fe),kr(K),ie=null),f.destroy()}function Ae(){var ht=o.length,We=a.classes,Ge=a.i18n,Qe=a.perPage,Ve=le()?oe.getEnd()+1:Da(ht/Qe);ie=X||Zs("ul",We.pagination,ae.track.parentElement),tr(ie,fe=du+"--"+Pe()),qt(ie,Ar,"tablist"),qt(ie,Ln,Ge.select),qt(ie,uh,Pe()===hu?"vertical":"");for(var xt=0;xt<Ve;xt++){var Oe=Zs("li",null,ie),yt=Zs("button",{class:We.page,type:"button"},Oe),Me=q.getIn(xt).map(function(Ie){return Ie.slide.id}),xe=!le()&&Qe>1?Ge.pageX:Ge.slideX;P(yt,"click",pi(Ee,xt)),a.paginationKeyboard&&P(yt,"keydown",pi(O,xt)),qt(Oe,Ar,"presentation"),qt(yt,Ar,"tab"),qt(yt,Xa,Me.join(" ")),qt(yt,Ln,ql(xe,xt+1)),qt(yt,Ys,-1),K.push({li:Oe,button:yt,page:xt})}}function Ee(ht){Z(">"+ht,!0)}function O(ht,We){var Ge=K.length,Qe=ch(We),Ve=Pe(),xt=-1;Qe===D(lu,!1,Ve)?xt=++ht%Ge:Qe===D(uu,!1,Ve)?xt=(--ht+Ge)%Ge:Qe==="Home"?xt=0:Qe==="End"&&(xt=Ge-1);var Oe=K[xt];Oe&&(rd(Oe.button),Z(">"+xt),xr(We,!0))}function Pe(){return a.paginationDirection||a.direction}function Je(ht){return K[oe.toPage(ht)]}function Xe(){var ht=Je(ge(!0)),We=Je(ge());if(ht){var Ge=ht.button;Er(Ge,ys),ir(Ge,bf),qt(Ge,Ys,-1)}if(We){var Qe=We.button;tr(Qe,ys),qt(Qe,bf,!0),qt(Qe,Ys,"")}v(Y1,{list:ie,items:K},ht,We)}return{items:K,mount:ve,destroy:he,getAt:Je,update:Xe}}var Vb=[" ","Enter"];function Ub(o,d,a){var f=a.isNavigation,A=a.slideFocus,v=[];function P(){o.splides.forEach(function(X){X.isParent||(oe(o,X.splide),oe(X.splide,o))}),f&&le()}function q(){v.forEach(function(X){X.destroy()}),kr(v)}function ae(){q(),P()}function oe(X,K){var ie=yi(X);ie.on($r,function(fe,ve,he){K.go(K.is(ta)?he:fe)}),v.push(ie)}function le(){var X=yi(o),K=X.on;K(ld,Z),K(gd,D),K([ws,gn],ge),v.push(X),X.emit(cd,o.splides)}function ge(){qt(d.Elements.list,uh,a.direction===hu?"vertical":"")}function Z(X){o.go(X.index)}function D(X,K){eh(Vb,ch(K))&&(Z(X),xr(K))}return{setup:pi(d.Media.set,{slideFocus:Ga(A)?f:A},!0),mount:P,destroy:q,remount:ae}}function qb(o,d,a){var f=yi(o),A=f.bind,v=0;function P(){a.wheel&&A(d.Elements.track,"wheel",q,Ws)}function q(oe){if(oe.cancelable){var le=oe.deltaY,ge=le<0,Z=Vl(oe),D=a.wheelMinThreshold||0,X=a.wheelSleep||0;pn(le)>D&&Z-v>X&&(o.go(ge?"<":">"),v=Z),ae(ge)&&xr(oe)}}function ae(oe){return!a.releaseWheel||o.state.is(Js)||d.Controller.getAdjacent(oe)!==-1}return{mount:P}}var Hb=90;function Wb(o,d,a){var f=yi(o),A=f.on,v=d.Elements.track,P=a.live&&!a.isNavigation,q=Zs("span",ub),ae=au(Hb,pi(le,!1));function oe(){P&&(Z(!d.Autoplay.isPaused()),qt(v,xf,!0),q.textContent="\u2026",A(fd,pi(Z,!0)),A(dd,pi(Z,!1)),A([ja,ea],pi(le,!0)))}function le(D){qt(v,wf,D),D?(Ka(v,q),ae.start()):(bs(q),ae.cancel())}function ge(){ir(v,[yf,xf,wf]),bs(q)}function Z(D){P&&qt(v,yf,D?"off":"polite")}return{mount:oe,disable:Z,destroy:ge}}var Gb=Object.freeze({__proto__:null,Media:J1,Direction:eb,Elements:pb,Slides:mb,Layout:vb,Clones:bb,Move:yb,Controller:wb,Arrows:Sb,Autoplay:Ab,Cover:Tb,Scroll:Ob,Drag:Mb,Keyboard:Bb,LazyLoad:Db,Pagination:zb,Sync:Ub,Wheel:qb,Live:Wb}),$b={prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay",carousel:"carousel",slide:"slide",select:"Select a slide to show",slideLabel:"%s of %s"},Kb={type:"slide",role:"region",speed:400,perPage:1,cloneStatus:!0,arrows:!0,pagination:!0,paginationKeyboard:!0,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,easing:"cubic-bezier(0.25, 1, 0.5, 1)",drag:!0,direction:"ltr",trimSpace:!0,focusableNodes:"a, button, textarea, input, select, iframe",live:!0,classes:cb,i18n:$b,reducedMotion:{speed:0,rewindSpeed:0,autoplay:"pause"}};function Zb(o,d,a){var f=d.Slides;function A(){yi(o).on([ws,Vi],v)}function v(){f.forEach(function(q){q.style("transform","translateX(-"+100*q.index+"%)")})}function P(q,ae){f.style("transition","opacity "+a.speed+"ms "+a.easing),ed(ae)}return{mount:A,start:P,cancel:zl}}function Yb(o,d,a){var f=d.Move,A=d.Controller,v=d.Scroll,P=d.Elements.list,q=pi(zn,P,"transition"),ae;function oe(){yi(o).bind(P,"transitionend",function(D){D.target===P&&ae&&(ge(),ae())})}function le(D,X){var K=f.toPosition(D,!0),ie=f.getPosition(),fe=Z(D);pn(K-ie)>=1&&fe>=1?a.useScroll?v.scroll(K,fe,!1,X):(q("transform "+fe+"ms "+a.easing),f.translate(K,!0),ae=X):(f.jump(D),X())}function ge(){q(""),v.cancel()}function Z(D){var X=a.rewindSpeed;if(o.is(Qs)&&X){var K=A.getIndex(!0),ie=A.getEnd();if(K===0&&D>=ie||K>=ie&&D===0)return X}return a.speed}return{mount:oe,start:le,cancel:ge}}var jb=function(){function o(a,f){this.event=yi(),this.Components={},this.state=X1(Gs),this.splides=[],this._o={},this._E={};var A=Wr(a)?ad(document,a):a;Pa(A,A+" is invalid."),this.root=A,f=Hr({label:Vn(A,Ln)||"",labelledby:Vn(A,oh)||""},Kb,o.defaults,f||{});try{Hr(f,JSON.parse(Vn(A,nh)))}catch(v){Pa(!1,"Invalid JSON")}this._o=Object.create(Hr({},f))}var d=o.prototype;return d.mount=function(f,A){var v=this,P=this.state,q=this.Components;Pa(P.is([Gs,Xo]),"Already mounted!"),P.set(Gs),this._C=q,this._T=A||this._T||(this.is(Qa)?Zb:Yb),this._E=f||this._E;var ae=Ba({},Gb,this._E,{Transition:this._T});return _s(ae,function(oe,le){var ge=oe(v,q,v._o);q[le]=ge,ge.setup&&ge.setup()}),_s(q,function(oe){oe.mount&&oe.mount()}),this.emit(ws),tr(this.root,lb),P.set(Xs),this.emit(vf),this},d.sync=function(f){return this.splides.push({splide:f}),f.splides.push({splide:this,isParent:!0}),this.state.is(Xs)&&(this._C.Sync.remount(),f.Components.Sync.remount()),this},d.go=function(f){return this._C.Controller.go(f),this},d.on=function(f,A){return this.event.on(f,A),this},d.off=function(f){return this.event.off(f),this},d.emit=function(f){var A;return(A=this.event).emit.apply(A,[f].concat(Kr(arguments,1))),this},d.add=function(f,A){return this._C.Slides.add(f,A),this},d.remove=function(f){return this._C.Slides.remove(f),this},d.is=function(f){return this._o.type===f},d.refresh=function(){return this.emit(Vi),this},d.destroy=function(f){f===void 0&&(f=!0);var A=this.event,v=this.state;return v.is(Gs)?yi(this).on(vf,this.destroy.bind(this,f)):(_s(this._C,function(P){P.destroy&&P.destroy(f)},!0),A.emit(hd),A.destroy(),f&&kr(this.splides),v.set(Xo)),this},M1(o,[{key:"options",get:function(){return this._o},set:function(f){this._C.Media.set(f,!0,!0)}},{key:"length",get:function(){return this._C.Slides.getLength(!0)}},{key:"index",get:function(){return this._C.Controller.getIndex()}}]),o}(),tu=jb;tu.defaults={};tu.STATES=B1;var ut={exports:{}};function Xb(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Pd={exports:{}};const Qb={},Jb=Object.freeze(Object.defineProperty({__proto__:null,default:Qb},Symbol.toStringTag,{value:"Module"})),Af=B_(Jb);var Vo={exports:{}},Tf;function ey(){return Tf||(Tf=1,function(o,d){(function(a,f){f(d)})(Vr,function(a){var f=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,357,0,62,13,1495,6,110,6,6,9,4759,9,787719,239],A=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2637,96,16,1070,4050,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,46,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,482,44,11,6,17,0,322,29,19,43,1269,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4152,8,221,3,5761,15,7472,3104,541,1507,4938],v="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",P="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",q={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},ae="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",oe={5:ae,"5module":ae+" export import",6:ae+" const class extends export import super"},le=/^in(stanceof)?$/,ge=new RegExp("["+P+"]"),Z=new RegExp("["+P+v+"]");function D(s,g){for(var I=65536,V=0;V<g.length;V+=2){if(I+=g[V],I>s)return!1;if(I+=g[V+1],I>=s)return!0}}function X(s,g){return s<65?s===36:s<91?!0:s<97?s===95:s<123?!0:s<=65535?s>=170&&ge.test(String.fromCharCode(s)):g===!1?!1:D(s,A)}function K(s,g){return s<48?s===36:s<58?!0:s<65?!1:s<91?!0:s<97?s===95:s<123?!0:s<=65535?s>=170&&Z.test(String.fromCharCode(s)):g===!1?!1:D(s,A)||D(s,f)}var ie=function(g,I){I===void 0&&(I={}),this.label=g,this.keyword=I.keyword,this.beforeExpr=!!I.beforeExpr,this.startsExpr=!!I.startsExpr,this.isLoop=!!I.isLoop,this.isAssign=!!I.isAssign,this.prefix=!!I.prefix,this.postfix=!!I.postfix,this.binop=I.binop||null,this.updateContext=null};function fe(s,g){return new ie(s,{beforeExpr:!0,binop:g})}var ve={beforeExpr:!0},he={startsExpr:!0},Ae={};function Ee(s,g){return g===void 0&&(g={}),g.keyword=s,Ae[s]=new ie(s,g)}var O={num:new ie("num",he),regexp:new ie("regexp",he),string:new ie("string",he),name:new ie("name",he),privateId:new ie("privateId",he),eof:new ie("eof"),bracketL:new ie("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ie("]"),braceL:new ie("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ie("}"),parenL:new ie("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ie(")"),comma:new ie(",",ve),semi:new ie(";",ve),colon:new ie(":",ve),dot:new ie("."),question:new ie("?",ve),questionDot:new ie("?."),arrow:new ie("=>",ve),template:new ie("template"),invalidTemplate:new ie("invalidTemplate"),ellipsis:new ie("...",ve),backQuote:new ie("`",he),dollarBraceL:new ie("${",{beforeExpr:!0,startsExpr:!0}),eq:new ie("=",{beforeExpr:!0,isAssign:!0}),assign:new ie("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ie("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ie("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:fe("||",1),logicalAND:fe("&&",2),bitwiseOR:fe("|",3),bitwiseXOR:fe("^",4),bitwiseAND:fe("&",5),equality:fe("==/!=/===/!==",6),relational:fe("</>/<=/>=",7),bitShift:fe("<</>>/>>>",8),plusMin:new ie("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:fe("%",10),star:fe("*",10),slash:fe("/",10),starstar:new ie("**",{beforeExpr:!0}),coalesce:fe("??",1),_break:Ee("break"),_case:Ee("case",ve),_catch:Ee("catch"),_continue:Ee("continue"),_debugger:Ee("debugger"),_default:Ee("default",ve),_do:Ee("do",{isLoop:!0,beforeExpr:!0}),_else:Ee("else",ve),_finally:Ee("finally"),_for:Ee("for",{isLoop:!0}),_function:Ee("function",he),_if:Ee("if"),_return:Ee("return",ve),_switch:Ee("switch"),_throw:Ee("throw",ve),_try:Ee("try"),_var:Ee("var"),_const:Ee("const"),_while:Ee("while",{isLoop:!0}),_with:Ee("with"),_new:Ee("new",{beforeExpr:!0,startsExpr:!0}),_this:Ee("this",he),_super:Ee("super",he),_class:Ee("class",he),_extends:Ee("extends",ve),_export:Ee("export"),_import:Ee("import",he),_null:Ee("null",he),_true:Ee("true",he),_false:Ee("false",he),_in:Ee("in",{beforeExpr:!0,binop:7}),_instanceof:Ee("instanceof",{beforeExpr:!0,binop:7}),_typeof:Ee("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Ee("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Ee("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Pe=/\r\n?|\n|\u2028|\u2029/,Je=new RegExp(Pe.source,"g");function Xe(s){return s===10||s===13||s===8232||s===8233}function ht(s,g,I){I===void 0&&(I=s.length);for(var V=g;V<I;V++){var ee=s.charCodeAt(V);if(Xe(ee))return V<I-1&&ee===13&&s.charCodeAt(V+1)===10?V+2:V+1}return-1}var We=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Ge=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Qe=Object.prototype,Ve=Qe.hasOwnProperty,xt=Qe.toString,Oe=Object.hasOwn||function(s,g){return Ve.call(s,g)},yt=Array.isArray||function(s){return xt.call(s)==="[object Array]"};function Me(s){return new RegExp("^(?:"+s.replace(/ /g,"|")+")$")}function xe(s){return s<=65535?String.fromCharCode(s):(s-=65536,String.fromCharCode((s>>10)+55296,(s&1023)+56320))}var Ie=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Ke=function(g,I){this.line=g,this.column=I};Ke.prototype.offset=function(g){return new Ke(this.line,this.column+g)};var ct=function(g,I,V){this.start=I,this.end=V,g.sourceFile!==null&&(this.source=g.sourceFile)};function pt(s,g){for(var I=1,V=0;;){var ee=ht(s,V,g);if(ee<0)return new Ke(I,g-V);++I,V=ee}}var Nt={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},lt=!1;function De(s){var g={};for(var I in Nt)g[I]=s&&Oe(s,I)?s[I]:Nt[I];if(g.ecmaVersion==="latest"?g.ecmaVersion=1e8:g.ecmaVersion==null?(!lt&&typeof console=="object"&&console.warn&&(lt=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),g.ecmaVersion=11):g.ecmaVersion>=2015&&(g.ecmaVersion-=2009),g.allowReserved==null&&(g.allowReserved=g.ecmaVersion<5),s.allowHashBang==null&&(g.allowHashBang=g.ecmaVersion>=14),yt(g.onToken)){var V=g.onToken;g.onToken=function(ee){return V.push(ee)}}return yt(g.onComment)&&(g.onComment=Ct(g,g.onComment)),g}function Ct(s,g){return function(I,V,ee,ye,Se,He){var je={type:I?"Block":"Line",value:V,start:ee,end:ye};s.locations&&(je.loc=new ct(this,Se,He)),s.ranges&&(je.range=[ee,ye]),g.push(je)}}var Dt=1,dt=2,Mt=4,$t=8,Li=16,ot=32,St=64,Kt=128,ci=256,wi=Dt|dt|ci;function an(s,g){return dt|(s?Mt:0)|(g?$t:0)}var mn=0,li=1,gt=2,Ni=3,ft=4,Ht=5,Ue=function(g,I,V){this.options=g=De(g),this.sourceFile=g.sourceFile,this.keywords=Me(oe[g.ecmaVersion>=6?6:g.sourceType==="module"?"5module":5]);var ee="";g.allowReserved!==!0&&(ee=q[g.ecmaVersion>=6?6:g.ecmaVersion===5?5:3],g.sourceType==="module"&&(ee+=" await")),this.reservedWords=Me(ee);var ye=(ee?ee+" ":"")+q.strict;this.reservedWordsStrict=Me(ye),this.reservedWordsStrictBind=Me(ye+" "+q.strictBind),this.input=String(I),this.containsEsc=!1,V?(this.pos=V,this.lineStart=this.input.lastIndexOf(`
`,V-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Pe).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=O.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=g.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&g.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Dt),this.regexpState=null,this.privateNameStack=[]},e={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Ue.prototype.parse=function(){var g=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(g)},e.inFunction.get=function(){return(this.currentVarScope().flags&dt)>0},e.inGenerator.get=function(){return(this.currentVarScope().flags&$t)>0&&!this.currentVarScope().inClassFieldInit},e.inAsync.get=function(){return(this.currentVarScope().flags&Mt)>0&&!this.currentVarScope().inClassFieldInit},e.canAwait.get=function(){for(var s=this.scopeStack.length-1;s>=0;s--){var g=this.scopeStack[s];if(g.inClassFieldInit||g.flags&ci)return!1;if(g.flags&dt)return(g.flags&Mt)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},e.allowSuper.get=function(){var s=this.currentThisScope(),g=s.flags,I=s.inClassFieldInit;return(g&St)>0||I||this.options.allowSuperOutsideMethod},e.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Kt)>0},e.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},e.allowNewDotTarget.get=function(){var s=this.currentThisScope(),g=s.flags,I=s.inClassFieldInit;return(g&(dt|ci))>0||I},e.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&ci)>0},Ue.extend=function(){for(var g=[],I=arguments.length;I--;)g[I]=arguments[I];for(var V=this,ee=0;ee<g.length;ee++)V=g[ee](V);return V},Ue.parse=function(g,I){return new this(I,g).parse()},Ue.parseExpressionAt=function(g,I,V){var ee=new this(V,g,I);return ee.nextToken(),ee.parseExpression()},Ue.tokenizer=function(g,I){return new this(I,g)},Object.defineProperties(Ue.prototype,e);var t=Ue.prototype,r=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;t.strictDirective=function(s){if(this.options.ecmaVersion<5)return!1;for(;;){Ge.lastIndex=s,s+=Ge.exec(this.input)[0].length;var g=r.exec(this.input.slice(s));if(!g)return!1;if((g[1]||g[2])==="use strict"){Ge.lastIndex=s+g[0].length;var I=Ge.exec(this.input),V=I.index+I[0].length,ee=this.input.charAt(V);return ee===";"||ee==="}"||Pe.test(I[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(ee)||ee==="!"&&this.input.charAt(V+1)==="=")}s+=g[0].length,Ge.lastIndex=s,s+=Ge.exec(this.input)[0].length,this.input[s]===";"&&s++}},t.eat=function(s){return this.type===s?(this.next(),!0):!1},t.isContextual=function(s){return this.type===O.name&&this.value===s&&!this.containsEsc},t.eatContextual=function(s){return this.isContextual(s)?(this.next(),!0):!1},t.expectContextual=function(s){this.eatContextual(s)||this.unexpected()},t.canInsertSemicolon=function(){return this.type===O.eof||this.type===O.braceR||Pe.test(this.input.slice(this.lastTokEnd,this.start))},t.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},t.semicolon=function(){!this.eat(O.semi)&&!this.insertSemicolon()&&this.unexpected()},t.afterTrailingComma=function(s,g){if(this.type===s)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),g||this.next(),!0},t.expect=function(s){this.eat(s)||this.unexpected()},t.unexpected=function(s){this.raise(s!=null?s:this.start,"Unexpected token")};var u=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};t.checkPatternErrors=function(s,g){if(!!s){s.trailingComma>-1&&this.raiseRecoverable(s.trailingComma,"Comma is not permitted after the rest element");var I=g?s.parenthesizedAssign:s.parenthesizedBind;I>-1&&this.raiseRecoverable(I,g?"Assigning to rvalue":"Parenthesized pattern")}},t.checkExpressionErrors=function(s,g){if(!s)return!1;var I=s.shorthandAssign,V=s.doubleProto;if(!g)return I>=0||V>=0;I>=0&&this.raise(I,"Shorthand property assignments are valid only in destructuring patterns"),V>=0&&this.raiseRecoverable(V,"Redefinition of __proto__ property")},t.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},t.isSimpleAssignTarget=function(s){return s.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(s.expression):s.type==="Identifier"||s.type==="MemberExpression"};var l=Ue.prototype;l.parseTopLevel=function(s){var g=Object.create(null);for(s.body||(s.body=[]);this.type!==O.eof;){var I=this.parseStatement(null,!0,g);s.body.push(I)}if(this.inModule)for(var V=0,ee=Object.keys(this.undefinedExports);V<ee.length;V+=1){var ye=ee[V];this.raiseRecoverable(this.undefinedExports[ye].start,"Export '"+ye+"' is not defined")}return this.adaptDirectivePrologue(s.body),this.next(),s.sourceType=this.options.sourceType,this.finishNode(s,"Program")};var c={kind:"loop"},m={kind:"switch"};l.isLet=function(s){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Ge.lastIndex=this.pos;var g=Ge.exec(this.input),I=this.pos+g[0].length,V=this.input.charCodeAt(I);if(V===91||V===92||V>55295&&V<56320)return!0;if(s)return!1;if(V===123)return!0;if(X(V,!0)){for(var ee=I+1;K(V=this.input.charCodeAt(ee),!0);)++ee;if(V===92||V>55295&&V<56320)return!0;var ye=this.input.slice(I,ee);if(!le.test(ye))return!0}return!1},l.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Ge.lastIndex=this.pos;var s=Ge.exec(this.input),g=this.pos+s[0].length,I;return!Pe.test(this.input.slice(this.pos,g))&&this.input.slice(g,g+8)==="function"&&(g+8===this.input.length||!(K(I=this.input.charCodeAt(g+8))||I>55295&&I<56320))},l.parseStatement=function(s,g,I){var V=this.type,ee=this.startNode(),ye;switch(this.isLet(s)&&(V=O._var,ye="let"),V){case O._break:case O._continue:return this.parseBreakContinueStatement(ee,V.keyword);case O._debugger:return this.parseDebuggerStatement(ee);case O._do:return this.parseDoStatement(ee);case O._for:return this.parseForStatement(ee);case O._function:return s&&(this.strict||s!=="if"&&s!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(ee,!1,!s);case O._class:return s&&this.unexpected(),this.parseClass(ee,!0);case O._if:return this.parseIfStatement(ee);case O._return:return this.parseReturnStatement(ee);case O._switch:return this.parseSwitchStatement(ee);case O._throw:return this.parseThrowStatement(ee);case O._try:return this.parseTryStatement(ee);case O._const:case O._var:return ye=ye||this.value,s&&ye!=="var"&&this.unexpected(),this.parseVarStatement(ee,ye);case O._while:return this.parseWhileStatement(ee);case O._with:return this.parseWithStatement(ee);case O.braceL:return this.parseBlock(!0,ee);case O.semi:return this.parseEmptyStatement(ee);case O._export:case O._import:if(this.options.ecmaVersion>10&&V===O._import){Ge.lastIndex=this.pos;var Se=Ge.exec(this.input),He=this.pos+Se[0].length,je=this.input.charCodeAt(He);if(je===40||je===46)return this.parseExpressionStatement(ee,this.parseExpression())}return this.options.allowImportExportEverywhere||(g||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),V===O._import?this.parseImport(ee):this.parseExport(ee,I);default:if(this.isAsyncFunction())return s&&this.unexpected(),this.next(),this.parseFunctionStatement(ee,!0,!s);var bt=this.value,At=this.parseExpression();return V===O.name&&At.type==="Identifier"&&this.eat(O.colon)?this.parseLabeledStatement(ee,bt,At,s):this.parseExpressionStatement(ee,At)}},l.parseBreakContinueStatement=function(s,g){var I=g==="break";this.next(),this.eat(O.semi)||this.insertSemicolon()?s.label=null:this.type!==O.name?this.unexpected():(s.label=this.parseIdent(),this.semicolon());for(var V=0;V<this.labels.length;++V){var ee=this.labels[V];if((s.label==null||ee.name===s.label.name)&&(ee.kind!=null&&(I||ee.kind==="loop")||s.label&&I))break}return V===this.labels.length&&this.raise(s.start,"Unsyntactic "+g),this.finishNode(s,I?"BreakStatement":"ContinueStatement")},l.parseDebuggerStatement=function(s){return this.next(),this.semicolon(),this.finishNode(s,"DebuggerStatement")},l.parseDoStatement=function(s){return this.next(),this.labels.push(c),s.body=this.parseStatement("do"),this.labels.pop(),this.expect(O._while),s.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(O.semi):this.semicolon(),this.finishNode(s,"DoWhileStatement")},l.parseForStatement=function(s){this.next();var g=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(c),this.enterScope(0),this.expect(O.parenL),this.type===O.semi)return g>-1&&this.unexpected(g),this.parseFor(s,null);var I=this.isLet();if(this.type===O._var||this.type===O._const||I){var V=this.startNode(),ee=I?"let":this.value;return this.next(),this.parseVar(V,!0,ee),this.finishNode(V,"VariableDeclaration"),(this.type===O._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&V.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===O._in?g>-1&&this.unexpected(g):s.await=g>-1),this.parseForIn(s,V)):(g>-1&&this.unexpected(g),this.parseFor(s,V))}var ye=this.isContextual("let"),Se=!1,He=new u,je=this.parseExpression(g>-1?"await":!0,He);return this.type===O._in||(Se=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===O._in?g>-1&&this.unexpected(g):s.await=g>-1),ye&&Se&&this.raise(je.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(je,!1,He),this.checkLValPattern(je),this.parseForIn(s,je)):(this.checkExpressionErrors(He,!0),g>-1&&this.unexpected(g),this.parseFor(s,je))},l.parseFunctionStatement=function(s,g,I){return this.next(),this.parseFunction(s,_|(I?0:b),!1,g)},l.parseIfStatement=function(s){return this.next(),s.test=this.parseParenExpression(),s.consequent=this.parseStatement("if"),s.alternate=this.eat(O._else)?this.parseStatement("if"):null,this.finishNode(s,"IfStatement")},l.parseReturnStatement=function(s){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(O.semi)||this.insertSemicolon()?s.argument=null:(s.argument=this.parseExpression(),this.semicolon()),this.finishNode(s,"ReturnStatement")},l.parseSwitchStatement=function(s){this.next(),s.discriminant=this.parseParenExpression(),s.cases=[],this.expect(O.braceL),this.labels.push(m),this.enterScope(0);for(var g,I=!1;this.type!==O.braceR;)if(this.type===O._case||this.type===O._default){var V=this.type===O._case;g&&this.finishNode(g,"SwitchCase"),s.cases.push(g=this.startNode()),g.consequent=[],this.next(),V?g.test=this.parseExpression():(I&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),I=!0,g.test=null),this.expect(O.colon)}else g||this.unexpected(),g.consequent.push(this.parseStatement(null));return this.exitScope(),g&&this.finishNode(g,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(s,"SwitchStatement")},l.parseThrowStatement=function(s){return this.next(),Pe.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),s.argument=this.parseExpression(),this.semicolon(),this.finishNode(s,"ThrowStatement")};var p=[];l.parseTryStatement=function(s){if(this.next(),s.block=this.parseBlock(),s.handler=null,this.type===O._catch){var g=this.startNode();if(this.next(),this.eat(O.parenL)){g.param=this.parseBindingAtom();var I=g.param.type==="Identifier";this.enterScope(I?ot:0),this.checkLValPattern(g.param,I?ft:gt),this.expect(O.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),g.param=null,this.enterScope(0);g.body=this.parseBlock(!1),this.exitScope(),s.handler=this.finishNode(g,"CatchClause")}return s.finalizer=this.eat(O._finally)?this.parseBlock():null,!s.handler&&!s.finalizer&&this.raise(s.start,"Missing catch or finally clause"),this.finishNode(s,"TryStatement")},l.parseVarStatement=function(s,g){return this.next(),this.parseVar(s,!1,g),this.semicolon(),this.finishNode(s,"VariableDeclaration")},l.parseWhileStatement=function(s){return this.next(),s.test=this.parseParenExpression(),this.labels.push(c),s.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(s,"WhileStatement")},l.parseWithStatement=function(s){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),s.object=this.parseParenExpression(),s.body=this.parseStatement("with"),this.finishNode(s,"WithStatement")},l.parseEmptyStatement=function(s){return this.next(),this.finishNode(s,"EmptyStatement")},l.parseLabeledStatement=function(s,g,I,V){for(var ee=0,ye=this.labels;ee<ye.length;ee+=1){var Se=ye[ee];Se.name===g&&this.raise(I.start,"Label '"+g+"' is already declared")}for(var He=this.type.isLoop?"loop":this.type===O._switch?"switch":null,je=this.labels.length-1;je>=0;je--){var bt=this.labels[je];if(bt.statementStart===s.start)bt.statementStart=this.start,bt.kind=He;else break}return this.labels.push({name:g,kind:He,statementStart:this.start}),s.body=this.parseStatement(V?V.indexOf("label")===-1?V+"label":V:"label"),this.labels.pop(),s.label=I,this.finishNode(s,"LabeledStatement")},l.parseExpressionStatement=function(s,g){return s.expression=g,this.semicolon(),this.finishNode(s,"ExpressionStatement")},l.parseBlock=function(s,g,I){for(s===void 0&&(s=!0),g===void 0&&(g=this.startNode()),g.body=[],this.expect(O.braceL),s&&this.enterScope(0);this.type!==O.braceR;){var V=this.parseStatement(null);g.body.push(V)}return I&&(this.strict=!1),this.next(),s&&this.exitScope(),this.finishNode(g,"BlockStatement")},l.parseFor=function(s,g){return s.init=g,this.expect(O.semi),s.test=this.type===O.semi?null:this.parseExpression(),this.expect(O.semi),s.update=this.type===O.parenR?null:this.parseExpression(),this.expect(O.parenR),s.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(s,"ForStatement")},l.parseForIn=function(s,g){var I=this.type===O._in;return this.next(),g.type==="VariableDeclaration"&&g.declarations[0].init!=null&&(!I||this.options.ecmaVersion<8||this.strict||g.kind!=="var"||g.declarations[0].id.type!=="Identifier")&&this.raise(g.start,(I?"for-in":"for-of")+" loop variable declaration may not have an initializer"),s.left=g,s.right=I?this.parseExpression():this.parseMaybeAssign(),this.expect(O.parenR),s.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(s,I?"ForInStatement":"ForOfStatement")},l.parseVar=function(s,g,I){for(s.declarations=[],s.kind=I;;){var V=this.startNode();if(this.parseVarId(V,I),this.eat(O.eq)?V.init=this.parseMaybeAssign(g):I==="const"&&!(this.type===O._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():V.id.type!=="Identifier"&&!(g&&(this.type===O._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):V.init=null,s.declarations.push(this.finishNode(V,"VariableDeclarator")),!this.eat(O.comma))break}return s},l.parseVarId=function(s,g){s.id=this.parseBindingAtom(),this.checkLValPattern(s.id,g==="var"?li:gt,!1)};var _=1,b=2,E=4;l.parseFunction=function(s,g,I,V,ee){this.initFunction(s),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!V)&&(this.type===O.star&&g&b&&this.unexpected(),s.generator=this.eat(O.star)),this.options.ecmaVersion>=8&&(s.async=!!V),g&_&&(s.id=g&E&&this.type!==O.name?null:this.parseIdent(),s.id&&!(g&b)&&this.checkLValSimple(s.id,this.strict||s.generator||s.async?this.treatFunctionsAsVar?li:gt:Ni));var ye=this.yieldPos,Se=this.awaitPos,He=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(an(s.async,s.generator)),g&_||(s.id=this.type===O.name?this.parseIdent():null),this.parseFunctionParams(s),this.parseFunctionBody(s,I,!1,ee),this.yieldPos=ye,this.awaitPos=Se,this.awaitIdentPos=He,this.finishNode(s,g&_?"FunctionDeclaration":"FunctionExpression")},l.parseFunctionParams=function(s){this.expect(O.parenL),s.params=this.parseBindingList(O.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},l.parseClass=function(s,g){this.next();var I=this.strict;this.strict=!0,this.parseClassId(s,g),this.parseClassSuper(s);var V=this.enterClassBody(),ee=this.startNode(),ye=!1;for(ee.body=[],this.expect(O.braceL);this.type!==O.braceR;){var Se=this.parseClassElement(s.superClass!==null);Se&&(ee.body.push(Se),Se.type==="MethodDefinition"&&Se.kind==="constructor"?(ye&&this.raise(Se.start,"Duplicate constructor in the same class"),ye=!0):Se.key&&Se.key.type==="PrivateIdentifier"&&T(V,Se)&&this.raiseRecoverable(Se.key.start,"Identifier '#"+Se.key.name+"' has already been declared"))}return this.strict=I,this.next(),s.body=this.finishNode(ee,"ClassBody"),this.exitClassBody(),this.finishNode(s,g?"ClassDeclaration":"ClassExpression")},l.parseClassElement=function(s){if(this.eat(O.semi))return null;var g=this.options.ecmaVersion,I=this.startNode(),V="",ee=!1,ye=!1,Se="method",He=!1;if(this.eatContextual("static")){if(g>=13&&this.eat(O.braceL))return this.parseClassStaticBlock(I),I;this.isClassElementNameStart()||this.type===O.star?He=!0:V="static"}if(I.static=He,!V&&g>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===O.star)&&!this.canInsertSemicolon()?ye=!0:V="async"),!V&&(g>=9||!ye)&&this.eat(O.star)&&(ee=!0),!V&&!ye&&!ee){var je=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?Se=je:V=je)}if(V?(I.computed=!1,I.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),I.key.name=V,this.finishNode(I.key,"Identifier")):this.parseClassElementName(I),g<13||this.type===O.parenL||Se!=="method"||ee||ye){var bt=!I.static&&S(I,"constructor"),At=bt&&s;bt&&Se!=="method"&&this.raise(I.key.start,"Constructor can't have get/set modifier"),I.kind=bt?"constructor":Se,this.parseClassMethod(I,ee,ye,At)}else this.parseClassField(I);return I},l.isClassElementNameStart=function(){return this.type===O.name||this.type===O.privateId||this.type===O.num||this.type===O.string||this.type===O.bracketL||this.type.keyword},l.parseClassElementName=function(s){this.type===O.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),s.computed=!1,s.key=this.parsePrivateIdent()):this.parsePropertyName(s)},l.parseClassMethod=function(s,g,I,V){var ee=s.key;s.kind==="constructor"?(g&&this.raise(ee.start,"Constructor can't be a generator"),I&&this.raise(ee.start,"Constructor can't be an async method")):s.static&&S(s,"prototype")&&this.raise(ee.start,"Classes may not have a static property named prototype");var ye=s.value=this.parseMethod(g,I,V);return s.kind==="get"&&ye.params.length!==0&&this.raiseRecoverable(ye.start,"getter should have no params"),s.kind==="set"&&ye.params.length!==1&&this.raiseRecoverable(ye.start,"setter should have exactly one param"),s.kind==="set"&&ye.params[0].type==="RestElement"&&this.raiseRecoverable(ye.params[0].start,"Setter cannot use rest params"),this.finishNode(s,"MethodDefinition")},l.parseClassField=function(s){if(S(s,"constructor")?this.raise(s.key.start,"Classes can't have a field named 'constructor'"):s.static&&S(s,"prototype")&&this.raise(s.key.start,"Classes can't have a static field named 'prototype'"),this.eat(O.eq)){var g=this.currentThisScope(),I=g.inClassFieldInit;g.inClassFieldInit=!0,s.value=this.parseMaybeAssign(),g.inClassFieldInit=I}else s.value=null;return this.semicolon(),this.finishNode(s,"PropertyDefinition")},l.parseClassStaticBlock=function(s){s.body=[];var g=this.labels;for(this.labels=[],this.enterScope(ci|St);this.type!==O.braceR;){var I=this.parseStatement(null);s.body.push(I)}return this.next(),this.exitScope(),this.labels=g,this.finishNode(s,"StaticBlock")},l.parseClassId=function(s,g){this.type===O.name?(s.id=this.parseIdent(),g&&this.checkLValSimple(s.id,gt,!1)):(g===!0&&this.unexpected(),s.id=null)},l.parseClassSuper=function(s){s.superClass=this.eat(O._extends)?this.parseExprSubscripts(!1):null},l.enterClassBody=function(){var s={declared:Object.create(null),used:[]};return this.privateNameStack.push(s),s.declared},l.exitClassBody=function(){for(var s=this.privateNameStack.pop(),g=s.declared,I=s.used,V=this.privateNameStack.length,ee=V===0?null:this.privateNameStack[V-1],ye=0;ye<I.length;++ye){var Se=I[ye];Oe(g,Se.name)||(ee?ee.used.push(Se):this.raiseRecoverable(Se.start,"Private field '#"+Se.name+"' must be declared in an enclosing class"))}};function T(s,g){var I=g.key.name,V=s[I],ee="true";return g.type==="MethodDefinition"&&(g.kind==="get"||g.kind==="set")&&(ee=(g.static?"s":"i")+g.kind),V==="iget"&&ee==="iset"||V==="iset"&&ee==="iget"||V==="sget"&&ee==="sset"||V==="sset"&&ee==="sget"?(s[I]="true",!1):V?!0:(s[I]=ee,!1)}function S(s,g){var I=s.computed,V=s.key;return!I&&(V.type==="Identifier"&&V.name===g||V.type==="Literal"&&V.value===g)}l.parseExport=function(s,g){if(this.next(),this.eat(O.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(s.exported=this.parseModuleExportName(),this.checkExport(g,s.exported,this.lastTokStart)):s.exported=null),this.expectContextual("from"),this.type!==O.string&&this.unexpected(),s.source=this.parseExprAtom(),this.semicolon(),this.finishNode(s,"ExportAllDeclaration");if(this.eat(O._default)){this.checkExport(g,"default",this.lastTokStart);var I;if(this.type===O._function||(I=this.isAsyncFunction())){var V=this.startNode();this.next(),I&&this.next(),s.declaration=this.parseFunction(V,_|E,!1,I)}else if(this.type===O._class){var ee=this.startNode();s.declaration=this.parseClass(ee,"nullableID")}else s.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(s,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())s.declaration=this.parseStatement(null),s.declaration.type==="VariableDeclaration"?this.checkVariableExport(g,s.declaration.declarations):this.checkExport(g,s.declaration.id,s.declaration.id.start),s.specifiers=[],s.source=null;else{if(s.declaration=null,s.specifiers=this.parseExportSpecifiers(g),this.eatContextual("from"))this.type!==O.string&&this.unexpected(),s.source=this.parseExprAtom();else{for(var ye=0,Se=s.specifiers;ye<Se.length;ye+=1){var He=Se[ye];this.checkUnreserved(He.local),this.checkLocalExport(He.local),He.local.type==="Literal"&&this.raise(He.local.start,"A string literal cannot be used as an exported binding without `from`.")}s.source=null}this.semicolon()}return this.finishNode(s,"ExportNamedDeclaration")},l.checkExport=function(s,g,I){!s||(typeof g!="string"&&(g=g.type==="Identifier"?g.name:g.value),Oe(s,g)&&this.raiseRecoverable(I,"Duplicate export '"+g+"'"),s[g]=!0)},l.checkPatternExport=function(s,g){var I=g.type;if(I==="Identifier")this.checkExport(s,g,g.start);else if(I==="ObjectPattern")for(var V=0,ee=g.properties;V<ee.length;V+=1){var ye=ee[V];this.checkPatternExport(s,ye)}else if(I==="ArrayPattern")for(var Se=0,He=g.elements;Se<He.length;Se+=1){var je=He[Se];je&&this.checkPatternExport(s,je)}else I==="Property"?this.checkPatternExport(s,g.value):I==="AssignmentPattern"?this.checkPatternExport(s,g.left):I==="RestElement"?this.checkPatternExport(s,g.argument):I==="ParenthesizedExpression"&&this.checkPatternExport(s,g.expression)},l.checkVariableExport=function(s,g){if(!!s)for(var I=0,V=g;I<V.length;I+=1){var ee=V[I];this.checkPatternExport(s,ee.id)}},l.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},l.parseExportSpecifiers=function(s){var g=[],I=!0;for(this.expect(O.braceL);!this.eat(O.braceR);){if(I)I=!1;else if(this.expect(O.comma),this.afterTrailingComma(O.braceR))break;var V=this.startNode();V.local=this.parseModuleExportName(),V.exported=this.eatContextual("as")?this.parseModuleExportName():V.local,this.checkExport(s,V.exported,V.exported.start),g.push(this.finishNode(V,"ExportSpecifier"))}return g},l.parseImport=function(s){return this.next(),this.type===O.string?(s.specifiers=p,s.source=this.parseExprAtom()):(s.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),s.source=this.type===O.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(s,"ImportDeclaration")},l.parseImportSpecifiers=function(){var s=[],g=!0;if(this.type===O.name){var I=this.startNode();if(I.local=this.parseIdent(),this.checkLValSimple(I.local,gt),s.push(this.finishNode(I,"ImportDefaultSpecifier")),!this.eat(O.comma))return s}if(this.type===O.star){var V=this.startNode();return this.next(),this.expectContextual("as"),V.local=this.parseIdent(),this.checkLValSimple(V.local,gt),s.push(this.finishNode(V,"ImportNamespaceSpecifier")),s}for(this.expect(O.braceL);!this.eat(O.braceR);){if(g)g=!1;else if(this.expect(O.comma),this.afterTrailingComma(O.braceR))break;var ee=this.startNode();ee.imported=this.parseModuleExportName(),this.eatContextual("as")?ee.local=this.parseIdent():(this.checkUnreserved(ee.imported),ee.local=ee.imported),this.checkLValSimple(ee.local,gt),s.push(this.finishNode(ee,"ImportSpecifier"))}return s},l.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===O.string){var s=this.parseLiteral(this.value);return Ie.test(s.value)&&this.raise(s.start,"An export name cannot include a lone surrogate."),s}return this.parseIdent(!0)},l.adaptDirectivePrologue=function(s){for(var g=0;g<s.length&&this.isDirectiveCandidate(s[g]);++g)s[g].directive=s[g].expression.raw.slice(1,-1)},l.isDirectiveCandidate=function(s){return this.options.ecmaVersion>=5&&s.type==="ExpressionStatement"&&s.expression.type==="Literal"&&typeof s.expression.value=="string"&&(this.input[s.start]==='"'||this.input[s.start]==="'")};var x=Ue.prototype;x.toAssignable=function(s,g,I){if(this.options.ecmaVersion>=6&&s)switch(s.type){case"Identifier":this.inAsync&&s.name==="await"&&this.raise(s.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":s.type="ObjectPattern",I&&this.checkPatternErrors(I,!0);for(var V=0,ee=s.properties;V<ee.length;V+=1){var ye=ee[V];this.toAssignable(ye,g),ye.type==="RestElement"&&(ye.argument.type==="ArrayPattern"||ye.argument.type==="ObjectPattern")&&this.raise(ye.argument.start,"Unexpected token")}break;case"Property":s.kind!=="init"&&this.raise(s.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(s.value,g);break;case"ArrayExpression":s.type="ArrayPattern",I&&this.checkPatternErrors(I,!0),this.toAssignableList(s.elements,g);break;case"SpreadElement":s.type="RestElement",this.toAssignable(s.argument,g),s.argument.type==="AssignmentPattern"&&this.raise(s.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":s.operator!=="="&&this.raise(s.left.end,"Only '=' operator can be used for specifying default value."),s.type="AssignmentPattern",delete s.operator,this.toAssignable(s.left,g);break;case"ParenthesizedExpression":this.toAssignable(s.expression,g,I);break;case"ChainExpression":this.raiseRecoverable(s.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!g)break;default:this.raise(s.start,"Assigning to rvalue")}else I&&this.checkPatternErrors(I,!0);return s},x.toAssignableList=function(s,g){for(var I=s.length,V=0;V<I;V++){var ee=s[V];ee&&this.toAssignable(ee,g)}if(I){var ye=s[I-1];this.options.ecmaVersion===6&&g&&ye&&ye.type==="RestElement"&&ye.argument.type!=="Identifier"&&this.unexpected(ye.argument.start)}return s},x.parseSpread=function(s){var g=this.startNode();return this.next(),g.argument=this.parseMaybeAssign(!1,s),this.finishNode(g,"SpreadElement")},x.parseRestBinding=function(){var s=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==O.name&&this.unexpected(),s.argument=this.parseBindingAtom(),this.finishNode(s,"RestElement")},x.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case O.bracketL:var s=this.startNode();return this.next(),s.elements=this.parseBindingList(O.bracketR,!0,!0),this.finishNode(s,"ArrayPattern");case O.braceL:return this.parseObj(!0)}return this.parseIdent()},x.parseBindingList=function(s,g,I){for(var V=[],ee=!0;!this.eat(s);)if(ee?ee=!1:this.expect(O.comma),g&&this.type===O.comma)V.push(null);else{if(I&&this.afterTrailingComma(s))break;if(this.type===O.ellipsis){var ye=this.parseRestBinding();this.parseBindingListItem(ye),V.push(ye),this.type===O.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(s);break}else{var Se=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(Se),V.push(Se)}}return V},x.parseBindingListItem=function(s){return s},x.parseMaybeDefault=function(s,g,I){if(I=I||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(O.eq))return I;var V=this.startNodeAt(s,g);return V.left=I,V.right=this.parseMaybeAssign(),this.finishNode(V,"AssignmentPattern")},x.checkLValSimple=function(s,g,I){g===void 0&&(g=mn);var V=g!==mn;switch(s.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(s.name)&&this.raiseRecoverable(s.start,(V?"Binding ":"Assigning to ")+s.name+" in strict mode"),V&&(g===gt&&s.name==="let"&&this.raiseRecoverable(s.start,"let is disallowed as a lexically bound name"),I&&(Oe(I,s.name)&&this.raiseRecoverable(s.start,"Argument name clash"),I[s.name]=!0),g!==Ht&&this.declareName(s.name,g,s.start));break;case"ChainExpression":this.raiseRecoverable(s.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":V&&this.raiseRecoverable(s.start,"Binding member expression");break;case"ParenthesizedExpression":return V&&this.raiseRecoverable(s.start,"Binding parenthesized expression"),this.checkLValSimple(s.expression,g,I);default:this.raise(s.start,(V?"Binding":"Assigning to")+" rvalue")}},x.checkLValPattern=function(s,g,I){switch(g===void 0&&(g=mn),s.type){case"ObjectPattern":for(var V=0,ee=s.properties;V<ee.length;V+=1){var ye=ee[V];this.checkLValInnerPattern(ye,g,I)}break;case"ArrayPattern":for(var Se=0,He=s.elements;Se<He.length;Se+=1){var je=He[Se];je&&this.checkLValInnerPattern(je,g,I)}break;default:this.checkLValSimple(s,g,I)}},x.checkLValInnerPattern=function(s,g,I){switch(g===void 0&&(g=mn),s.type){case"Property":this.checkLValInnerPattern(s.value,g,I);break;case"AssignmentPattern":this.checkLValPattern(s.left,g,I);break;case"RestElement":this.checkLValPattern(s.argument,g,I);break;default:this.checkLValPattern(s,g,I)}};var M=function(g,I,V,ee,ye){this.token=g,this.isExpr=!!I,this.preserveSpace=!!V,this.override=ee,this.generator=!!ye},k={b_stat:new M("{",!1),b_expr:new M("{",!0),b_tmpl:new M("${",!1),p_stat:new M("(",!1),p_expr:new M("(",!0),q_tmpl:new M("`",!0,!0,function(s){return s.tryReadTemplateToken()}),f_stat:new M("function",!1),f_expr:new M("function",!0),f_expr_gen:new M("function",!0,!1,null,!0),f_gen:new M("function",!1,!1,null,!0)},R=Ue.prototype;R.initialContext=function(){return[k.b_stat]},R.curContext=function(){return this.context[this.context.length-1]},R.braceIsBlock=function(s){var g=this.curContext();return g===k.f_expr||g===k.f_stat?!0:s===O.colon&&(g===k.b_stat||g===k.b_expr)?!g.isExpr:s===O._return||s===O.name&&this.exprAllowed?Pe.test(this.input.slice(this.lastTokEnd,this.start)):s===O._else||s===O.semi||s===O.eof||s===O.parenR||s===O.arrow?!0:s===O.braceL?g===k.b_stat:s===O._var||s===O._const||s===O.name?!1:!this.exprAllowed},R.inGeneratorContext=function(){for(var s=this.context.length-1;s>=1;s--){var g=this.context[s];if(g.token==="function")return g.generator}return!1},R.updateContext=function(s){var g,I=this.type;I.keyword&&s===O.dot?this.exprAllowed=!1:(g=I.updateContext)?g.call(this,s):this.exprAllowed=I.beforeExpr},R.overrideContext=function(s){this.curContext()!==s&&(this.context[this.context.length-1]=s)},O.parenR.updateContext=O.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var s=this.context.pop();s===k.b_stat&&this.curContext().token==="function"&&(s=this.context.pop()),this.exprAllowed=!s.isExpr},O.braceL.updateContext=function(s){this.context.push(this.braceIsBlock(s)?k.b_stat:k.b_expr),this.exprAllowed=!0},O.dollarBraceL.updateContext=function(){this.context.push(k.b_tmpl),this.exprAllowed=!0},O.parenL.updateContext=function(s){var g=s===O._if||s===O._for||s===O._with||s===O._while;this.context.push(g?k.p_stat:k.p_expr),this.exprAllowed=!0},O.incDec.updateContext=function(){},O._function.updateContext=O._class.updateContext=function(s){s.beforeExpr&&s!==O._else&&!(s===O.semi&&this.curContext()!==k.p_stat)&&!(s===O._return&&Pe.test(this.input.slice(this.lastTokEnd,this.start)))&&!((s===O.colon||s===O.braceL)&&this.curContext()===k.b_stat)?this.context.push(k.f_expr):this.context.push(k.f_stat),this.exprAllowed=!1},O.backQuote.updateContext=function(){this.curContext()===k.q_tmpl?this.context.pop():this.context.push(k.q_tmpl),this.exprAllowed=!1},O.star.updateContext=function(s){if(s===O._function){var g=this.context.length-1;this.context[g]===k.f_expr?this.context[g]=k.f_expr_gen:this.context[g]=k.f_gen}this.exprAllowed=!0},O.name.updateContext=function(s){var g=!1;this.options.ecmaVersion>=6&&s!==O.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(g=!0),this.exprAllowed=g};var C=Ue.prototype;C.checkPropClash=function(s,g,I){if(!(this.options.ecmaVersion>=9&&s.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(s.computed||s.method||s.shorthand))){var V=s.key,ee;switch(V.type){case"Identifier":ee=V.name;break;case"Literal":ee=String(V.value);break;default:return}var ye=s.kind;if(this.options.ecmaVersion>=6){ee==="__proto__"&&ye==="init"&&(g.proto&&(I?I.doubleProto<0&&(I.doubleProto=V.start):this.raiseRecoverable(V.start,"Redefinition of __proto__ property")),g.proto=!0);return}ee="$"+ee;var Se=g[ee];if(Se){var He;ye==="init"?He=this.strict&&Se.init||Se.get||Se.set:He=Se.init||Se[ye],He&&this.raiseRecoverable(V.start,"Redefinition of property")}else Se=g[ee]={init:!1,get:!1,set:!1};Se[ye]=!0}},C.parseExpression=function(s,g){var I=this.start,V=this.startLoc,ee=this.parseMaybeAssign(s,g);if(this.type===O.comma){var ye=this.startNodeAt(I,V);for(ye.expressions=[ee];this.eat(O.comma);)ye.expressions.push(this.parseMaybeAssign(s,g));return this.finishNode(ye,"SequenceExpression")}return ee},C.parseMaybeAssign=function(s,g,I){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(s);this.exprAllowed=!1}var V=!1,ee=-1,ye=-1,Se=-1;g?(ee=g.parenthesizedAssign,ye=g.trailingComma,Se=g.doubleProto,g.parenthesizedAssign=g.trailingComma=-1):(g=new u,V=!0);var He=this.start,je=this.startLoc;(this.type===O.parenL||this.type===O.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=s==="await");var bt=this.parseMaybeConditional(s,g);if(I&&(bt=I.call(this,bt,He,je)),this.type.isAssign){var At=this.startNodeAt(He,je);return At.operator=this.value,this.type===O.eq&&(bt=this.toAssignable(bt,!1,g)),V||(g.parenthesizedAssign=g.trailingComma=g.doubleProto=-1),g.shorthandAssign>=bt.start&&(g.shorthandAssign=-1),this.type===O.eq?this.checkLValPattern(bt):this.checkLValSimple(bt),At.left=bt,this.next(),At.right=this.parseMaybeAssign(s),Se>-1&&(g.doubleProto=Se),this.finishNode(At,"AssignmentExpression")}else V&&this.checkExpressionErrors(g,!0);return ee>-1&&(g.parenthesizedAssign=ee),ye>-1&&(g.trailingComma=ye),bt},C.parseMaybeConditional=function(s,g){var I=this.start,V=this.startLoc,ee=this.parseExprOps(s,g);if(this.checkExpressionErrors(g))return ee;if(this.eat(O.question)){var ye=this.startNodeAt(I,V);return ye.test=ee,ye.consequent=this.parseMaybeAssign(),this.expect(O.colon),ye.alternate=this.parseMaybeAssign(s),this.finishNode(ye,"ConditionalExpression")}return ee},C.parseExprOps=function(s,g){var I=this.start,V=this.startLoc,ee=this.parseMaybeUnary(g,!1,!1,s);return this.checkExpressionErrors(g)||ee.start===I&&ee.type==="ArrowFunctionExpression"?ee:this.parseExprOp(ee,I,V,-1,s)},C.parseExprOp=function(s,g,I,V,ee){var ye=this.type.binop;if(ye!=null&&(!ee||this.type!==O._in)&&ye>V){var Se=this.type===O.logicalOR||this.type===O.logicalAND,He=this.type===O.coalesce;He&&(ye=O.logicalAND.binop);var je=this.value;this.next();var bt=this.start,At=this.startLoc,ri=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,ee),bt,At,ye,ee),Ti=this.buildBinary(g,I,s,ri,je,Se||He);return(Se&&this.type===O.coalesce||He&&(this.type===O.logicalOR||this.type===O.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(Ti,g,I,V,ee)}return s},C.buildBinary=function(s,g,I,V,ee,ye){V.type==="PrivateIdentifier"&&this.raise(V.start,"Private identifier can only be left side of binary expression");var Se=this.startNodeAt(s,g);return Se.left=I,Se.operator=ee,Se.right=V,this.finishNode(Se,ye?"LogicalExpression":"BinaryExpression")},C.parseMaybeUnary=function(s,g,I,V){var ee=this.start,ye=this.startLoc,Se;if(this.isContextual("await")&&this.canAwait)Se=this.parseAwait(V),g=!0;else if(this.type.prefix){var He=this.startNode(),je=this.type===O.incDec;He.operator=this.value,He.prefix=!0,this.next(),He.argument=this.parseMaybeUnary(null,!0,je,V),this.checkExpressionErrors(s,!0),je?this.checkLValSimple(He.argument):this.strict&&He.operator==="delete"&&He.argument.type==="Identifier"?this.raiseRecoverable(He.start,"Deleting local variable in strict mode"):He.operator==="delete"&&N(He.argument)?this.raiseRecoverable(He.start,"Private fields can not be deleted"):g=!0,Se=this.finishNode(He,je?"UpdateExpression":"UnaryExpression")}else if(!g&&this.type===O.privateId)(V||this.privateNameStack.length===0)&&this.unexpected(),Se=this.parsePrivateIdent(),this.type!==O._in&&this.unexpected();else{if(Se=this.parseExprSubscripts(s,V),this.checkExpressionErrors(s))return Se;for(;this.type.postfix&&!this.canInsertSemicolon();){var bt=this.startNodeAt(ee,ye);bt.operator=this.value,bt.prefix=!1,bt.argument=Se,this.checkLValSimple(Se),this.next(),Se=this.finishNode(bt,"UpdateExpression")}}if(!I&&this.eat(O.starstar))if(g)this.unexpected(this.lastTokStart);else return this.buildBinary(ee,ye,Se,this.parseMaybeUnary(null,!1,!1,V),"**",!1);else return Se};function N(s){return s.type==="MemberExpression"&&s.property.type==="PrivateIdentifier"||s.type==="ChainExpression"&&N(s.expression)}C.parseExprSubscripts=function(s,g){var I=this.start,V=this.startLoc,ee=this.parseExprAtom(s,g);if(ee.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return ee;var ye=this.parseSubscripts(ee,I,V,!1,g);return s&&ye.type==="MemberExpression"&&(s.parenthesizedAssign>=ye.start&&(s.parenthesizedAssign=-1),s.parenthesizedBind>=ye.start&&(s.parenthesizedBind=-1),s.trailingComma>=ye.start&&(s.trailingComma=-1)),ye},C.parseSubscripts=function(s,g,I,V,ee){for(var ye=this.options.ecmaVersion>=8&&s.type==="Identifier"&&s.name==="async"&&this.lastTokEnd===s.end&&!this.canInsertSemicolon()&&s.end-s.start===5&&this.potentialArrowAt===s.start,Se=!1;;){var He=this.parseSubscript(s,g,I,V,ye,Se,ee);if(He.optional&&(Se=!0),He===s||He.type==="ArrowFunctionExpression"){if(Se){var je=this.startNodeAt(g,I);je.expression=He,He=this.finishNode(je,"ChainExpression")}return He}s=He}},C.parseSubscript=function(s,g,I,V,ee,ye,Se){var He=this.options.ecmaVersion>=11,je=He&&this.eat(O.questionDot);V&&je&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var bt=this.eat(O.bracketL);if(bt||je&&this.type!==O.parenL&&this.type!==O.backQuote||this.eat(O.dot)){var At=this.startNodeAt(g,I);At.object=s,bt?(At.property=this.parseExpression(),this.expect(O.bracketR)):this.type===O.privateId&&s.type!=="Super"?At.property=this.parsePrivateIdent():At.property=this.parseIdent(this.options.allowReserved!=="never"),At.computed=!!bt,He&&(At.optional=je),s=this.finishNode(At,"MemberExpression")}else if(!V&&this.eat(O.parenL)){var ri=new u,Ti=this.yieldPos,un=this.awaitPos,Cn=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var qn=this.parseExprList(O.parenR,this.options.ecmaVersion>=8,!1,ri);if(ee&&!je&&!this.canInsertSemicolon()&&this.eat(O.arrow))return this.checkPatternErrors(ri,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=Ti,this.awaitPos=un,this.awaitIdentPos=Cn,this.parseArrowExpression(this.startNodeAt(g,I),qn,!0,Se);this.checkExpressionErrors(ri,!0),this.yieldPos=Ti||this.yieldPos,this.awaitPos=un||this.awaitPos,this.awaitIdentPos=Cn||this.awaitIdentPos;var vn=this.startNodeAt(g,I);vn.callee=s,vn.arguments=qn,He&&(vn.optional=je),s=this.finishNode(vn,"CallExpression")}else if(this.type===O.backQuote){(je||ye)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var Sn=this.startNodeAt(g,I);Sn.tag=s,Sn.quasi=this.parseTemplate({isTagged:!0}),s=this.finishNode(Sn,"TaggedTemplateExpression")}return s},C.parseExprAtom=function(s,g){this.type===O.slash&&this.readRegexp();var I,V=this.potentialArrowAt===this.start;switch(this.type){case O._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),I=this.startNode(),this.next(),this.type===O.parenL&&!this.allowDirectSuper&&this.raise(I.start,"super() call outside constructor of a subclass"),this.type!==O.dot&&this.type!==O.bracketL&&this.type!==O.parenL&&this.unexpected(),this.finishNode(I,"Super");case O._this:return I=this.startNode(),this.next(),this.finishNode(I,"ThisExpression");case O.name:var ee=this.start,ye=this.startLoc,Se=this.containsEsc,He=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!Se&&He.name==="async"&&!this.canInsertSemicolon()&&this.eat(O._function))return this.overrideContext(k.f_expr),this.parseFunction(this.startNodeAt(ee,ye),0,!1,!0,g);if(V&&!this.canInsertSemicolon()){if(this.eat(O.arrow))return this.parseArrowExpression(this.startNodeAt(ee,ye),[He],!1,g);if(this.options.ecmaVersion>=8&&He.name==="async"&&this.type===O.name&&!Se&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return He=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(O.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(ee,ye),[He],!0,g)}return He;case O.regexp:var je=this.value;return I=this.parseLiteral(je.value),I.regex={pattern:je.pattern,flags:je.flags},I;case O.num:case O.string:return this.parseLiteral(this.value);case O._null:case O._true:case O._false:return I=this.startNode(),I.value=this.type===O._null?null:this.type===O._true,I.raw=this.type.keyword,this.next(),this.finishNode(I,"Literal");case O.parenL:var bt=this.start,At=this.parseParenAndDistinguishExpression(V,g);return s&&(s.parenthesizedAssign<0&&!this.isSimpleAssignTarget(At)&&(s.parenthesizedAssign=bt),s.parenthesizedBind<0&&(s.parenthesizedBind=bt)),At;case O.bracketL:return I=this.startNode(),this.next(),I.elements=this.parseExprList(O.bracketR,!0,!0,s),this.finishNode(I,"ArrayExpression");case O.braceL:return this.overrideContext(k.b_expr),this.parseObj(!1,s);case O._function:return I=this.startNode(),this.next(),this.parseFunction(I,0);case O._class:return this.parseClass(this.startNode(),!1);case O._new:return this.parseNew();case O.backQuote:return this.parseTemplate();case O._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},C.parseExprImport=function(){var s=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var g=this.parseIdent(!0);switch(this.type){case O.parenL:return this.parseDynamicImport(s);case O.dot:return s.meta=g,this.parseImportMeta(s);default:this.unexpected()}},C.parseDynamicImport=function(s){if(this.next(),s.source=this.parseMaybeAssign(),!this.eat(O.parenR)){var g=this.start;this.eat(O.comma)&&this.eat(O.parenR)?this.raiseRecoverable(g,"Trailing comma is not allowed in import()"):this.unexpected(g)}return this.finishNode(s,"ImportExpression")},C.parseImportMeta=function(s){this.next();var g=this.containsEsc;return s.property=this.parseIdent(!0),s.property.name!=="meta"&&this.raiseRecoverable(s.property.start,"The only valid meta property for import is 'import.meta'"),g&&this.raiseRecoverable(s.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(s.start,"Cannot use 'import.meta' outside a module"),this.finishNode(s,"MetaProperty")},C.parseLiteral=function(s){var g=this.startNode();return g.value=s,g.raw=this.input.slice(this.start,this.end),g.raw.charCodeAt(g.raw.length-1)===110&&(g.bigint=g.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(g,"Literal")},C.parseParenExpression=function(){this.expect(O.parenL);var s=this.parseExpression();return this.expect(O.parenR),s},C.parseParenAndDistinguishExpression=function(s,g){var I=this.start,V=this.startLoc,ee,ye=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var Se=this.start,He=this.startLoc,je=[],bt=!0,At=!1,ri=new u,Ti=this.yieldPos,un=this.awaitPos,Cn;for(this.yieldPos=0,this.awaitPos=0;this.type!==O.parenR;)if(bt?bt=!1:this.expect(O.comma),ye&&this.afterTrailingComma(O.parenR,!0)){At=!0;break}else if(this.type===O.ellipsis){Cn=this.start,je.push(this.parseParenItem(this.parseRestBinding())),this.type===O.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else je.push(this.parseMaybeAssign(!1,ri,this.parseParenItem));var qn=this.lastTokEnd,vn=this.lastTokEndLoc;if(this.expect(O.parenR),s&&!this.canInsertSemicolon()&&this.eat(O.arrow))return this.checkPatternErrors(ri,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=Ti,this.awaitPos=un,this.parseParenArrowList(I,V,je,g);(!je.length||At)&&this.unexpected(this.lastTokStart),Cn&&this.unexpected(Cn),this.checkExpressionErrors(ri,!0),this.yieldPos=Ti||this.yieldPos,this.awaitPos=un||this.awaitPos,je.length>1?(ee=this.startNodeAt(Se,He),ee.expressions=je,this.finishNodeAt(ee,"SequenceExpression",qn,vn)):ee=je[0]}else ee=this.parseParenExpression();if(this.options.preserveParens){var Sn=this.startNodeAt(I,V);return Sn.expression=ee,this.finishNode(Sn,"ParenthesizedExpression")}else return ee},C.parseParenItem=function(s){return s},C.parseParenArrowList=function(s,g,I,V){return this.parseArrowExpression(this.startNodeAt(s,g),I,!1,V)};var w=[];C.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var s=this.startNode(),g=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(O.dot)){s.meta=g;var I=this.containsEsc;return s.property=this.parseIdent(!0),s.property.name!=="target"&&this.raiseRecoverable(s.property.start,"The only valid meta property for new is 'new.target'"),I&&this.raiseRecoverable(s.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(s.start,"'new.target' can only be used in functions and class static block"),this.finishNode(s,"MetaProperty")}var V=this.start,ee=this.startLoc,ye=this.type===O._import;return s.callee=this.parseSubscripts(this.parseExprAtom(),V,ee,!0,!1),ye&&s.callee.type==="ImportExpression"&&this.raise(V,"Cannot use new with import()"),this.eat(O.parenL)?s.arguments=this.parseExprList(O.parenR,this.options.ecmaVersion>=8,!1):s.arguments=w,this.finishNode(s,"NewExpression")},C.parseTemplateElement=function(s){var g=s.isTagged,I=this.startNode();return this.type===O.invalidTemplate?(g||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),I.value={raw:this.value,cooked:null}):I.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),I.tail=this.type===O.backQuote,this.finishNode(I,"TemplateElement")},C.parseTemplate=function(s){s===void 0&&(s={});var g=s.isTagged;g===void 0&&(g=!1);var I=this.startNode();this.next(),I.expressions=[];var V=this.parseTemplateElement({isTagged:g});for(I.quasis=[V];!V.tail;)this.type===O.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(O.dollarBraceL),I.expressions.push(this.parseExpression()),this.expect(O.braceR),I.quasis.push(V=this.parseTemplateElement({isTagged:g}));return this.next(),this.finishNode(I,"TemplateLiteral")},C.isAsyncProp=function(s){return!s.computed&&s.key.type==="Identifier"&&s.key.name==="async"&&(this.type===O.name||this.type===O.num||this.type===O.string||this.type===O.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===O.star)&&!Pe.test(this.input.slice(this.lastTokEnd,this.start))},C.parseObj=function(s,g){var I=this.startNode(),V=!0,ee={};for(I.properties=[],this.next();!this.eat(O.braceR);){if(V)V=!1;else if(this.expect(O.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(O.braceR))break;var ye=this.parseProperty(s,g);s||this.checkPropClash(ye,ee,g),I.properties.push(ye)}return this.finishNode(I,s?"ObjectPattern":"ObjectExpression")},C.parseProperty=function(s,g){var I=this.startNode(),V,ee,ye,Se;if(this.options.ecmaVersion>=9&&this.eat(O.ellipsis))return s?(I.argument=this.parseIdent(!1),this.type===O.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(I,"RestElement")):(I.argument=this.parseMaybeAssign(!1,g),this.type===O.comma&&g&&g.trailingComma<0&&(g.trailingComma=this.start),this.finishNode(I,"SpreadElement"));this.options.ecmaVersion>=6&&(I.method=!1,I.shorthand=!1,(s||g)&&(ye=this.start,Se=this.startLoc),s||(V=this.eat(O.star)));var He=this.containsEsc;return this.parsePropertyName(I),!s&&!He&&this.options.ecmaVersion>=8&&!V&&this.isAsyncProp(I)?(ee=!0,V=this.options.ecmaVersion>=9&&this.eat(O.star),this.parsePropertyName(I,g)):ee=!1,this.parsePropertyValue(I,s,V,ee,ye,Se,g,He),this.finishNode(I,"Property")},C.parsePropertyValue=function(s,g,I,V,ee,ye,Se,He){if((I||V)&&this.type===O.colon&&this.unexpected(),this.eat(O.colon))s.value=g?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,Se),s.kind="init";else if(this.options.ecmaVersion>=6&&this.type===O.parenL)g&&this.unexpected(),s.kind="init",s.method=!0,s.value=this.parseMethod(I,V);else if(!g&&!He&&this.options.ecmaVersion>=5&&!s.computed&&s.key.type==="Identifier"&&(s.key.name==="get"||s.key.name==="set")&&this.type!==O.comma&&this.type!==O.braceR&&this.type!==O.eq){(I||V)&&this.unexpected(),s.kind=s.key.name,this.parsePropertyName(s),s.value=this.parseMethod(!1);var je=s.kind==="get"?0:1;if(s.value.params.length!==je){var bt=s.value.start;s.kind==="get"?this.raiseRecoverable(bt,"getter should have no params"):this.raiseRecoverable(bt,"setter should have exactly one param")}else s.kind==="set"&&s.value.params[0].type==="RestElement"&&this.raiseRecoverable(s.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!s.computed&&s.key.type==="Identifier"?((I||V)&&this.unexpected(),this.checkUnreserved(s.key),s.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=ee),s.kind="init",g?s.value=this.parseMaybeDefault(ee,ye,this.copyNode(s.key)):this.type===O.eq&&Se?(Se.shorthandAssign<0&&(Se.shorthandAssign=this.start),s.value=this.parseMaybeDefault(ee,ye,this.copyNode(s.key))):s.value=this.copyNode(s.key),s.shorthand=!0):this.unexpected()},C.parsePropertyName=function(s){if(this.options.ecmaVersion>=6){if(this.eat(O.bracketL))return s.computed=!0,s.key=this.parseMaybeAssign(),this.expect(O.bracketR),s.key;s.computed=!1}return s.key=this.type===O.num||this.type===O.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},C.initFunction=function(s){s.id=null,this.options.ecmaVersion>=6&&(s.generator=s.expression=!1),this.options.ecmaVersion>=8&&(s.async=!1)},C.parseMethod=function(s,g,I){var V=this.startNode(),ee=this.yieldPos,ye=this.awaitPos,Se=this.awaitIdentPos;return this.initFunction(V),this.options.ecmaVersion>=6&&(V.generator=s),this.options.ecmaVersion>=8&&(V.async=!!g),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(an(g,V.generator)|St|(I?Kt:0)),this.expect(O.parenL),V.params=this.parseBindingList(O.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(V,!1,!0,!1),this.yieldPos=ee,this.awaitPos=ye,this.awaitIdentPos=Se,this.finishNode(V,"FunctionExpression")},C.parseArrowExpression=function(s,g,I,V){var ee=this.yieldPos,ye=this.awaitPos,Se=this.awaitIdentPos;return this.enterScope(an(I,!1)|Li),this.initFunction(s),this.options.ecmaVersion>=8&&(s.async=!!I),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,s.params=this.toAssignableList(g,!0),this.parseFunctionBody(s,!0,!1,V),this.yieldPos=ee,this.awaitPos=ye,this.awaitIdentPos=Se,this.finishNode(s,"ArrowFunctionExpression")},C.parseFunctionBody=function(s,g,I,V){var ee=g&&this.type!==O.braceL,ye=this.strict,Se=!1;if(ee)s.body=this.parseMaybeAssign(V),s.expression=!0,this.checkParams(s,!1);else{var He=this.options.ecmaVersion>=7&&!this.isSimpleParamList(s.params);(!ye||He)&&(Se=this.strictDirective(this.end),Se&&He&&this.raiseRecoverable(s.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var je=this.labels;this.labels=[],Se&&(this.strict=!0),this.checkParams(s,!ye&&!Se&&!g&&!I&&this.isSimpleParamList(s.params)),this.strict&&s.id&&this.checkLValSimple(s.id,Ht),s.body=this.parseBlock(!1,void 0,Se&&!ye),s.expression=!1,this.adaptDirectivePrologue(s.body.body),this.labels=je}this.exitScope()},C.isSimpleParamList=function(s){for(var g=0,I=s;g<I.length;g+=1){var V=I[g];if(V.type!=="Identifier")return!1}return!0},C.checkParams=function(s,g){for(var I=Object.create(null),V=0,ee=s.params;V<ee.length;V+=1){var ye=ee[V];this.checkLValInnerPattern(ye,li,g?null:I)}},C.parseExprList=function(s,g,I,V){for(var ee=[],ye=!0;!this.eat(s);){if(ye)ye=!1;else if(this.expect(O.comma),g&&this.afterTrailingComma(s))break;var Se=void 0;I&&this.type===O.comma?Se=null:this.type===O.ellipsis?(Se=this.parseSpread(V),V&&this.type===O.comma&&V.trailingComma<0&&(V.trailingComma=this.start)):Se=this.parseMaybeAssign(!1,V),ee.push(Se)}return ee},C.checkUnreserved=function(s){var g=s.start,I=s.end,V=s.name;if(this.inGenerator&&V==="yield"&&this.raiseRecoverable(g,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&V==="await"&&this.raiseRecoverable(g,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&V==="arguments"&&this.raiseRecoverable(g,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(V==="arguments"||V==="await")&&this.raise(g,"Cannot use "+V+" in class static initialization block"),this.keywords.test(V)&&this.raise(g,"Unexpected keyword '"+V+"'"),!(this.options.ecmaVersion<6&&this.input.slice(g,I).indexOf("\\")!==-1)){var ee=this.strict?this.reservedWordsStrict:this.reservedWords;ee.test(V)&&(!this.inAsync&&V==="await"&&this.raiseRecoverable(g,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(g,"The keyword '"+V+"' is reserved"))}},C.parseIdent=function(s,g){var I=this.startNode();return this.type===O.name?I.name=this.value:this.type.keyword?(I.name=this.type.keyword,(I.name==="class"||I.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!s),this.finishNode(I,"Identifier"),s||(this.checkUnreserved(I),I.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=I.start)),I},C.parsePrivateIdent=function(){var s=this.startNode();return this.type===O.privateId?s.name=this.value:this.unexpected(),this.next(),this.finishNode(s,"PrivateIdentifier"),this.privateNameStack.length===0?this.raise(s.start,"Private field '#"+s.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(s),s},C.parseYield=function(s){this.yieldPos||(this.yieldPos=this.start);var g=this.startNode();return this.next(),this.type===O.semi||this.canInsertSemicolon()||this.type!==O.star&&!this.type.startsExpr?(g.delegate=!1,g.argument=null):(g.delegate=this.eat(O.star),g.argument=this.parseMaybeAssign(s)),this.finishNode(g,"YieldExpression")},C.parseAwait=function(s){this.awaitPos||(this.awaitPos=this.start);var g=this.startNode();return this.next(),g.argument=this.parseMaybeUnary(null,!0,!1,s),this.finishNode(g,"AwaitExpression")};var L=Ue.prototype;L.raise=function(s,g){var I=pt(this.input,s);g+=" ("+I.line+":"+I.column+")";var V=new SyntaxError(g);throw V.pos=s,V.loc=I,V.raisedAt=this.pos,V},L.raiseRecoverable=L.raise,L.curPosition=function(){if(this.options.locations)return new Ke(this.curLine,this.pos-this.lineStart)};var B=Ue.prototype,U=function(g){this.flags=g,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};B.enterScope=function(s){this.scopeStack.push(new U(s))},B.exitScope=function(){this.scopeStack.pop()},B.treatFunctionsAsVarInScope=function(s){return s.flags&dt||!this.inModule&&s.flags&Dt},B.declareName=function(s,g,I){var V=!1;if(g===gt){var ee=this.currentScope();V=ee.lexical.indexOf(s)>-1||ee.functions.indexOf(s)>-1||ee.var.indexOf(s)>-1,ee.lexical.push(s),this.inModule&&ee.flags&Dt&&delete this.undefinedExports[s]}else if(g===ft){var ye=this.currentScope();ye.lexical.push(s)}else if(g===Ni){var Se=this.currentScope();this.treatFunctionsAsVar?V=Se.lexical.indexOf(s)>-1:V=Se.lexical.indexOf(s)>-1||Se.var.indexOf(s)>-1,Se.functions.push(s)}else for(var He=this.scopeStack.length-1;He>=0;--He){var je=this.scopeStack[He];if(je.lexical.indexOf(s)>-1&&!(je.flags&ot&&je.lexical[0]===s)||!this.treatFunctionsAsVarInScope(je)&&je.functions.indexOf(s)>-1){V=!0;break}if(je.var.push(s),this.inModule&&je.flags&Dt&&delete this.undefinedExports[s],je.flags&wi)break}V&&this.raiseRecoverable(I,"Identifier '"+s+"' has already been declared")},B.checkLocalExport=function(s){this.scopeStack[0].lexical.indexOf(s.name)===-1&&this.scopeStack[0].var.indexOf(s.name)===-1&&(this.undefinedExports[s.name]=s)},B.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},B.currentVarScope=function(){for(var s=this.scopeStack.length-1;;s--){var g=this.scopeStack[s];if(g.flags&wi)return g}},B.currentThisScope=function(){for(var s=this.scopeStack.length-1;;s--){var g=this.scopeStack[s];if(g.flags&wi&&!(g.flags&Li))return g}};var F=function(g,I,V){this.type="",this.start=I,this.end=0,g.options.locations&&(this.loc=new ct(g,V)),g.options.directSourceFile&&(this.sourceFile=g.options.directSourceFile),g.options.ranges&&(this.range=[I,0])},W=Ue.prototype;W.startNode=function(){return new F(this,this.start,this.startLoc)},W.startNodeAt=function(s,g){return new F(this,s,g)};function j(s,g,I,V){return s.type=g,s.end=I,this.options.locations&&(s.loc.end=V),this.options.ranges&&(s.range[1]=I),s}W.finishNode=function(s,g){return j.call(this,s,g,this.lastTokEnd,this.lastTokEndLoc)},W.finishNodeAt=function(s,g,I,V){return j.call(this,s,g,I,V)},W.copyNode=function(s){var g=new F(this,s.start,this.startLoc);for(var I in s)g[I]=s[I];return g};var J="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",re=J+" Extended_Pictographic",Y=re,se=Y+" EBase EComp EMod EPres ExtPict",ue=se,de={9:J,10:re,11:Y,12:se,13:ue},pe="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",we="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Be=we+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",$e=Be+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Ze=$e+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",tt=Ze+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",ke={9:we,10:Be,11:$e,12:Ze,13:tt},Ne={};function Ye(s){var g=Ne[s]={binary:Me(de[s]+" "+pe),nonBinary:{General_Category:Me(pe),Script:Me(ke[s])}};g.nonBinary.Script_Extensions=g.nonBinary.Script,g.nonBinary.gc=g.nonBinary.General_Category,g.nonBinary.sc=g.nonBinary.Script,g.nonBinary.scx=g.nonBinary.Script_Extensions}for(var it=0,nt=[9,10,11,12,13];it<nt.length;it+=1){var _t=nt[it];Ye(_t)}var ze=Ue.prototype,mt=function(g){this.parser=g,this.validFlags="gim"+(g.options.ecmaVersion>=6?"uy":"")+(g.options.ecmaVersion>=9?"s":"")+(g.options.ecmaVersion>=13?"d":""),this.unicodeProperties=Ne[g.options.ecmaVersion>=13?13:g.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};mt.prototype.reset=function(g,I,V){var ee=V.indexOf("u")!==-1;this.start=g|0,this.source=I+"",this.flags=V,this.switchU=ee&&this.parser.options.ecmaVersion>=6,this.switchN=ee&&this.parser.options.ecmaVersion>=9},mt.prototype.raise=function(g){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+g)},mt.prototype.at=function(g,I){I===void 0&&(I=!1);var V=this.source,ee=V.length;if(g>=ee)return-1;var ye=V.charCodeAt(g);if(!(I||this.switchU)||ye<=55295||ye>=57344||g+1>=ee)return ye;var Se=V.charCodeAt(g+1);return Se>=56320&&Se<=57343?(ye<<10)+Se-56613888:ye},mt.prototype.nextIndex=function(g,I){I===void 0&&(I=!1);var V=this.source,ee=V.length;if(g>=ee)return ee;var ye=V.charCodeAt(g),Se;return!(I||this.switchU)||ye<=55295||ye>=57344||g+1>=ee||(Se=V.charCodeAt(g+1))<56320||Se>57343?g+1:g+2},mt.prototype.current=function(g){return g===void 0&&(g=!1),this.at(this.pos,g)},mt.prototype.lookahead=function(g){return g===void 0&&(g=!1),this.at(this.nextIndex(this.pos,g),g)},mt.prototype.advance=function(g){g===void 0&&(g=!1),this.pos=this.nextIndex(this.pos,g)},mt.prototype.eat=function(g,I){return I===void 0&&(I=!1),this.current(I)===g?(this.advance(I),!0):!1},ze.validateRegExpFlags=function(s){for(var g=s.validFlags,I=s.flags,V=0;V<I.length;V++){var ee=I.charAt(V);g.indexOf(ee)===-1&&this.raise(s.start,"Invalid regular expression flag"),I.indexOf(ee,V+1)>-1&&this.raise(s.start,"Duplicate regular expression flag")}},ze.validateRegExpPattern=function(s){this.regexp_pattern(s),!s.switchN&&this.options.ecmaVersion>=9&&s.groupNames.length>0&&(s.switchN=!0,this.regexp_pattern(s))},ze.regexp_pattern=function(s){s.pos=0,s.lastIntValue=0,s.lastStringValue="",s.lastAssertionIsQuantifiable=!1,s.numCapturingParens=0,s.maxBackReference=0,s.groupNames.length=0,s.backReferenceNames.length=0,this.regexp_disjunction(s),s.pos!==s.source.length&&(s.eat(41)&&s.raise("Unmatched ')'"),(s.eat(93)||s.eat(125))&&s.raise("Lone quantifier brackets")),s.maxBackReference>s.numCapturingParens&&s.raise("Invalid escape");for(var g=0,I=s.backReferenceNames;g<I.length;g+=1){var V=I[g];s.groupNames.indexOf(V)===-1&&s.raise("Invalid named capture referenced")}},ze.regexp_disjunction=function(s){for(this.regexp_alternative(s);s.eat(124);)this.regexp_alternative(s);this.regexp_eatQuantifier(s,!0)&&s.raise("Nothing to repeat"),s.eat(123)&&s.raise("Lone quantifier brackets")},ze.regexp_alternative=function(s){for(;s.pos<s.source.length&&this.regexp_eatTerm(s););},ze.regexp_eatTerm=function(s){return this.regexp_eatAssertion(s)?(s.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(s)&&s.switchU&&s.raise("Invalid quantifier"),!0):(s.switchU?this.regexp_eatAtom(s):this.regexp_eatExtendedAtom(s))?(this.regexp_eatQuantifier(s),!0):!1},ze.regexp_eatAssertion=function(s){var g=s.pos;if(s.lastAssertionIsQuantifiable=!1,s.eat(94)||s.eat(36))return!0;if(s.eat(92)){if(s.eat(66)||s.eat(98))return!0;s.pos=g}if(s.eat(40)&&s.eat(63)){var I=!1;if(this.options.ecmaVersion>=9&&(I=s.eat(60)),s.eat(61)||s.eat(33))return this.regexp_disjunction(s),s.eat(41)||s.raise("Unterminated group"),s.lastAssertionIsQuantifiable=!I,!0}return s.pos=g,!1},ze.regexp_eatQuantifier=function(s,g){return g===void 0&&(g=!1),this.regexp_eatQuantifierPrefix(s,g)?(s.eat(63),!0):!1},ze.regexp_eatQuantifierPrefix=function(s,g){return s.eat(42)||s.eat(43)||s.eat(63)||this.regexp_eatBracedQuantifier(s,g)},ze.regexp_eatBracedQuantifier=function(s,g){var I=s.pos;if(s.eat(123)){var V=0,ee=-1;if(this.regexp_eatDecimalDigits(s)&&(V=s.lastIntValue,s.eat(44)&&this.regexp_eatDecimalDigits(s)&&(ee=s.lastIntValue),s.eat(125)))return ee!==-1&&ee<V&&!g&&s.raise("numbers out of order in {} quantifier"),!0;s.switchU&&!g&&s.raise("Incomplete quantifier"),s.pos=I}return!1},ze.regexp_eatAtom=function(s){return this.regexp_eatPatternCharacters(s)||s.eat(46)||this.regexp_eatReverseSolidusAtomEscape(s)||this.regexp_eatCharacterClass(s)||this.regexp_eatUncapturingGroup(s)||this.regexp_eatCapturingGroup(s)},ze.regexp_eatReverseSolidusAtomEscape=function(s){var g=s.pos;if(s.eat(92)){if(this.regexp_eatAtomEscape(s))return!0;s.pos=g}return!1},ze.regexp_eatUncapturingGroup=function(s){var g=s.pos;if(s.eat(40)){if(s.eat(63)&&s.eat(58)){if(this.regexp_disjunction(s),s.eat(41))return!0;s.raise("Unterminated group")}s.pos=g}return!1},ze.regexp_eatCapturingGroup=function(s){if(s.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(s):s.current()===63&&s.raise("Invalid group"),this.regexp_disjunction(s),s.eat(41))return s.numCapturingParens+=1,!0;s.raise("Unterminated group")}return!1},ze.regexp_eatExtendedAtom=function(s){return s.eat(46)||this.regexp_eatReverseSolidusAtomEscape(s)||this.regexp_eatCharacterClass(s)||this.regexp_eatUncapturingGroup(s)||this.regexp_eatCapturingGroup(s)||this.regexp_eatInvalidBracedQuantifier(s)||this.regexp_eatExtendedPatternCharacter(s)},ze.regexp_eatInvalidBracedQuantifier=function(s){return this.regexp_eatBracedQuantifier(s,!0)&&s.raise("Nothing to repeat"),!1},ze.regexp_eatSyntaxCharacter=function(s){var g=s.current();return Rt(g)?(s.lastIntValue=g,s.advance(),!0):!1};function Rt(s){return s===36||s>=40&&s<=43||s===46||s===63||s>=91&&s<=94||s>=123&&s<=125}ze.regexp_eatPatternCharacters=function(s){for(var g=s.pos,I=0;(I=s.current())!==-1&&!Rt(I);)s.advance();return s.pos!==g},ze.regexp_eatExtendedPatternCharacter=function(s){var g=s.current();return g!==-1&&g!==36&&!(g>=40&&g<=43)&&g!==46&&g!==63&&g!==91&&g!==94&&g!==124?(s.advance(),!0):!1},ze.regexp_groupSpecifier=function(s){if(s.eat(63)){if(this.regexp_eatGroupName(s)){s.groupNames.indexOf(s.lastStringValue)!==-1&&s.raise("Duplicate capture group name"),s.groupNames.push(s.lastStringValue);return}s.raise("Invalid group")}},ze.regexp_eatGroupName=function(s){if(s.lastStringValue="",s.eat(60)){if(this.regexp_eatRegExpIdentifierName(s)&&s.eat(62))return!0;s.raise("Invalid capture group name")}return!1},ze.regexp_eatRegExpIdentifierName=function(s){if(s.lastStringValue="",this.regexp_eatRegExpIdentifierStart(s)){for(s.lastStringValue+=xe(s.lastIntValue);this.regexp_eatRegExpIdentifierPart(s);)s.lastStringValue+=xe(s.lastIntValue);return!0}return!1},ze.regexp_eatRegExpIdentifierStart=function(s){var g=s.pos,I=this.options.ecmaVersion>=11,V=s.current(I);return s.advance(I),V===92&&this.regexp_eatRegExpUnicodeEscapeSequence(s,I)&&(V=s.lastIntValue),kt(V)?(s.lastIntValue=V,!0):(s.pos=g,!1)};function kt(s){return X(s,!0)||s===36||s===95}ze.regexp_eatRegExpIdentifierPart=function(s){var g=s.pos,I=this.options.ecmaVersion>=11,V=s.current(I);return s.advance(I),V===92&&this.regexp_eatRegExpUnicodeEscapeSequence(s,I)&&(V=s.lastIntValue),_i(V)?(s.lastIntValue=V,!0):(s.pos=g,!1)};function _i(s){return K(s,!0)||s===36||s===95||s===8204||s===8205}ze.regexp_eatAtomEscape=function(s){return this.regexp_eatBackReference(s)||this.regexp_eatCharacterClassEscape(s)||this.regexp_eatCharacterEscape(s)||s.switchN&&this.regexp_eatKGroupName(s)?!0:(s.switchU&&(s.current()===99&&s.raise("Invalid unicode escape"),s.raise("Invalid escape")),!1)},ze.regexp_eatBackReference=function(s){var g=s.pos;if(this.regexp_eatDecimalEscape(s)){var I=s.lastIntValue;if(s.switchU)return I>s.maxBackReference&&(s.maxBackReference=I),!0;if(I<=s.numCapturingParens)return!0;s.pos=g}return!1},ze.regexp_eatKGroupName=function(s){if(s.eat(107)){if(this.regexp_eatGroupName(s))return s.backReferenceNames.push(s.lastStringValue),!0;s.raise("Invalid named reference")}return!1},ze.regexp_eatCharacterEscape=function(s){return this.regexp_eatControlEscape(s)||this.regexp_eatCControlLetter(s)||this.regexp_eatZero(s)||this.regexp_eatHexEscapeSequence(s)||this.regexp_eatRegExpUnicodeEscapeSequence(s,!1)||!s.switchU&&this.regexp_eatLegacyOctalEscapeSequence(s)||this.regexp_eatIdentityEscape(s)},ze.regexp_eatCControlLetter=function(s){var g=s.pos;if(s.eat(99)){if(this.regexp_eatControlLetter(s))return!0;s.pos=g}return!1},ze.regexp_eatZero=function(s){return s.current()===48&&!Ai(s.lookahead())?(s.lastIntValue=0,s.advance(),!0):!1},ze.regexp_eatControlEscape=function(s){var g=s.current();return g===116?(s.lastIntValue=9,s.advance(),!0):g===110?(s.lastIntValue=10,s.advance(),!0):g===118?(s.lastIntValue=11,s.advance(),!0):g===102?(s.lastIntValue=12,s.advance(),!0):g===114?(s.lastIntValue=13,s.advance(),!0):!1},ze.regexp_eatControlLetter=function(s){var g=s.current();return gi(g)?(s.lastIntValue=g%32,s.advance(),!0):!1};function gi(s){return s>=65&&s<=90||s>=97&&s<=122}ze.regexp_eatRegExpUnicodeEscapeSequence=function(s,g){g===void 0&&(g=!1);var I=s.pos,V=g||s.switchU;if(s.eat(117)){if(this.regexp_eatFixedHexDigits(s,4)){var ee=s.lastIntValue;if(V&&ee>=55296&&ee<=56319){var ye=s.pos;if(s.eat(92)&&s.eat(117)&&this.regexp_eatFixedHexDigits(s,4)){var Se=s.lastIntValue;if(Se>=56320&&Se<=57343)return s.lastIntValue=(ee-55296)*1024+(Se-56320)+65536,!0}s.pos=ye,s.lastIntValue=ee}return!0}if(V&&s.eat(123)&&this.regexp_eatHexDigits(s)&&s.eat(125)&&xi(s.lastIntValue))return!0;V&&s.raise("Invalid unicode escape"),s.pos=I}return!1};function xi(s){return s>=0&&s<=1114111}ze.regexp_eatIdentityEscape=function(s){if(s.switchU)return this.regexp_eatSyntaxCharacter(s)?!0:s.eat(47)?(s.lastIntValue=47,!0):!1;var g=s.current();return g!==99&&(!s.switchN||g!==107)?(s.lastIntValue=g,s.advance(),!0):!1},ze.regexp_eatDecimalEscape=function(s){s.lastIntValue=0;var g=s.current();if(g>=49&&g<=57){do s.lastIntValue=10*s.lastIntValue+(g-48),s.advance();while((g=s.current())>=48&&g<=57);return!0}return!1},ze.regexp_eatCharacterClassEscape=function(s){var g=s.current();if(fi(g))return s.lastIntValue=-1,s.advance(),!0;if(s.switchU&&this.options.ecmaVersion>=9&&(g===80||g===112)){if(s.lastIntValue=-1,s.advance(),s.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(s)&&s.eat(125))return!0;s.raise("Invalid property name")}return!1};function fi(s){return s===100||s===68||s===115||s===83||s===119||s===87}ze.regexp_eatUnicodePropertyValueExpression=function(s){var g=s.pos;if(this.regexp_eatUnicodePropertyName(s)&&s.eat(61)){var I=s.lastStringValue;if(this.regexp_eatUnicodePropertyValue(s)){var V=s.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(s,I,V),!0}}if(s.pos=g,this.regexp_eatLoneUnicodePropertyNameOrValue(s)){var ee=s.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(s,ee),!0}return!1},ze.regexp_validateUnicodePropertyNameAndValue=function(s,g,I){Oe(s.unicodeProperties.nonBinary,g)||s.raise("Invalid property name"),s.unicodeProperties.nonBinary[g].test(I)||s.raise("Invalid property value")},ze.regexp_validateUnicodePropertyNameOrValue=function(s,g){s.unicodeProperties.binary.test(g)||s.raise("Invalid property name")},ze.regexp_eatUnicodePropertyName=function(s){var g=0;for(s.lastStringValue="";Qt(g=s.current());)s.lastStringValue+=xe(g),s.advance();return s.lastStringValue!==""};function Qt(s){return gi(s)||s===95}ze.regexp_eatUnicodePropertyValue=function(s){var g=0;for(s.lastStringValue="";mi(g=s.current());)s.lastStringValue+=xe(g),s.advance();return s.lastStringValue!==""};function mi(s){return Qt(s)||Ai(s)}ze.regexp_eatLoneUnicodePropertyNameOrValue=function(s){return this.regexp_eatUnicodePropertyValue(s)},ze.regexp_eatCharacterClass=function(s){if(s.eat(91)){if(s.eat(94),this.regexp_classRanges(s),s.eat(93))return!0;s.raise("Unterminated character class")}return!1},ze.regexp_classRanges=function(s){for(;this.regexp_eatClassAtom(s);){var g=s.lastIntValue;if(s.eat(45)&&this.regexp_eatClassAtom(s)){var I=s.lastIntValue;s.switchU&&(g===-1||I===-1)&&s.raise("Invalid character class"),g!==-1&&I!==-1&&g>I&&s.raise("Range out of order in character class")}}},ze.regexp_eatClassAtom=function(s){var g=s.pos;if(s.eat(92)){if(this.regexp_eatClassEscape(s))return!0;if(s.switchU){var I=s.current();(I===99||on(I))&&s.raise("Invalid class escape"),s.raise("Invalid escape")}s.pos=g}var V=s.current();return V!==93?(s.lastIntValue=V,s.advance(),!0):!1},ze.regexp_eatClassEscape=function(s){var g=s.pos;if(s.eat(98))return s.lastIntValue=8,!0;if(s.switchU&&s.eat(45))return s.lastIntValue=45,!0;if(!s.switchU&&s.eat(99)){if(this.regexp_eatClassControlLetter(s))return!0;s.pos=g}return this.regexp_eatCharacterClassEscape(s)||this.regexp_eatCharacterEscape(s)},ze.regexp_eatClassControlLetter=function(s){var g=s.current();return Ai(g)||g===95?(s.lastIntValue=g%32,s.advance(),!0):!1},ze.regexp_eatHexEscapeSequence=function(s){var g=s.pos;if(s.eat(120)){if(this.regexp_eatFixedHexDigits(s,2))return!0;s.switchU&&s.raise("Invalid escape"),s.pos=g}return!1},ze.regexp_eatDecimalDigits=function(s){var g=s.pos,I=0;for(s.lastIntValue=0;Ai(I=s.current());)s.lastIntValue=10*s.lastIntValue+(I-48),s.advance();return s.pos!==g};function Ai(s){return s>=48&&s<=57}ze.regexp_eatHexDigits=function(s){var g=s.pos,I=0;for(s.lastIntValue=0;vi(I=s.current());)s.lastIntValue=16*s.lastIntValue+Ui(I),s.advance();return s.pos!==g};function vi(s){return s>=48&&s<=57||s>=65&&s<=70||s>=97&&s<=102}function Ui(s){return s>=65&&s<=70?10+(s-65):s>=97&&s<=102?10+(s-97):s-48}ze.regexp_eatLegacyOctalEscapeSequence=function(s){if(this.regexp_eatOctalDigit(s)){var g=s.lastIntValue;if(this.regexp_eatOctalDigit(s)){var I=s.lastIntValue;g<=3&&this.regexp_eatOctalDigit(s)?s.lastIntValue=g*64+I*8+s.lastIntValue:s.lastIntValue=g*8+I}else s.lastIntValue=g;return!0}return!1},ze.regexp_eatOctalDigit=function(s){var g=s.current();return on(g)?(s.lastIntValue=g-48,s.advance(),!0):(s.lastIntValue=0,!1)};function on(s){return s>=48&&s<=55}ze.regexp_eatFixedHexDigits=function(s,g){var I=s.pos;s.lastIntValue=0;for(var V=0;V<g;++V){var ee=s.current();if(!vi(ee))return s.pos=I,!1;s.lastIntValue=16*s.lastIntValue+Ui(ee),s.advance()}return!0};var Mi=function(g){this.type=g.type,this.value=g.value,this.start=g.start,this.end=g.end,g.options.locations&&(this.loc=new ct(g,g.startLoc,g.endLoc)),g.options.ranges&&(this.range=[g.start,g.end])},Et=Ue.prototype;Et.next=function(s){!s&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Mi(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Et.getToken=function(){return this.next(),new Mi(this)},typeof Symbol!="undefined"&&(Et[Symbol.iterator]=function(){var s=this;return{next:function(){var g=s.getToken();return{done:g.type===O.eof,value:g}}}}),Et.nextToken=function(){var s=this.curContext();if((!s||!s.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(O.eof);if(s.override)return s.override(this);this.readToken(this.fullCharCodeAtPos())},Et.readToken=function(s){return X(s,this.options.ecmaVersion>=6)||s===92?this.readWord():this.getTokenFromCode(s)},Et.fullCharCodeAtPos=function(){var s=this.input.charCodeAt(this.pos);if(s<=55295||s>=56320)return s;var g=this.input.charCodeAt(this.pos+1);return g<=56319||g>=57344?s:(s<<10)+g-56613888},Et.skipBlockComment=function(){var s=this.options.onComment&&this.curPosition(),g=this.pos,I=this.input.indexOf("*/",this.pos+=2);if(I===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=I+2,this.options.locations)for(var V=void 0,ee=g;(V=ht(this.input,ee,this.pos))>-1;)++this.curLine,ee=this.lineStart=V;this.options.onComment&&this.options.onComment(!0,this.input.slice(g+2,I),g,this.pos,s,this.curPosition())},Et.skipLineComment=function(s){for(var g=this.pos,I=this.options.onComment&&this.curPosition(),V=this.input.charCodeAt(this.pos+=s);this.pos<this.input.length&&!Xe(V);)V=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(g+s,this.pos),g,this.pos,I,this.curPosition())},Et.skipSpace=function(){e:for(;this.pos<this.input.length;){var s=this.input.charCodeAt(this.pos);switch(s){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(s>8&&s<14||s>=5760&&We.test(String.fromCharCode(s)))++this.pos;else break e}}},Et.finishToken=function(s,g){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var I=this.type;this.type=s,this.value=g,this.updateContext(I)},Et.readToken_dot=function(){var s=this.input.charCodeAt(this.pos+1);if(s>=48&&s<=57)return this.readNumber(!0);var g=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&s===46&&g===46?(this.pos+=3,this.finishToken(O.ellipsis)):(++this.pos,this.finishToken(O.dot))},Et.readToken_slash=function(){var s=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):s===61?this.finishOp(O.assign,2):this.finishOp(O.slash,1)},Et.readToken_mult_modulo_exp=function(s){var g=this.input.charCodeAt(this.pos+1),I=1,V=s===42?O.star:O.modulo;return this.options.ecmaVersion>=7&&s===42&&g===42&&(++I,V=O.starstar,g=this.input.charCodeAt(this.pos+2)),g===61?this.finishOp(O.assign,I+1):this.finishOp(V,I)},Et.readToken_pipe_amp=function(s){var g=this.input.charCodeAt(this.pos+1);if(g===s){if(this.options.ecmaVersion>=12){var I=this.input.charCodeAt(this.pos+2);if(I===61)return this.finishOp(O.assign,3)}return this.finishOp(s===124?O.logicalOR:O.logicalAND,2)}return g===61?this.finishOp(O.assign,2):this.finishOp(s===124?O.bitwiseOR:O.bitwiseAND,1)},Et.readToken_caret=function(){var s=this.input.charCodeAt(this.pos+1);return s===61?this.finishOp(O.assign,2):this.finishOp(O.bitwiseXOR,1)},Et.readToken_plus_min=function(s){var g=this.input.charCodeAt(this.pos+1);return g===s?g===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Pe.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(O.incDec,2):g===61?this.finishOp(O.assign,2):this.finishOp(O.plusMin,1)},Et.readToken_lt_gt=function(s){var g=this.input.charCodeAt(this.pos+1),I=1;return g===s?(I=s===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+I)===61?this.finishOp(O.assign,I+1):this.finishOp(O.bitShift,I)):g===33&&s===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(g===61&&(I=2),this.finishOp(O.relational,I))},Et.readToken_eq_excl=function(s){var g=this.input.charCodeAt(this.pos+1);return g===61?this.finishOp(O.equality,this.input.charCodeAt(this.pos+2)===61?3:2):s===61&&g===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(O.arrow)):this.finishOp(s===61?O.eq:O.prefix,1)},Et.readToken_question=function(){var s=this.options.ecmaVersion;if(s>=11){var g=this.input.charCodeAt(this.pos+1);if(g===46){var I=this.input.charCodeAt(this.pos+2);if(I<48||I>57)return this.finishOp(O.questionDot,2)}if(g===63){if(s>=12){var V=this.input.charCodeAt(this.pos+2);if(V===61)return this.finishOp(O.assign,3)}return this.finishOp(O.coalesce,2)}}return this.finishOp(O.question,1)},Et.readToken_numberSign=function(){var s=this.options.ecmaVersion,g=35;if(s>=13&&(++this.pos,g=this.fullCharCodeAtPos(),X(g,!0)||g===92))return this.finishToken(O.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+xe(g)+"'")},Et.getTokenFromCode=function(s){switch(s){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(O.parenL);case 41:return++this.pos,this.finishToken(O.parenR);case 59:return++this.pos,this.finishToken(O.semi);case 44:return++this.pos,this.finishToken(O.comma);case 91:return++this.pos,this.finishToken(O.bracketL);case 93:return++this.pos,this.finishToken(O.bracketR);case 123:return++this.pos,this.finishToken(O.braceL);case 125:return++this.pos,this.finishToken(O.braceR);case 58:return++this.pos,this.finishToken(O.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(O.backQuote);case 48:var g=this.input.charCodeAt(this.pos+1);if(g===120||g===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(g===111||g===79)return this.readRadixNumber(8);if(g===98||g===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(s);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(s);case 124:case 38:return this.readToken_pipe_amp(s);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(s);case 60:case 62:return this.readToken_lt_gt(s);case 61:case 33:return this.readToken_eq_excl(s);case 63:return this.readToken_question();case 126:return this.finishOp(O.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+xe(s)+"'")},Et.finishOp=function(s,g){var I=this.input.slice(this.pos,this.pos+g);return this.pos+=g,this.finishToken(s,I)},Et.readRegexp=function(){for(var s,g,I=this.pos;;){this.pos>=this.input.length&&this.raise(I,"Unterminated regular expression");var V=this.input.charAt(this.pos);if(Pe.test(V)&&this.raise(I,"Unterminated regular expression"),s)s=!1;else{if(V==="[")g=!0;else if(V==="]"&&g)g=!1;else if(V==="/"&&!g)break;s=V==="\\"}++this.pos}var ee=this.input.slice(I,this.pos);++this.pos;var ye=this.pos,Se=this.readWord1();this.containsEsc&&this.unexpected(ye);var He=this.regexpState||(this.regexpState=new mt(this));He.reset(I,ee,Se),this.validateRegExpFlags(He),this.validateRegExpPattern(He);var je=null;try{je=new RegExp(ee,Se)}catch(bt){}return this.finishToken(O.regexp,{pattern:ee,flags:Se,value:je})},Et.readInt=function(s,g,I){for(var V=this.options.ecmaVersion>=12&&g===void 0,ee=I&&this.input.charCodeAt(this.pos)===48,ye=this.pos,Se=0,He=0,je=0,bt=g==null?1/0:g;je<bt;++je,++this.pos){var At=this.input.charCodeAt(this.pos),ri=void 0;if(V&&At===95){ee&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),He===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),je===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),He=At;continue}if(At>=97?ri=At-97+10:At>=65?ri=At-65+10:At>=48&&At<=57?ri=At-48:ri=1/0,ri>=s)break;He=At,Se=Se*s+ri}return V&&He===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===ye||g!=null&&this.pos-ye!==g?null:Se};function qi(s,g){return g?parseInt(s,8):parseFloat(s.replace(/_/g,""))}function Ri(s){return typeof BigInt!="function"?null:BigInt(s.replace(/_/g,""))}Et.readRadixNumber=function(s){var g=this.pos;this.pos+=2;var I=this.readInt(s);return I==null&&this.raise(this.start+2,"Expected number in radix "+s),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(I=Ri(this.input.slice(g,this.pos)),++this.pos):X(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(O.num,I)},Et.readNumber=function(s){var g=this.pos;!s&&this.readInt(10,void 0,!0)===null&&this.raise(g,"Invalid number");var I=this.pos-g>=2&&this.input.charCodeAt(g)===48;I&&this.strict&&this.raise(g,"Invalid number");var V=this.input.charCodeAt(this.pos);if(!I&&!s&&this.options.ecmaVersion>=11&&V===110){var ee=Ri(this.input.slice(g,this.pos));return++this.pos,X(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(O.num,ee)}I&&/[89]/.test(this.input.slice(g,this.pos))&&(I=!1),V===46&&!I&&(++this.pos,this.readInt(10),V=this.input.charCodeAt(this.pos)),(V===69||V===101)&&!I&&(V=this.input.charCodeAt(++this.pos),(V===43||V===45)&&++this.pos,this.readInt(10)===null&&this.raise(g,"Invalid number")),X(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var ye=qi(this.input.slice(g,this.pos),I);return this.finishToken(O.num,ye)},Et.readCodePoint=function(){var s=this.input.charCodeAt(this.pos),g;if(s===123){this.options.ecmaVersion<6&&this.unexpected();var I=++this.pos;g=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,g>1114111&&this.invalidStringToken(I,"Code point out of bounds")}else g=this.readHexChar(4);return g},Et.readString=function(s){for(var g="",I=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var V=this.input.charCodeAt(this.pos);if(V===s)break;V===92?(g+=this.input.slice(I,this.pos),g+=this.readEscapedChar(!1),I=this.pos):V===8232||V===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Xe(V)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return g+=this.input.slice(I,this.pos++),this.finishToken(O.string,g)};var Yi={};Et.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(s){if(s===Yi)this.readInvalidTemplateToken();else throw s}this.inTemplateElement=!1},Et.invalidStringToken=function(s,g){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Yi;this.raise(s,g)},Et.readTmplToken=function(){for(var s="",g=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var I=this.input.charCodeAt(this.pos);if(I===96||I===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===O.template||this.type===O.invalidTemplate)?I===36?(this.pos+=2,this.finishToken(O.dollarBraceL)):(++this.pos,this.finishToken(O.backQuote)):(s+=this.input.slice(g,this.pos),this.finishToken(O.template,s));if(I===92)s+=this.input.slice(g,this.pos),s+=this.readEscapedChar(!0),g=this.pos;else if(Xe(I)){switch(s+=this.input.slice(g,this.pos),++this.pos,I){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:s+=`
`;break;default:s+=String.fromCharCode(I);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),g=this.pos}else++this.pos}},Et.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(O.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Et.readEscapedChar=function(s){var g=this.input.charCodeAt(++this.pos);switch(++this.pos,g){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return xe(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),s){var I=this.pos-1;return this.invalidStringToken(I,"Invalid escape sequence in template string"),null}default:if(g>=48&&g<=55){var V=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],ee=parseInt(V,8);return ee>255&&(V=V.slice(0,-1),ee=parseInt(V,8)),this.pos+=V.length-1,g=this.input.charCodeAt(this.pos),(V!=="0"||g===56||g===57)&&(this.strict||s)&&this.invalidStringToken(this.pos-1-V.length,s?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(ee)}return Xe(g)?"":String.fromCharCode(g)}},Et.readHexChar=function(s){var g=this.pos,I=this.readInt(16,s);return I===null&&this.invalidStringToken(g,"Bad character escape sequence"),I},Et.readWord1=function(){this.containsEsc=!1;for(var s="",g=!0,I=this.pos,V=this.options.ecmaVersion>=6;this.pos<this.input.length;){var ee=this.fullCharCodeAtPos();if(K(ee,V))this.pos+=ee<=65535?1:2;else if(ee===92){this.containsEsc=!0,s+=this.input.slice(I,this.pos);var ye=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var Se=this.readCodePoint();(g?X:K)(Se,V)||this.invalidStringToken(ye,"Invalid Unicode escape"),s+=xe(Se),I=this.pos}else break;g=!1}return s+this.input.slice(I,this.pos)},Et.readWord=function(){var s=this.readWord1(),g=O.name;return this.keywords.test(s)&&(g=Ae[s]),this.finishToken(g,s)};var $i="8.8.1";Ue.acorn={Parser:Ue,version:$i,defaultOptions:Nt,Position:Ke,SourceLocation:ct,getLineInfo:pt,Node:F,TokenType:ie,tokTypes:O,keywordTypes:Ae,TokContext:M,tokContexts:k,isIdentifierChar:K,isIdentifierStart:X,Token:Mi,isNewLine:Xe,lineBreak:Pe,lineBreakG:Je,nonASCIIwhitespace:We};function Ir(s,g){return Ue.parse(s,g)}function Yr(s,g,I){return Ue.parseExpressionAt(s,g,I)}function jr(s,g){return Ue.tokenizer(s,g)}a.Node=F,a.Parser=Ue,a.Position=Ke,a.SourceLocation=ct,a.TokContext=M,a.Token=Mi,a.TokenType=ie,a.defaultOptions=Nt,a.getLineInfo=pt,a.isIdentifierChar=K,a.isIdentifierStart=X,a.isNewLine=Xe,a.keywordTypes=Ae,a.lineBreak=Pe,a.lineBreakG=Je,a.nonASCIIwhitespace=We,a.parse=Ir,a.parseExpressionAt=Yr,a.tokContexts=k,a.tokTypes=O,a.tokenizer=jr,a.version=$i,Object.defineProperty(a,"__esModule",{value:!0})})}(Vo,Vo.exports)),Vo.exports}/*!
 * Paper.js v0.12.17 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jürg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Thu Nov 3 21:15:36 2022 +0100
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jürg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(o){(function(d,a){d=d||Af;var f=d.window,A=d.document,v=new function(){var e=/^(statics|enumerable|beans|preserve)$/,t=[],r=t.slice,u=Object.create,l=Object.getOwnPropertyDescriptor,c=Object.defineProperty,m=t.forEach||function(S,x){for(var M=0,k=this.length;M<k;M++)S.call(x,this[M],M,this)},p=function(S,x){for(var M in this)this.hasOwnProperty(M)&&S.call(x,this[M],M,this)},_=Object.assign||function(S){for(var x=1,M=arguments.length;x<M;x++){var k=arguments[x];for(var R in k)k.hasOwnProperty(R)&&(S[R]=k[R])}return S},b=function(S,x,M){if(S){var k=l(S,"length");(k&&typeof k.value=="number"?m:p).call(S,x,M=M||S)}return M};function E(S,x,M,k,R){var C={};function N(F,W){W=W||(W=l(x,F))&&(W.get?W:W.value),typeof W=="string"&&W[0]==="#"&&(W=S[W.substring(1)]||W);var j=typeof W=="function",J=W,re=R||j&&!W.base?W&&W.get?F in S:S[F]:null,Y;(!R||!re)&&(j&&re&&(W.base=re),j&&k!==!1&&(Y=F.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(C[Y[3].toLowerCase()+Y[4]]=Y[2]),(!J||j||!J.get||typeof J.get!="function"||!T.isPlainObject(J))&&(J={value:J,writable:!0}),(l(S,F)||{configurable:!0}).configurable&&(J.configurable=!0,J.enumerable=M!=null?M:!Y),c(S,F,J))}if(x){for(var w in x)x.hasOwnProperty(w)&&!e.test(w)&&N(w);for(var w in C){var L=C[w],B=S["set"+L],U=S["get"+L]||B&&S["is"+L];U&&(k===!0||U.length===0)&&N(w,{get:U,set:B})}}return S}function T(){for(var S=0,x=arguments.length;S<x;S++){var M=arguments[S];M&&_(this,M)}return this}return E(T,{inject:function(S){if(S){var x=S.statics===!0?S:S.statics,M=S.beans,k=S.preserve;x!==S&&E(this.prototype,S,S.enumerable,M,k),E(this,x,null,M,k)}for(var R=1,C=arguments.length;R<C;R++)this.inject(arguments[R]);return this},extend:function(){for(var S=this,x,M,k=0,R,C=arguments.length;k<C&&!(x&&M);k++)R=arguments[k],x=x||R.initialize,M=M||R.prototype;return x=x||function(){S.apply(this,arguments)},M=x.prototype=M||u(this.prototype),c(M,"constructor",{value:x,writable:!0,configurable:!0}),E(x,this),arguments.length&&this.inject.apply(x,arguments),x.base=S,x}}).inject({enumerable:!1,initialize:T,set:T,inject:function(){for(var S=0,x=arguments.length;S<x;S++){var M=arguments[S];M&&E(this,M,M.enumerable,M.beans,M.preserve)}return this},extend:function(){var S=u(this);return S.inject.apply(S,arguments)},each:function(S,x){return b(this,S,x)},clone:function(){return new this.constructor(this)},statics:{set:_,each:b,create:u,define:c,describe:l,clone:function(S){return _(new S.constructor,S)},isPlainObject:function(S){var x=S!=null&&S.constructor;return x&&(x===Object||x===T||x.name==="Object")},pick:function(S,x){return S!==a?S:x},slice:function(S,x,M){return r.call(S,x,M)}}})};o.exports=v,v.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+v.each(this,function(e,t){if(!/^_/.test(t)){var r=typeof e;this.push(t+": "+(r==="number"?le.instance.number(e):r==="string"?"'"+e+"'":e))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(e){return v.importJSON(e,this)},exportJSON:function(e){return v.exportJSON(this,e)},toJSON:function(){return v.serialize(this)},set:function(e,t){return e&&v.filter(this,e,t,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function e(){var t=e.base.apply(this,arguments),r=t.prototype._class;return r&&!v.exports[r]&&(v.exports[r]=t),t},equals:function(e,t){if(e===t)return!0;if(e&&e.equals)return e.equals(t);if(t&&t.equals)return t.equals(e);if(e&&t&&typeof e=="object"&&typeof t=="object"){if(Array.isArray(e)&&Array.isArray(t)){var r=e.length;if(r!==t.length)return!1;for(;r--;)if(!v.equals(e[r],t[r]))return!1}else{var u=Object.keys(e),r=u.length;if(r!==Object.keys(t).length)return!1;for(;r--;){var l=u[r];if(!(t.hasOwnProperty(l)&&v.equals(e[l],t[l])))return!1}}return!0}return!1},read:function(e,t,r,u){if(this===v){var l=this.peek(e,t);return e.__index++,l}var c=this.prototype,m=c._readIndex,p=t||m&&e.__index||0,_=e.length,b=e[p];if(u=u||_-p,b instanceof this||r&&r.readNull&&b==null&&u<=1)return m&&(e.__index=p+1),b&&r&&r.clone?b.clone():b;if(b=v.create(c),m&&(b.__read=!0),b=b.initialize.apply(b,p>0||p+u<_?v.slice(e,p,p+u):e)||b,m){e.__index=p+b.__read;var E=b.__filtered;E&&(e.__filtered=E,b.__filtered=a),b.__read=a}return b},peek:function(e,t){return e[e.__index=t||e.__index||0]},remain:function(e){return e.length-(e.__index||0)},readList:function(e,t,r,u){for(var l=[],c,m=t||0,p=u?m+u:e.length,_=m;_<p;_++)l.push(Array.isArray(c=e[_])?this.read(c,0,r):this.read(e,_,r,1));return l},readNamed:function(e,t,r,u,l){var c=this.getNamed(e,t),m=c!==a;if(m){var p=e.__filtered;if(!p){var _=this.getSource(e);p=e.__filtered=v.create(_),p.__unfiltered=_}p[t]=a}return this.read(m?[c]:e,r,u,l)},readSupported:function(e,t){var r=this.getSource(e),u=this,l=!1;return r&&Object.keys(r).forEach(function(c){if(c in t){var m=u.readNamed(e,c);m!==a&&(t[c]=m),l=!0}}),l},getSource:function(e){var t=e.__source;if(t===a){var r=e.length===1&&e[0];t=e.__source=r&&v.isPlainObject(r)?r:null}return t},getNamed:function(e,t){var r=this.getSource(e);if(r)return t?r[t]:e.__filtered||r},hasNamed:function(e,t){return!!this.getNamed(e,t)},filter:function(e,t,r,u){var l;function c(E){if(!(r&&E in r)&&!(l&&E in l)){var T=t[E];T!==a&&(e[E]=T)}}if(u){for(var m={},p=0,_,b=u.length;p<b;p++)(_=u[p])in t&&(c(_),m[_]=!0);l=m}return Object.keys(t.__unfiltered||t).forEach(c),e},isPlainValue:function(e,t){return v.isPlainObject(e)||Array.isArray(e)||t&&typeof e=="string"},serialize:function(e,t,r,u){t=t||{};var l=!u,c;if(l&&(t.formatter=new le(t.precision),u={length:0,definitions:{},references:{},add:function(T,S){var x="#"+T._id,M=this.references[x];if(!M){this.length++;var k=S.call(T),R=T._class;R&&k[0]!==R&&k.unshift(R),this.definitions[x]=k,M=this.references[x]=[x]}return M}}),e&&e._serialize){c=e._serialize(t,u);var m=e._class;m&&!e._compactSerialize&&(l||!r)&&c[0]!==m&&c.unshift(m)}else if(Array.isArray(e)){c=[];for(var p=0,_=e.length;p<_;p++)c[p]=v.serialize(e[p],t,r,u)}else if(v.isPlainObject(e)){c={};for(var b=Object.keys(e),p=0,_=b.length;p<_;p++){var E=b[p];c[E]=v.serialize(e[E],t,r,u)}}else typeof e=="number"?c=t.formatter.number(e,t.precision):c=e;return l&&u.length>0?[["dictionary",u.definitions],c]:c},deserialize:function(e,t,r,u,l){var c=e,m=!r,p=m&&e&&e.length&&e[0][0]==="dictionary";if(r=r||{},Array.isArray(e)){var _=e[0],b=_==="dictionary";if(e.length==1&&/^#/.test(_))return r.dictionary[_];_=v.exports[_],c=[];for(var E=_?1:0,T=e.length;E<T;E++)c.push(v.deserialize(e[E],t,r,b,p));if(_){var S=c;t?c=t(_,S,m||l):c=new _(S)}}else if(v.isPlainObject(e)){c={},u&&(r.dictionary=c);for(var x in e)c[x]=v.deserialize(e[x],t,r)}return p?c[1]:c},exportJSON:function(e,t){var r=v.serialize(e,t);return t&&t.asString==!1?r:JSON.stringify(r)},importJSON:function(e,t){return v.deserialize(typeof e=="string"?JSON.parse(e):e,function(r,u,l){var c=l&&t&&t.constructor===r,m=c?t:v.create(r.prototype);if(u.length===1&&m instanceof O&&(c||!(m instanceof Je))){var p=u[0];v.isPlainObject(p)&&(p.insert=!1,c&&(u=u.concat([O.INSERT])))}return(c?m.set:r).apply(m,u),c&&(t=null),m})},push:function(e,t){var r=t.length;if(r<4096)e.push.apply(e,t);else{var u=e.length;e.length+=r;for(var l=0;l<r;l++)e[u+l]=t[l]}return e},splice:function(e,t,r,u){var l=t&&t.length,c=r===a;r=c?e.length:r,r>e.length&&(r=e.length);for(var m=0;m<l;m++)t[m]._index=r+m;if(c)return v.push(e,t),[];var p=[r,u];t&&v.push(p,t);for(var _=e.splice.apply(e,p),m=0,b=_.length;m<b;m++)_[m]._index=a;for(var m=r+l,b=e.length;m<b;m++)e[m]._index=m;return _},capitalize:function(e){return e.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},camelize:function(e){return e.replace(/-(.)/g,function(t,r){return r.toUpperCase()})},hyphenate:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var P={on:function(e,t){if(typeof e!="string")v.each(e,function(c,m){this.on(m,c)},this);else{var r=this._eventTypes,u=r&&r[e],l=this._callbacks=this._callbacks||{};l=l[e]=l[e]||[],l.indexOf(t)===-1&&(l.push(t),u&&u.install&&l.length===1&&u.install.call(this,e))}return this},off:function(e,t){if(typeof e!="string"){v.each(e,function(m,p){this.off(p,m)},this);return}var r=this._eventTypes,u=r&&r[e],l=this._callbacks&&this._callbacks[e],c;return l&&(!t||(c=l.indexOf(t))!==-1&&l.length===1?(u&&u.uninstall&&u.uninstall.call(this,e),delete this._callbacks[e]):c!==-1&&l.splice(c,1)),this},once:function(e,t){return this.on(e,function r(){t.apply(this,arguments),this.off(e,r)})},emit:function(e,t){var r=this._callbacks&&this._callbacks[e];if(!r)return!1;var u=v.slice(arguments,1),l=t&&t.target&&!t.currentTarget;r=r.slice(),l&&(t.currentTarget=this);for(var c=0,m=r.length;c<m;c++)if(r[c].apply(this,u)==!1){t&&t.stop&&t.stop();break}return l&&delete t.currentTarget,!0},responds:function(e){return!!(this._callbacks&&this._callbacks[e])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(e){var t=this._eventTypes,r=this._callbacks,u=e?"install":"uninstall";if(t){for(var l in r)if(r[l].length>0){var c=t[l],m=c&&c[u];m&&m.call(this,l)}}},statics:{inject:function e(t){var r=t._events;if(r){var u={};v.each(r,function(l,c){var m=typeof l=="string",p=m?l:c,_=v.capitalize(p),b=p.substring(2).toLowerCase();u[b]=m?{}:l,p="_"+p,t["get"+_]=function(){return this[p]},t["set"+_]=function(E){var T=this[p];T&&this.off(b,T),E&&this.on(b,E),this[p]=E}}),t._eventTypes=u}return e.base.apply(this,arguments)}}},q=v.extend({_class:"PaperScope",initialize:function e(){Ue=this,this.settings=new v({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=e._id++,e._scopes[this._id]=this;var t=e.prototype;if(!this.support){var r=gt.getContext(1,1)||{};t.support={nativeDash:"setLineDash"in r||"mozDash"in r,nativeBlendModes:Ni.nativeModes},gt.release(r)}if(!this.agent){var u=d.navigator.userAgent.toLowerCase(),l=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(u)||[])[0],c=l==="darwin"?"mac":l,m=t.agent=t.browser={platform:c};c&&(m[c]=!0),u.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(p,_,b,E,T){if(!m.chrome){var S=_==="opera"?E:/^(node|trident)$/.test(_)?T:b;m.version=S,m.versionNumber=parseFloat(S),_={trident:"msie",jsdom:"node"}[_]||_,m.name=_,m[_]=!0}}),m.chrome&&delete m.webkit,m.atom&&delete m.chrome}},version:"0.12.17",getView:function(){var e=this.project;return e&&e._view},getPaper:function(){return this},execute:function(e,t){var r=Ue.PaperScript.execute(e,this,t);return $t.updateFocus(),r},install:function(e){var t=this;v.each(["project","view","tool"],function(u){v.define(e,u,{configurable:!0,get:function(){return t[u]}})});for(var r in this)!/^_/.test(r)&&this[r]&&(e[r]=this[r])},setup:function(e){return Ue=this,this.project=new Ee(e),this},createCanvas:function(e,t){return gt.getCanvas(e,t)},activate:function(){Ue=this},clear:function(){for(var e=this.projects,t=this.tools,r=e.length-1;r>=0;r--)e[r].remove();for(var r=t.length-1;r>=0;r--)t[r].remove()},remove:function(){this.clear(),delete q._scopes[this._id]},statics:new function(){function e(t){return t+="Attribute",function(r,u){return r[t](u)||r[t]("data-paper-"+u)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:e("get"),hasAttribute:e("has")}}}),ae=v.extend(P,{initialize:function(e){this._scope=Ue,this._index=this._scope[this._list].push(this)-1,(e||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var e=this._scope[this._reference];return e&&e!==this&&e.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",e),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(v.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),oe={findItemBoundsCollisions:function(e,t,r){function u(m){for(var p=new Array(m.length),_=0;_<m.length;_++){var b=m[_].getBounds();p[_]=[b.left,b.top,b.right,b.bottom]}return p}var l=u(e),c=!t||t===e?l:u(t);return this.findBoundsCollisions(l,c,r||0)},findCurveBoundsCollisions:function(e,t,r,u){function l(S){for(var x=Math.min,M=Math.max,k=new Array(S.length),R=0;R<S.length;R++){var C=S[R];k[R]=[x(C[0],C[2],C[4],C[6]),x(C[1],C[3],C[5],C[7]),M(C[0],C[2],C[4],C[6]),M(C[1],C[3],C[5],C[7])]}return k}var c=l(e),m=!t||t===e?c:l(t);if(u){for(var p=this.findBoundsCollisions(c,m,r||0,!1,!0),_=this.findBoundsCollisions(c,m,r||0,!0,!0),b=[],E=0,T=p.length;E<T;E++)b[E]={hor:p[E],ver:_[E]};return b}return this.findBoundsCollisions(c,m,r||0)},findBoundsCollisions:function(e,t,r,u,l){var c=!t||e===t,m=c?e:e.concat(t),p=e.length,_=m.length;function b($e,Ze,tt){for(var ke=0,Ne=$e.length;ke<Ne;){var Ye=Ne+ke>>>1;m[$e[Ye]][Ze]<tt?ke=Ye+1:Ne=Ye}return ke-1}for(var E=u?1:0,T=E+2,S=u?0:1,x=S+2,M=new Array(_),k=0;k<_;k++)M[k]=k;M.sort(function($e,Ze){return m[$e][E]-m[Ze][E]});for(var R=[],C=new Array(p),k=0;k<_;k++){var N=M[k],w=m[N],L=c?N:N-p,B=N<p,U=c||!B,F=B?[]:null;if(R.length){var W=b(R,T,w[E]-r)+1;if(R.splice(0,W),c&&l){F=F.concat(R);for(var j=0;j<R.length;j++){var J=R[j];C[J].push(L)}}else for(var re=w[x],Y=w[S],j=0;j<R.length;j++){var J=R[j],se=m[J],ue=J<p,de=c||J>=p;(l||(B&&de||U&&ue)&&re>=se[S]-r&&Y<=se[x]+r)&&(B&&de&&F.push(c?J:J-p),U&&ue&&C[J].push(L))}}if(B&&(e===t&&F.push(N),C[N]=F),R.length){var pe=w[T],we=b(R,T,pe);R.splice(we+1,0,N)}else R.push(N)}for(var k=0;k<C.length;k++){var Be=C[k];Be&&Be.sort(function(Ze,tt){return Ze-tt})}return C}},le=v.extend({initialize:function(e){this.precision=v.pick(e,5),this.multiplier=Math.pow(10,this.precision)},number:function(e){return this.precision<16?Math.round(e*this.multiplier)/this.multiplier:e},pair:function(e,t,r){return this.number(e)+(r||",")+this.number(t)},point:function(e,t){return this.number(e.x)+(t||",")+this.number(e.y)},size:function(e,t){return this.number(e.width)+(t||",")+this.number(e.height)},rectangle:function(e,t){return this.point(e,t)+(t||",")+this.size(e,t)}});le.instance=new le;var ge=new function(){var e=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],t=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],r=Math.abs,u=Math.sqrt,l=Math.pow,c=Math.log2||function(T){return Math.log(T)*Math.LOG2E},m=1e-12,p=112e-18;function _(T,S,x){return T<S?S:T>x?x:T}function b(T,S,x){function M(W){var j=W*134217729,J=W-j,re=J+j,Y=W-re;return[re,Y]}var k=S*S-T*x,R=S*S+T*x;if(r(k)*3<R){var C=M(T),N=M(S),w=M(x),L=S*S,B=N[0]*N[0]-L+2*N[0]*N[1]+N[1]*N[1],U=T*x,F=C[0]*w[0]-U+C[0]*w[1]+C[1]*w[0]+C[1]*w[1];k=L-U+(B-F)}return k}function E(){var T=Math.max.apply(Math,arguments);return T&&(T<1e-8||T>1e8)?l(2,-Math.round(c(T))):0}return{EPSILON:m,MACHINE_EPSILON:p,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(u(2)-1)/3,isZero:function(T){return T>=-m&&T<=m},isMachineZero:function(T){return T>=-p&&T<=p},clamp:_,integrate:function(T,S,x,M){for(var k=e[M-2],R=t[M-2],C=(x-S)*.5,N=C+S,w=0,L=M+1>>1,B=M&1?R[w++]*T(N):0;w<L;){var U=C*k[w];B+=R[w++]*(T(N+U)+T(N-U))}return C*B},findRoot:function(T,S,x,M,k,R,C){for(var N=0;N<R;N++){var w=T(x),L=w/S(x),B=x-L;if(r(L)<C){x=B;break}w>0?(k=x,x=B<=M?(M+k)*.5:B):(M=x,x=B>=k?(M+k)*.5:B)}return _(x,M,k)},solveQuadratic:function(T,S,x,M,k,R){var C,N=1/0;if(r(T)<m){if(r(S)<m)return r(x)<m?-1:0;C=-x/S}else{S*=-.5;var w=b(T,S,x);if(w&&r(w)<p){var L=E(r(T),r(S),r(x));L&&(T*=L,S*=L,x*=L,w=b(T,S,x))}if(w>=-p){var B=w<0?0:u(w),U=S+(S<0?-B:B);U===0?(C=x/T,N=-C):(C=U/T,N=x/U)}}var F=0,W=k==null,j=k-m,J=R+m;return isFinite(C)&&(W||C>j&&C<J)&&(M[F++]=W?C:_(C,k,R)),N!==C&&isFinite(N)&&(W||N>j&&N<J)&&(M[F++]=W?N:_(N,k,R)),F},solveCubic:function(T,S,x,M,k,R,C){var N=E(r(T),r(S),r(x),r(M)),w,L,B,U,F;N&&(T*=N,S*=N,x*=N,M*=N);function W(we){w=we;var Be=T*w;L=Be+S,B=L*w+x,U=(Be+L)*w+B,F=B*w+M}if(r(T)<m)T=S,L=x,B=M,w=1/0;else if(r(M)<m)L=S,B=x,w=0;else{W(-(S/T)/3);var j=F/T,J=l(r(j),1/3),re=j<0?-1:1,Y=-U/T,se=Y>0?1.324717957244746*Math.max(J,u(Y)):J,ue=w-re*se;if(ue!==w){do W(ue),ue=U===0?w:w-F/U/(1+p);while(re*ue>re*w);r(T)*w*w>r(M/w)&&(B=-M/w,L=(B-x)/w)}}var de=ge.solveQuadratic(T,L,B,k,R,C),pe=R==null;return isFinite(w)&&(de===0||de>0&&w!==k[0]&&w!==k[1])&&(pe||w>R-m&&w<C+m)&&(k[de++]=pe?w:_(w,R,C)),de}}},Z={_id:1,_pools:{},get:function(e){if(e){var t=this._pools[e];return t||(t=this._pools[e]={_id:1}),t._id++}else return this._id++}},D=v.extend({_class:"Point",_readIndex:!0,initialize:function(t,r){var u=typeof t,l=this.__read,c=0;if(u==="number"){var m=typeof r=="number";this._set(t,m?r:t),l&&(c=m?2:1)}else if(u==="undefined"||t===null)this._set(0,0),l&&(c=t===null?1:0);else{var p=u==="string"?t.split(/[\s,]+/)||[]:t;c=1,Array.isArray(p)?this._set(+p[0],+(p.length>1?p[1]:p[0])):"x"in p?this._set(p.x||0,p.y||0):"width"in p?this._set(p.width||0,p.height||0):"angle"in p?(this._set(p.length||0,0),this.setAngle(p.angle||0)):(this._set(0,0),c=0)}return l&&(this.__read=c),this},set:"#initialize",_set:function(e,t){return this.x=e,this.y=t,this},equals:function(e){return this===e||e&&(this.x===e.x&&this.y===e.y||Array.isArray(e)&&this.x===e[0]&&this.y===e[1])||!1},clone:function(){return new D(this.x,this.y)},toString:function(){var e=le.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(e){if(this.isZero()){var t=this._angle||0;this._set(Math.cos(t)*e,Math.sin(t)*e)}else{var r=e/this.getLength();ge.isZero(r)&&this.getAngle(),this._set(this.x*r,this.y*r)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(e){this.setAngleInRadians.call(this,e*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var e=D.read(arguments),t=this.getLength()*e.getLength();if(ge.isZero(t))return NaN;var r=this.dot(e)/t;return Math.acos(r<-1?-1:r>1?1:r)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(e){if(this._angle=e,!this.isZero()){var t=this.getLength();this._set(Math.cos(e)*t,Math.sin(e)*t)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var e=D.read(arguments);return Math.atan2(this.cross(e),this.dot(e))*180/Math.PI},getDistance:function(){var e=arguments,t=D.read(e),r=t.x-this.x,u=t.y-this.y,l=r*r+u*u,c=v.read(e);return c?l:Math.sqrt(l)},normalize:function(e){e===a&&(e=1);var t=this.getLength(),r=t!==0?e/t:0,u=new D(this.x*r,this.y*r);return r>=0&&(u._angle=this._angle),u},rotate:function(e,t){if(e===0)return this.clone();e=e*Math.PI/180;var r=t?this.subtract(t):this,u=Math.sin(e),l=Math.cos(e);return r=new D(r.x*l-r.y*u,r.x*u+r.y*l),t?r.add(t):r},transform:function(e){return e?e._transformPoint(this):this},add:function(){var e=D.read(arguments);return new D(this.x+e.x,this.y+e.y)},subtract:function(){var e=D.read(arguments);return new D(this.x-e.x,this.y-e.y)},multiply:function(){var e=D.read(arguments);return new D(this.x*e.x,this.y*e.y)},divide:function(){var e=D.read(arguments);return new D(this.x/e.x,this.y/e.y)},modulo:function(){var e=D.read(arguments);return new D(this.x%e.x,this.y%e.y)},negate:function(){return new D(-this.x,-this.y)},isInside:function(){return fe.read(arguments).contains(this)},isClose:function(){var e=arguments,t=D.read(e),r=v.read(e);return this.getDistance(t)<=r},isCollinear:function(){var e=D.read(arguments);return D.isCollinear(this.x,this.y,e.x,e.y)},isColinear:"#isCollinear",isOrthogonal:function(){var e=D.read(arguments);return D.isOrthogonal(this.x,this.y,e.x,e.y)},isZero:function(){var e=ge.isZero;return e(this.x)&&e(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(e){return this.x*(e>1&&e<4?-1:1)>=0&&this.y*(e>2?-1:1)>=0},dot:function(){var e=D.read(arguments);return this.x*e.x+this.y*e.y},cross:function(){var e=D.read(arguments);return this.x*e.y-this.y*e.x},project:function(){var e=D.read(arguments),t=e.isZero()?0:this.dot(e)/e.dot(e);return new D(e.x*t,e.y*t)},statics:{min:function(){var e=arguments,t=D.read(e),r=D.read(e);return new D(Math.min(t.x,r.x),Math.min(t.y,r.y))},max:function(){var e=arguments,t=D.read(e),r=D.read(e);return new D(Math.max(t.x,r.x),Math.max(t.y,r.y))},random:function(){return new D(Math.random(),Math.random())},isCollinear:function(e,t,r,u){return Math.abs(e*u-t*r)<=Math.sqrt((e*e+t*t)*(r*r+u*u))*1e-8},isOrthogonal:function(e,t,r,u){return Math.abs(e*r+t*u)<=Math.sqrt((e*e+t*t)*(r*r+u*u))*1e-8}}},v.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new D(t(this.x),t(this.y))}},{})),X=D.extend({initialize:function(t,r,u,l){this._x=t,this._y=r,this._owner=u,this._setter=l},_set:function(e,t,r){return this._x=e,this._y=t,r||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),K=v.extend({_class:"Size",_readIndex:!0,initialize:function(t,r){var u=typeof t,l=this.__read,c=0;if(u==="number"){var m=typeof r=="number";this._set(t,m?r:t),l&&(c=m?2:1)}else if(u==="undefined"||t===null)this._set(0,0),l&&(c=t===null?1:0);else{var p=u==="string"?t.split(/[\s,]+/)||[]:t;c=1,Array.isArray(p)?this._set(+p[0],+(p.length>1?p[1]:p[0])):"width"in p?this._set(p.width||0,p.height||0):"x"in p?this._set(p.x||0,p.y||0):(this._set(0,0),c=0)}return l&&(this.__read=c),this},set:"#initialize",_set:function(e,t){return this.width=e,this.height=t,this},equals:function(e){return e===this||e&&(this.width===e.width&&this.height===e.height||Array.isArray(e)&&this.width===e[0]&&this.height===e[1])||!1},clone:function(){return new K(this.width,this.height)},toString:function(){var e=le.instance;return"{ width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.width),t.number(this.height)]},add:function(){var e=K.read(arguments);return new K(this.width+e.width,this.height+e.height)},subtract:function(){var e=K.read(arguments);return new K(this.width-e.width,this.height-e.height)},multiply:function(){var e=K.read(arguments);return new K(this.width*e.width,this.height*e.height)},divide:function(){var e=K.read(arguments);return new K(this.width/e.width,this.height/e.height)},modulo:function(){var e=K.read(arguments);return new K(this.width%e.width,this.height%e.height)},negate:function(){return new K(-this.width,-this.height)},isZero:function(){var e=ge.isZero;return e(this.width)&&e(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(e,t){return new K(Math.min(e.width,t.width),Math.min(e.height,t.height))},max:function(e,t){return new K(Math.max(e.width,t.width),Math.max(e.height,t.height))},random:function(){return new K(Math.random(),Math.random())}}},v.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new K(t(this.width),t(this.height))}},{})),ie=K.extend({initialize:function(t,r,u,l){this._width=t,this._height=r,this._owner=u,this._setter=l},_set:function(e,t,r){return this._width=e,this._height=t,r||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(e){this._width=e,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(e){this._height=e,this._owner[this._setter](this)}}),fe=v.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(t,r,u,l){var c=arguments,m=typeof t,p;if(m==="number"?(this._set(t,r,u,l),p=4):m==="undefined"||t===null?(this._set(0,0,0,0),p=t===null?1:0):c.length===1&&(Array.isArray(t)?(this._set.apply(this,t),p=1):t.x!==a||t.width!==a?(this._set(t.x||0,t.y||0,t.width||0,t.height||0),p=1):t.from===a&&t.to===a&&(this._set(0,0,0,0),v.readSupported(c,this)&&(p=1))),p===a){var _=D.readNamed(c,"from"),b=v.peek(c),E=_.x,T=_.y,S,x;if(b&&b.x!==a||v.hasNamed(c,"to")){var M=D.readNamed(c,"to");S=M.x-E,x=M.y-T,S<0&&(E=M.x,S=-S),x<0&&(T=M.y,x=-x)}else{var k=K.read(c);S=k.width,x=k.height}this._set(E,T,S,x),p=c.__index}var R=c.__filtered;return R&&(this.__filtered=R),this.__read&&(this.__read=p),this},set:"#initialize",_set:function(e,t,r,u){return this.x=e,this.y=t,this.width=r,this.height=u,this},clone:function(){return new fe(this.x,this.y,this.width,this.height)},equals:function(e){var t=v.isPlainValue(e)?fe.read(arguments):e;return t===this||t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height||!1},toString:function(){var e=le.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+", width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y),t.number(this.width),t.number(this.height)]},getPoint:function(e){var t=e?D:X;return new t(this.x,this.y,this,"setPoint")},setPoint:function(){var e=D.read(arguments);this.x=e.x,this.y=e.y},getSize:function(e){var t=e?K:ie;return new t(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var e=K.read(arguments),t=this._sx,r=this._sy,u=e.width,l=e.height;t&&(this.x+=(this.width-u)*t),r&&(this.y+=(this.height-l)*r),this.width=u,this.height=l,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(e){if(!this._fw){var t=e-this.x;this.width-=this._sx===.5?t*2:t}this.x=e,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(e){if(!this._fh){var t=e-this.y;this.height-=this._sy===.5?t*2:t}this.y=e,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(e){if(!this._fw){var t=e-this.x;this.width=this._sx===.5?t*2:t}this.x=e-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(e){if(!this._fh){var t=e-this.y;this.height=this._sy===.5?t*2:t}this.y=e-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(e){this._fw||this._sx===.5?this.x=e-this.width/2:(this._sx&&(this.x+=(e-this.x)*2*this._sx),this.width=(e-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(e){this._fh||this._sy===.5?this.y=e-this.height/2:(this._sy&&(this.y+=(e-this.y)*2*this._sy),this.height=(e-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(e){var t=e?D:X;return new t(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var e=D.read(arguments);return this.setCenterX(e.x),this.setCenterY(e.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(e){return e&&e.width!==a||(Array.isArray(e)?e:arguments).length===4?this._containsRectangle(fe.read(arguments)):this._containsPoint(D.read(arguments))},_containsPoint:function(e){var t=e.x,r=e.y;return t>=this.x&&r>=this.y&&t<=this.x+this.width&&r<=this.y+this.height},_containsRectangle:function(e){var t=e.x,r=e.y;return t>=this.x&&r>=this.y&&t+e.width<=this.x+this.width&&r+e.height<=this.y+this.height},intersects:function(){var e=fe.read(arguments),t=v.read(arguments)||0;return e.x+e.width>this.x-t&&e.y+e.height>this.y-t&&e.x<this.x+this.width+t&&e.y<this.y+this.height+t},intersect:function(){var e=fe.read(arguments),t=Math.max(this.x,e.x),r=Math.max(this.y,e.y),u=Math.min(this.x+this.width,e.x+e.width),l=Math.min(this.y+this.height,e.y+e.height);return new fe(t,r,u-t,l-r)},unite:function(){var e=fe.read(arguments),t=Math.min(this.x,e.x),r=Math.min(this.y,e.y),u=Math.max(this.x+this.width,e.x+e.width),l=Math.max(this.y+this.height,e.y+e.height);return new fe(t,r,u-t,l-r)},include:function(){var e=D.read(arguments),t=Math.min(this.x,e.x),r=Math.min(this.y,e.y),u=Math.max(this.x+this.width,e.x),l=Math.max(this.y+this.height,e.y);return new fe(t,r,u-t,l-r)},expand:function(){var e=K.read(arguments),t=e.width,r=e.height;return new fe(this.x-t/2,this.y-r/2,this.width+t,this.height+r)},scale:function(e,t){return this.expand(this.width*e-this.width,this.height*(t===a?e:t)-this.height)}},v.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(e,t){var r=e.join(""),u=/^[RL]/.test(r);t>=4&&(e[1]+=u?"Y":"X");var l=e[u?0:1],c=e[u?1:0],m="get"+l,p="get"+c,_="set"+l,b="set"+c,E="get"+r,T="set"+r;this[E]=function(S){var x=S?D:X;return new x(this[m](),this[p](),this,T)},this[T]=function(){var S=D.read(arguments);this[_](S.x),this[b](S.y)}},{beans:!0})),ve=fe.extend({initialize:function(t,r,u,l,c,m){this._set(t,r,u,l,!0),this._owner=c,this._setter=m},_set:function(e,t,r,u,l){return this._x=e,this._y=t,this._width=r,this._height=u,l||this._owner[this._setter](this),this}},new function(){var e=fe.prototype;return v.each(["x","y","width","height"],function(t){var r=v.capitalize(t),u="_"+t;this["get"+r]=function(){return this[u]},this["set"+r]=function(l){this[u]=l,this._dontNotify||this._owner[this._setter](this)}},v.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(t){var r="set"+t;this[r]=function(){this._dontNotify=!0,e[r].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(t){var r=this._owner;r._changeSelection&&r._changeSelection(2,t)}}))}),he=v.extend({_class:"Matrix",initialize:function e(t,r){var u=arguments,l=u.length,c=!0;if(l>=6?this._set.apply(this,u):l===1||l===2?t instanceof e?this._set(t._a,t._b,t._c,t._d,t._tx,t._ty,r):Array.isArray(t)?this._set.apply(this,r?t.concat([r]):t):c=!1:l?c=!1:this.reset(),!c)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(e,t,r,u,l,c,m){return this._a=e,this._b=t,this._c=r,this._d=u,this._tx=l,this._ty=c,m||this._changed(),this},_serialize:function(e,t){return v.serialize(this.getValues(),e,!0,t)},_changed:function(){var e=this._owner;e&&(e._applyMatrix?e.transform(null,!0):e._changed(25))},clone:function(){return new he(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(e){return e===this||e&&this._a===e._a&&this._b===e._b&&this._c===e._c&&this._d===e._d&&this._tx===e._tx&&this._ty===e._ty},toString:function(){var e=le.instance;return"[["+[e.number(this._a),e.number(this._c),e.number(this._tx)].join(", ")+"], ["+[e.number(this._b),e.number(this._d),e.number(this._ty)].join(", ")+"]]"},reset:function(e){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,e||this._changed(),this},apply:function(e,t){var r=this._owner;return r?(r.transform(null,v.pick(e,!0),t),this.isIdentity()):!1},translate:function(){var e=D.read(arguments),t=e.x,r=e.y;return this._tx+=t*this._a+r*this._c,this._ty+=t*this._b+r*this._d,this._changed(),this},scale:function(){var e=arguments,t=D.read(e),r=D.read(e,0,{readNull:!0});return r&&this.translate(r),this._a*=t.x,this._b*=t.x,this._c*=t.y,this._d*=t.y,r&&this.translate(r.negate()),this._changed(),this},rotate:function(e){e*=Math.PI/180;var t=D.read(arguments,1),r=t.x,u=t.y,l=Math.cos(e),c=Math.sin(e),m=r-r*l+u*c,p=u-r*c-u*l,_=this._a,b=this._b,E=this._c,T=this._d;return this._a=l*_+c*E,this._b=l*b+c*T,this._c=-c*_+l*E,this._d=-c*b+l*T,this._tx+=m*_+p*E,this._ty+=m*b+p*T,this._changed(),this},shear:function(){var e=arguments,t=D.read(e),r=D.read(e,0,{readNull:!0});r&&this.translate(r);var u=this._a,l=this._b;return this._a+=t.y*this._c,this._b+=t.y*this._d,this._c+=t.x*u,this._d+=t.x*l,r&&this.translate(r.negate()),this._changed(),this},skew:function(){var e=arguments,t=D.read(e),r=D.read(e,0,{readNull:!0}),u=Math.PI/180,l=new D(Math.tan(t.x*u),Math.tan(t.y*u));return this.shear(l,r)},append:function(e,t){if(e){var r=this._a,u=this._b,l=this._c,c=this._d,m=e._a,p=e._c,_=e._b,b=e._d,E=e._tx,T=e._ty;this._a=m*r+_*l,this._c=p*r+b*l,this._b=m*u+_*c,this._d=p*u+b*c,this._tx+=E*r+T*l,this._ty+=E*u+T*c,t||this._changed()}return this},prepend:function(e,t){if(e){var r=this._a,u=this._b,l=this._c,c=this._d,m=this._tx,p=this._ty,_=e._a,b=e._c,E=e._b,T=e._d,S=e._tx,x=e._ty;this._a=_*r+b*u,this._c=_*l+b*c,this._b=E*r+T*u,this._d=E*l+T*c,this._tx=_*m+b*p+S,this._ty=E*m+T*p+x,t||this._changed()}return this},appended:function(e){return this.clone().append(e)},prepended:function(e){return this.clone().prepend(e)},invert:function(){var e=this._a,t=this._b,r=this._c,u=this._d,l=this._tx,c=this._ty,m=e*u-t*r,p=null;return m&&!isNaN(m)&&isFinite(l)&&isFinite(c)&&(this._a=u/m,this._b=-t/m,this._c=-r/m,this._d=e/m,this._tx=(r*c-u*l)/m,this._ty=(t*l-e*c)/m,p=this),p},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new he(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var e=this._a*this._d-this._c*this._b;return e&&!isNaN(e)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(e,t,r){return arguments.length<3?this._transformPoint(D.read(arguments)):this._transformCoordinates(e,t,r)},_transformPoint:function(e,t,r){var u=e.x,l=e.y;return t||(t=new D),t._set(u*this._a+l*this._c+this._tx,u*this._b+l*this._d+this._ty,r)},_transformCoordinates:function(e,t,r){for(var u=0,l=2*r;u<l;u+=2){var c=e[u],m=e[u+1];t[u]=c*this._a+m*this._c+this._tx,t[u+1]=c*this._b+m*this._d+this._ty}return t},_transformCorners:function(e){var t=e.x,r=e.y,u=t+e.width,l=r+e.height,c=[t,r,u,r,u,l,t,l];return this._transformCoordinates(c,c,4)},_transformBounds:function(e,t,r){for(var u=this._transformCorners(e),l=u.slice(0,2),c=l.slice(),m=2;m<8;m++){var p=u[m],_=m&1;p<l[_]?l[_]=p:p>c[_]&&(c[_]=p)}return t||(t=new fe),t._set(l[0],l[1],c[0]-l[0],c[1]-l[1],r)},inverseTransform:function(){return this._inverseTransform(D.read(arguments))},_inverseTransform:function(e,t,r){var u=this._a,l=this._b,c=this._c,m=this._d,p=this._tx,_=this._ty,b=u*m-l*c,E=null;if(b&&!isNaN(b)&&isFinite(p)&&isFinite(_)){var T=e.x-this._tx,S=e.y-this._ty;t||(t=new D),E=t._set((T*m-S*c)/b,(S*u-T*l)/b,r)}return E},decompose:function(){var e=this._a,t=this._b,r=this._c,u=this._d,l=e*u-t*r,c=Math.sqrt,m=Math.atan2,p=180/Math.PI,_,b,E;if(e!==0||t!==0){var T=c(e*e+t*t);_=Math.acos(e/T)*(t>0?1:-1),b=[T,l/T],E=[m(e*r+t*u,T*T),0]}else if(r!==0||u!==0){var S=c(r*r+u*u);_=Math.asin(r/S)*(u>0?1:-1),b=[l/S,S],E=[0,m(e*r+t*u,S*S)]}else _=0,E=b=[0,0];return{translation:this.getTranslation(),rotation:_*p,scaling:new D(b),skewing:new D(E[0]*p,E[1]*p)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new D(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(e){this.isIdentity()||e.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},v.each(["a","b","c","d","tx","ty"],function(e){var t=v.capitalize(e),r="_"+e;this["get"+t]=function(){return this[r]},this["set"+t]=function(u){this[r]=u,this._changed()}},{})),Ae=v.extend({_class:"Line",initialize:function(t,r,u,l,c){var m=!1;arguments.length>=4?(this._px=t,this._py=r,this._vx=u,this._vy=l,m=c):(this._px=t.x,this._py=t.y,this._vx=r.x,this._vy=r.y,m=u),m||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new D(this._px,this._py)},getVector:function(){return new D(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(e,t){return Ae.intersect(this._px,this._py,this._vx,this._vy,e._px,e._py,e._vx,e._vy,!0,t)},getSide:function(e,t){return Ae.getSide(this._px,this._py,this._vx,this._vy,e.x,e.y,!0,t)},getDistance:function(e){return Math.abs(this.getSignedDistance(e))},getSignedDistance:function(e){return Ae.getSignedDistance(this._px,this._py,this._vx,this._vy,e.x,e.y,!0)},isCollinear:function(e){return D.isCollinear(this._vx,this._vy,e._vx,e._vy)},isOrthogonal:function(e){return D.isOrthogonal(this._vx,this._vy,e._vx,e._vy)},statics:{intersect:function(e,t,r,u,l,c,m,p,_,b){_||(r-=e,u-=t,m-=l,p-=c);var E=r*p-u*m;if(!ge.isMachineZero(E)){var T=e-l,S=t-c,x=(m*S-p*T)/E,M=(r*S-u*T)/E,k=1e-12,R=-k,C=1+k;if(b||R<x&&x<C&&R<M&&M<C)return b||(x=x<=0?0:x>=1?1:x),new D(e+x*r,t+x*u)}},getSide:function(e,t,r,u,l,c,m,p){m||(r-=e,u-=t);var _=l-e,b=c-t,E=_*u-b*r;return!p&&ge.isMachineZero(E)&&(E=(_*r+_*r)/(r*r+u*u),E>=0&&E<=1&&(E=0)),E<0?-1:E>0?1:0},getSignedDistance:function(e,t,r,u,l,c,m){return m||(r-=e,u-=t),r===0?u>0?l-e:e-l:u===0?r<0?c-t:t-c:((l-e)*u-(c-t)*r)/(u>r?u*Math.sqrt(1+r*r/(u*u)):r*Math.sqrt(1+u*u/(r*r)))},getDistance:function(e,t,r,u,l,c,m){return Math.abs(Ae.getSignedDistance(e,t,r,u,l,c,m))}}}),Ee=ae.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(t){ae.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new Dt(null,null,this),this._view=$t.create(this,t||gt.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(e,t){return v.serialize(this._children,e,!0,t)},_changed:function(e,t){if(e&1){var r=this._view;r&&(r._needsUpdate=!0,!r._requested&&r._autoUpdate&&r.requestUpdate())}var u=this._changes;if(u&&t){var l=this._changesById,c=t._id,m=l[c];m?m.flags|=e:u.push(l[c]={item:t,flags:e})}},clear:function(){for(var e=this._children,t=e.length-1;t>=0;t--)e[t].remove()},isEmpty:function(){return!this._children.length},remove:function e(){return e.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(e){this._currentStyle.set(e)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new Je({project:this,insert:!0})},getSymbolDefinitions:function(){var e=[],t={};return this.getItems({class:We,match:function(r){var u=r._definition,l=u._id;return t[l]||(t[l]=!0,e.push(u)),!1}}),e},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var e=this._selectionItems,t=[];for(var r in e){var u=e[r],l=u._selection;l&1&&u.isInserted()?t.push(u):l||this._updateSelection(u)}return t},_updateSelection:function(e){var t=e._id,r=this._selectionItems;e._selection?r[t]!==e&&(this._selectionCount++,r[t]=e):r[t]===e&&(this._selectionCount--,delete r[t])},selectAll:function(){for(var e=this._children,t=0,r=e.length;t<r;t++)e[t].setFullySelected(!0)},deselectAll:function(){var e=this._selectionItems;for(var t in e)e[t].setFullySelected(!1)},addLayer:function(e){return this.insertLayer(a,e)},insertLayer:function(e,t){if(t instanceof Je){t._remove(!1,!0),v.splice(this._children,[t],e,0),t._setProject(this,!0);var r=t._name;r&&t.setName(r),this._changes&&t._changed(5),this._activeLayer||(this._activeLayer=t)}else t=null;return t},_insertItem:function(e,t,r){return t=this.insertLayer(e,t)||(this._activeLayer||this._insertItem(a,new Je(O.NO_INSERT),!0)).insertChild(e,t),r&&t.activate&&t.activate(),t},getItems:function(e){return O._getItems(this,e)},getItem:function(e){return O._getItems(this,e,null,null,!0)[0]||null},importJSON:function(e){this.activate();var t=this._activeLayer;return v.importJSON(e,t&&t.isEmpty()&&t)},removeOn:function(e){var t=this._removeSets;if(t){e==="mouseup"&&(t.mousedrag=null);var r=t[e];if(r){for(var u in r){var l=r[u];for(var c in t){var m=t[c];m&&m!=r&&delete m[l._id]}l.remove()}t[e]=null}}},draw:function(e,t,r){this._updateVersion++,e.save(),t.applyToContext(e);for(var u=this._children,l=new v({offset:new D(0,0),pixelRatio:r,viewMatrix:t.isIdentity()?null:t,matrices:[new he],updateMatrix:!0}),c=0,m=u.length;c<m;c++)u[c].draw(e,l);if(e.restore(),this._selectionCount>0){e.save(),e.strokeWidth=1;var p=this._selectionItems,_=this._scope.settings.handleSize,b=this._updateVersion;for(var E in p)p[E]._drawSelection(e,t,_,p,b);e.restore()}}}),O=v.extend(P,{statics:{extend:function e(t){return t._serializeFields&&(t._serializeFields=v.set({},this.prototype._serializeFields,t._serializeFields)),e.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new he,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var e=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return v.each(e,function(t){this._events[t]={install:function(r){this.getView()._countItemEvent(r,1)},uninstall:function(r){this.getView()._countItemEvent(r,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:e}})},{initialize:function(){},_initialize:function(e,t){var r=e&&v.isPlainObject(e),u=r&&e.internal===!0,l=this._matrix=new he,c=r&&e.project||Ue.project,m=Ue.settings;return this._id=u?null:Z.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&m.applyMatrix,t&&l.translate(t),l._owner=this,this._style=new Dt(c._currentStyle,this,c),u||r&&e.insert==!1||!m.insertItems&&!(r&&e.insert==!0)?this._setProject(c):(r&&e.parent||c)._insertItem(a,this,!0),r&&e!==O.NO_INSERT&&e!==O.INSERT&&this.set(e,{internal:!0,insert:!0,project:!0,parent:!0}),r},_serialize:function(e,t){var r={},u=this;function l(c){for(var m in c){var p=u[m];v.equals(p,m==="leading"?c.fontSize*1.2:c[m])||(r[m]=v.serialize(p,e,m!=="data",t))}}return l(this._serializeFields),this instanceof Pe||l(this._style._defaults),[this._class,r]},_changed:function(e){var t=this._symbol,r=this._parent||t,u=this._project;e&8&&(this._bounds=this._position=this._decomposed=a),e&16&&(this._globalMatrix=a),r&&e&72&&O._clearBoundsCache(r),e&2&&O._clearBoundsCache(this),u&&u._changed(e,this),t&&t._changed(e)},getId:function(){return this._id},getName:function(){return this._name},setName:function(e){if(this._name&&this._removeNamed(),e===+e+"")throw new Error("Names consisting only of numbers are not supported.");var t=this._getOwner();if(e&&t){var r=t._children,u=t._namedChildren;(u[e]=u[e]||[]).push(this),e in r||(r[e]=this)}this._name=e||a,this._changed(256)},getStyle:function(){return this._style},setStyle:function(e){this.getStyle().set(e)}},v.each(["locked","visible","blendMode","opacity","guide"],function(e){var t=v.capitalize(e),r="_"+e,u={locked:256,visible:265};this["get"+t]=function(){return this[r]},this["set"+t]=function(l){l!=this[r]&&(this[r]=l,this._changed(u[e]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(e){if(e!==this._selection){this._selection=e;var t=this._project;t&&(t._updateSelection(this),this._changed(257))}},_changeSelection:function(e,t){var r=this._selection;this.setSelection(t?r|e:r&~e)},isSelected:function(){if(this._selectChildren){for(var e=this._children,t=0,r=e.length;t<r;t++)if(e[t].isSelected())return!0}return!!(this._selection&1)},setSelected:function(e){if(this._selectChildren)for(var t=this._children,r=0,u=t.length;r<u;r++)t[r].setSelected(e);this._changeSelection(1,e)},isFullySelected:function(){var e=this._children,t=!!(this._selection&1);if(e&&t){for(var r=0,u=e.length;r<u;r++)if(!e[r].isFullySelected())return!1;return!0}return t},setFullySelected:function(e){var t=this._children;if(t)for(var r=0,u=t.length;r<u;r++)t[r].setFullySelected(e);this._changeSelection(1,e)},isClipMask:function(){return this._clipMask},setClipMask:function(e){this._clipMask!=(e=!!e)&&(this._clipMask=e,e&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(e){this._data=e},getPosition:function(e){var t=e?D:X,r=this._position||(this._position=this._getPositionFromBounds());return new t(r.x,r.y,this,"setPosition")},setPosition:function(){this.translate(D.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(e){return this._pivot?this._matrix._transformPoint(this._pivot):(e||this.getBounds()).getCenter(!0)},getPivot:function(){var e=this._pivot;return e?new X(e.x,e.y,this,"setPivot"):null},setPivot:function(){this._pivot=D.read(arguments,0,{clone:!0,readNull:!0}),this._position=a}},v.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(e,t){this[t]=function(r){return this.getBounds(r,e)}},{beans:!0,getBounds:function(e,t){var r=t||e instanceof he,u=v.set({},r?t:e,this._boundsOptions);(!u.stroke||this.getStrokeScaling())&&(u.cacheItem=this);var l=this._getCachedBounds(r&&e,u).rect;return arguments.length?l:new ve(l.x,l.y,l.width,l.height,this,"setBounds")},setBounds:function(){var e=fe.read(arguments),t=this.getBounds(),r=this._matrix,u=new he,l=e.getCenter();u.translate(l),(e.width!=t.width||e.height!=t.height)&&(r.isInvertible()||(r.set(r._backup||new he().translate(r.getTranslation())),t=this.getBounds()),u.scale(t.width!==0?e.width/t.width:0,t.height!==0?e.height/t.height:0)),l=t.getCenter(),u.translate(-l.x,-l.y),this.transform(u)},_getBounds:function(e,t){var r=this._children;return!r||!r.length?new fe:(O._updateBoundsCache(this,t.cacheItem),O._getBounds(r,e,t))},_getBoundsCacheKey:function(e,t){return[e.stroke?1:0,e.handle?1:0,t?1:0].join("")},_getCachedBounds:function(e,t,r){e=e&&e._orNullIfIdentity();var u=t.internal&&!r,l=t.cacheItem,c=u?null:this._matrix._orNullIfIdentity(),m=l&&(!e||e.equals(c))&&this._getBoundsCacheKey(t,u),p=this._bounds;if(O._updateBoundsCache(this._parent||this._symbol,l),m&&p&&m in p){var _=p[m];return{rect:_.rect.clone(),nonscaling:_.nonscaling}}var b=this._getBounds(e||c,t),E=b.rect||b,T=this._style,S=b.nonscaling||T.hasStroke()&&!T.getStrokeScaling();if(m){p||(this._bounds=p={});var _=p[m]={rect:E.clone(),nonscaling:S,internal:u}}return{rect:E,nonscaling:S}},_getStrokeMatrix:function(e,t){var r=this.getStrokeScaling()?null:t&&t.internal?this:this._parent||this._symbol&&this._symbol._item,u=r?r.getViewMatrix().invert():e;return u&&u._shiftless()},statics:{_updateBoundsCache:function(e,t){if(e&&t){var r=t._id,u=e._boundsCache=e._boundsCache||{ids:{},list:[]};u.ids[r]||(u.list.push(t),u.ids[r]=t)}},_clearBoundsCache:function(e){var t=e._boundsCache;if(t){e._bounds=e._position=e._boundsCache=a;for(var r=0,u=t.list,l=u.length;r<l;r++){var c=u[r];c!==e&&(c._bounds=c._position=a,c._boundsCache&&O._clearBoundsCache(c))}}},_getBounds:function(e,t,r){var u=1/0,l=-u,c=u,m=l,p=!1;r=r||{};for(var _=0,b=e.length;_<b;_++){var E=e[_];if(E._visible&&!E.isEmpty(!0)){var T=E._getCachedBounds(t&&t.appended(E._matrix),r,!0),S=T.rect;u=Math.min(S.x,u),c=Math.min(S.y,c),l=Math.max(S.x+S.width,l),m=Math.max(S.y+S.height,m),T.nonscaling&&(p=!0)}}return{rect:isFinite(u)?new fe(u,c,l-u,m-c):new fe,nonscaling:p}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var e=this._decompose();return e?e.rotation:0},setRotation:function(e){var t=this.getRotation();if(t!=null&&e!=null){var r=this._decomposed;this.rotate(e-t),r&&(r.rotation=e,this._decomposed=r)}},getScaling:function(){var e=this._decompose(),t=e&&e.scaling;return new X(t?t.x:1,t?t.y:1,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=D.read(arguments,0,{clone:!0,readNull:!0});if(e&&t&&!e.equals(t)){var r=this.getRotation(),u=this._decomposed,l=new he,c=ge.isZero;if(c(e.x)||c(e.y))l.translate(u.translation),r&&l.rotate(r),l.scale(t.x,t.y),this._matrix.set(l);else{var m=this.getPosition(!0);l.translate(m),r&&l.rotate(r),l.scale(t.x/e.x,t.y/e.y),r&&l.rotate(-r),l.translate(m.negate()),this.transform(l)}u&&(u.scaling=t,this._decomposed=u)}},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},getGlobalMatrix:function(e){var t=this._globalMatrix;if(t)for(var r=this._parent,u=[];r;){if(!r._globalMatrix){t=null;for(var l=0,c=u.length;l<c;l++)u[l]._globalMatrix=null;break}u.push(r),r=r._parent}if(!t){t=this._globalMatrix=this._matrix.clone();var r=this._parent;r&&t.prepend(r.getGlobalMatrix(!0))}return e?t:t.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(e){(this._applyMatrix=this._canApplyMatrix&&!!e)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(e,t){if(this._project!==e){this._project&&this._installEvents(!1),this._project=e;for(var r=this._children,u=0,l=r&&r.length;u<l;u++)r[u]._setProject(e);t=!0}t&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function e(t){e.base.call(this,t);for(var r=this._children,u=0,l=r&&r.length;u<l;u++)r[u]._installEvents(t)},getLayer:function(){for(var e=this;e=e._parent;)if(e instanceof Je)return e;return null},getParent:function(){return this._parent},setParent:function(e){return e.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(e){this.removeChildren(),this.addChildren(e)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var e=this._getOwner();return e&&e._children[this._index+1]||null},getPreviousSibling:function(){var e=this._getOwner();return e&&e._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(e){return e===this||e&&this._class===e._class&&this._style.equals(e._style)&&this._matrix.equals(e._matrix)&&this._locked===e._locked&&this._visible===e._visible&&this._blendMode===e._blendMode&&this._opacity===e._opacity&&this._clipMask===e._clipMask&&this._guide===e._guide&&this._equals(e)||!1},_equals:function(e){return v.equals(this._children,e._children)},clone:function(e){var t=new this.constructor(O.NO_INSERT),r=this._children,u=v.pick(e?e.insert:a,e===a||e===!0),l=v.pick(e?e.deep:a,!0);r&&t.copyAttributes(this),(!r||l)&&t.copyContent(this),r||t.copyAttributes(this),u&&t.insertAbove(this);var c=this._name,m=this._parent;if(c&&m){for(var r=m._children,p=c,_=1;r[c];)c=p+" "+_++;c!==p&&t.setName(c)}return t},copyContent:function(e){for(var t=e._children,r=0,u=t&&t.length;r<u;r++)this.addChild(t[r].clone(!1),!0)},copyAttributes:function(e,t){this.setStyle(e._style);for(var r=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],u=0,l=r.length;u<l;u++){var c=r[u];e.hasOwnProperty(c)&&(this[c]=e[c])}t||this._matrix.set(e._matrix,!0),this.setApplyMatrix(e._applyMatrix),this.setPivot(e._pivot),this.setSelection(e._selection);var m=e._data,p=e._name;this._data=m?v.clone(m):null,p&&this.setName(p)},rasterize:function(e,t){var r,u,l;v.isPlainObject(e)?(r=e.resolution,u=e.insert,l=e.raster):(r=e,u=t),l||(l=new ht(O.NO_INSERT));var c=this.getStrokeBounds(),m=(r||this.getView().getResolution())/72,p=c.getTopLeft().floor(),_=c.getBottomRight().ceil(),b=new K(_.subtract(p)),E=b.multiply(m);if(l.setSize(E,!0),!E.isZero()){var T=l.getContext(!0),S=new he().scale(m).translate(p.negate());T.save(),S.applyToContext(T),this.draw(T,new v({matrices:[S]})),T.restore()}return l._matrix.set(new he().translate(p.add(b.divide(2))).scale(1/m)),(u===a||u)&&l.insertAbove(this),l},contains:function(){var e=this._matrix;return e.isInvertible()&&!!this._contains(e._inverseTransform(D.read(arguments)))},_contains:function(e){var t=this._children;if(t){for(var r=t.length-1;r>=0;r--)if(t[r].contains(e))return!0;return!1}return e.isInside(this.getInternalBounds())},isInside:function(){return fe.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new xe.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(e,t){return e instanceof O?this._asPathItem().getIntersections(e._asPathItem(),null,t,!0).length>0:!1}},new function(){function e(){var u=arguments;return this._hitTest(D.read(u),Qe.getOptions(u))}function t(){var u=arguments,l=D.read(u),c=Qe.getOptions(u),m=[];return this._hitTest(l,new v({all:m},c)),m}function r(u,l,c,m){var p=this._children;if(p)for(var _=p.length-1;_>=0;_--){var b=p[_],E=b!==m&&b._hitTest(u,l,c);if(E&&!l.all)return E}return null}return Ee.inject({hitTest:e,hitTestAll:t,_hitTest:r}),{hitTest:e,hitTestAll:t,_hitTestChildren:r}},{_hitTest:function(e,t,r){if(this._locked||!this._visible||this._guide&&!t.guides||this.isEmpty())return null;var u=this._matrix,l=r?r.appended(u):this.getGlobalMatrix().prepend(this.getView()._matrix),c=Math.max(t.tolerance,1e-12),m=t._tolerancePadding=new K(xe._getStrokePadding(c,u._shiftless().invert()));if(e=u._inverseTransform(e),!e||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(m.multiply(2))._containsPoint(e))return null;var p=!(t.guides&&!this._guide||t.selected&&!this.isSelected()||t.type&&t.type!==v.hyphenate(this._class)||t.class&&!(this instanceof t.class)),_=t.match,b=this,E,T;function S(w){return w&&_&&!_(w)&&(w=null),w&&t.all&&t.all.push(w),w}function x(w,L){var B=L?E["get"+L]():b.getPosition();if(e.subtract(B).divide(m).length<=1)return new Qe(w,b,{name:L?v.hyphenate(L):w,point:B})}var M=t.position,k=t.center,R=t.bounds;if(p&&this._parent&&(M||k||R)){if((k||R)&&(E=this.getInternalBounds()),T=M&&x("position")||k&&x("center","Center"),!T&&R)for(var C=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],N=0;N<8&&!T;N++)T=x("bounds",C[N]);T=S(T)}return T||(T=this._hitTestChildren(e,t,l)||p&&S(this._hitTestSelf(e,t,l,this.getStrokeScaling()?null:l._shiftless().invert()))||null),T&&T.point&&(T.point=u.transform(T.point)),T},_hitTestSelf:function(e,t){if(t.fill&&this.hasFill()&&this._contains(e))return new Qe("fill",this)},matches:function(e,t){function r(m,p){for(var _ in m)if(m.hasOwnProperty(_)){var b=m[_],E=p[_];if(v.isPlainObject(b)&&v.isPlainObject(E)){if(!r(b,E))return!1}else if(!v.equals(b,E))return!1}return!0}var u=typeof e;if(u==="object"){for(var l in e)if(e.hasOwnProperty(l)&&!this.matches(l,e[l]))return!1;return!0}else{if(u==="function")return e(this);if(e==="match")return t(this);var c=/^(empty|editable)$/.test(e)?this["is"+v.capitalize(e)]():e==="type"?v.hyphenate(this._class):this[e];if(e==="class"){if(typeof t=="function")return this instanceof t;c=this._class}if(typeof t=="function")return!!t(c);if(t){if(t.test)return t.test(c);if(v.isPlainObject(t))return r(t,c)}return v.equals(c,t)}},getItems:function(e){return O._getItems(this,e,this._matrix)},getItem:function(e){return O._getItems(this,e,this._matrix,null,!0)[0]||null},statics:{_getItems:function e(t,r,u,l,c){if(!l){var m=typeof r=="object"&&r,p=m&&m.overlapping,_=m&&m.inside,b=p||_,S=b&&fe.read([b]);l={items:[],recursive:m&&m.recursive!==!1,inside:!!_,overlapping:!!p,rect:S,path:p&&new xe.Rectangle({rectangle:S,insert:!1})},m&&(r=v.filter({},r,{recursive:!0,inside:!0,overlapping:!0}))}var E=t._children,T=l.items,S=l.rect;u=S&&(u||new he);for(var x=0,M=E&&E.length;x<M;x++){var k=E[x],R=u&&u.appended(k._matrix),C=!0;if(S){var b=k.getBounds(R);if(!S.intersects(b))continue;S.contains(b)||l.overlapping&&(b.contains(S)||l.path.intersects(k,R))||(C=!1)}if(C&&k.matches(r)&&(T.push(k),c)||(l.recursive!==!1&&e(k,r,R,l,c),c&&T.length>0))break}return T}}},{importJSON:function(e){var t=v.importJSON(e,this);return t!==this?this.addChild(t):t},addChild:function(e){return this.insertChild(a,e)},insertChild:function(e,t){var r=t?this.insertChildren(e,[t]):null;return r&&r[0]},addChildren:function(e){return this.insertChildren(this._children.length,e)},insertChildren:function(e,t){var r=this._children;if(r&&t&&t.length>0){t=v.slice(t);for(var u={},l=t.length-1;l>=0;l--){var c=t[l],m=c&&c._id;!c||u[m]?t.splice(l,1):(c._remove(!1,!0),u[m]=!0)}v.splice(r,t,e,0);for(var p=this._project,_=p._changes,l=0,b=t.length;l<b;l++){var c=t[l],E=c._name;c._parent=this,c._setProject(p,!0),E&&c.setName(E),_&&c._changed(5)}this._changed(11)}else t=null;return t},_insertItem:"#insertChild",_insertAt:function(e,t){var r=e&&e._getOwner(),u=e!==this&&r?this:null;return u&&(u._remove(!1,!0),r._insertItem(e._index+t,u)),u},insertAbove:function(e){return this._insertAt(e,1)},insertBelow:function(e){return this._insertAt(e,0)},sendToBack:function(){var e=this._getOwner();return e?e._insertItem(0,this):null},bringToFront:function(){var e=this._getOwner();return e?e._insertItem(a,this):null},appendTop:"#addChild",appendBottom:function(e){return this.insertChild(0,e)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(e){return e._insertItem(a,this)},copyTo:function(e){return this.clone(!1).addTo(e)},reduce:function(e){var t=this._children;if(t&&t.length===1){var r=t[0].reduce(e);return this._parent?(r.insertAbove(this),this.remove()):r.remove(),r}return this},_removeNamed:function(){var e=this._getOwner();if(e){var t=e._children,r=e._namedChildren,u=this._name,l=r[u],c=l?l.indexOf(this):-1;c!==-1&&(t[u]==this&&delete t[u],l.splice(c,1),l.length?t[u]=l[0]:delete r[u])}},_remove:function(e,t){var r=this._getOwner(),u=this._project,l=this._index;return this._style&&this._style._dispose(),r?(this._name&&this._removeNamed(),l!=null&&(u._activeLayer===this&&(u._activeLayer=this.getNextSibling()||this.getPreviousSibling()),v.splice(r._children,null,l,1)),this._installEvents(!1),e&&u._changes&&this._changed(5),t&&r._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(e){var t=e&&e.insertBelow(this);return t&&this.remove(),t},removeChildren:function(e,t){if(!this._children)return null;e=e||0,t=v.pick(t,this._children.length);for(var r=v.splice(this._children,null,e,t-e),u=r.length-1;u>=0;u--)r[u]._remove(!0,!1);return r.length>0&&this._changed(11),r},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var e=0,t=this._children.length;e<t;e++)this._children[e]._index=e;this._changed(11)}},isEmpty:function(e){var t=this._children,r=t?t.length:0;if(e){for(var u=0;u<r;u++)if(!t[u].isEmpty(e))return!1;return!0}return!r},isEditable:function(){for(var e=this;e;){if(!e._visible||e._locked)return!1;e=e._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(e){function t(m){var p=[];do p.unshift(m);while(m=m._parent);return p}for(var r=t(this),u=t(e),l=0,c=Math.min(r.length,u.length);l<c;l++)if(r[l]!=u[l])return r[l]._index<u[l]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(e){return this._getOrder(e)===-1},isBelow:function(e){return this._getOrder(e)===1},isParent:function(e){return this._parent===e},isChild:function(e){return e&&e._parent===this},isDescendant:function(e){for(var t=this;t=t._parent;)if(t===e)return!0;return!1},isAncestor:function(e){return e?e.isDescendant(this):!1},isSibling:function(e){return this._parent===e._parent},isGroupedWith:function(e){for(var t=this._parent;t;){if(t._parent&&/^(Group|Layer|CompoundPath)$/.test(t._class)&&e.isDescendant(t))return!0;t=t._parent}return!1}},v.each(["rotate","scale","shear","skew"],function(e){var t=e==="rotate";this[e]=function(){var r=arguments,u=(t?v:D).read(r),l=D.read(r,0,{readNull:!0});return this.transform(new he()[e](u,l||this.getPosition(!0)))}},{translate:function(){var e=new he;return this.transform(e.translate.apply(e,arguments))},transform:function(e,t,r){var u=this._matrix,l=e&&!e.isIdentity(),c=r&&this._canApplyMatrix||this._applyMatrix&&(l||!u.isIdentity()||t&&this._children);if(!l&&!c)return this;if(l){!e.isInvertible()&&u.isInvertible()&&(u._backup=u.getValues()),u.prepend(e,!0);var m=this._style,p=m.getFillColor(!0),_=m.getStrokeColor(!0);p&&p.transform(e),_&&_.transform(e)}if(c&&(c=this._transformContent(u,t,r))){var b=this._pivot;b&&u._transformPoint(b,b,!0),u.reset(!0),r&&this._canApplyMatrix&&(this._applyMatrix=!0)}var E=this._bounds,T=this._position;(l||c)&&this._changed(25);var S=l&&E&&e.decompose();if(S&&S.skewing.isZero()&&S.rotation%90===0){for(var x in E){var M=E[x];if(M.nonscaling)delete E[x];else if(c||!M.internal){var k=M.rect;e._transformBounds(k,k)}}this._bounds=E;var R=E[this._getBoundsCacheKey(this._boundsOptions||{})];R&&(this._position=this._getPositionFromBounds(R.rect))}else l&&T&&this._pivot&&(this._position=e._transformPoint(T,T));return this},_transformContent:function(e,t,r){var u=this._children;if(u){for(var l=0,c=u.length;l<c;l++)u[l].transform(e,t,r);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(D.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(D.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(D.read(arguments))},localToParent:function(){return this._matrix._transformPoint(D.read(arguments))},fitBounds:function(e,t){e=fe.read(arguments);var r=this.getBounds(),u=r.height/r.width,l=e.height/e.width,c=(t?u>l:u<l)?e.width/r.width:e.height/r.height,m=new fe(new D,new K(r.width*c,r.height*c));m.setCenter(e.getCenter()),this.setBounds(m)}}),{_setStyles:function(e,t,r){var u=this._style,l=this._matrix;if(u.hasFill()&&(e.fillStyle=u.getFillColor().toCanvasStyle(e,l)),u.hasStroke()){e.strokeStyle=u.getStrokeColor().toCanvasStyle(e,l),e.lineWidth=u.getStrokeWidth();var c=u.getStrokeJoin(),m=u.getStrokeCap(),p=u.getMiterLimit();if(c&&(e.lineJoin=c),m&&(e.lineCap=m),p&&(e.miterLimit=p),Ue.support.nativeDash){var _=u.getDashArray(),b=u.getDashOffset();_&&_.length&&("setLineDash"in e?(e.setLineDash(_),e.lineDashOffset=b):(e.mozDash=_,e.mozDashOffset=b))}}if(u.hasShadow()){var E=t.pixelRatio||1,T=r._shiftless().prepend(new he().scale(E,E)),S=T.transform(new D(u.getShadowBlur(),0)),x=T.transform(this.getShadowOffset());e.shadowColor=u.getShadowColor().toCanvasStyle(e),e.shadowBlur=S.getLength(),e.shadowOffsetX=x.x,e.shadowOffsetY=x.y}},draw:function(e,t,r){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var u=t.matrices,l=t.viewMatrix,c=this._matrix,m=u[u.length-1].appended(c);if(!!m.isInvertible()){l=l?l.appended(m):m,u.push(m),t.updateMatrix&&(this._globalMatrix=m);var p=this._blendMode,_=ge.clamp(this._opacity,0,1),b=p==="normal",E=Ni.nativeModes[p],T=b&&_===1||t.dontStart||t.clip||(E||b&&_<1)&&this._canComposite(),S=t.pixelRatio||1,x,M,k;if(!T){var R=this.getStrokeBounds(l);if(!R.width||!R.height){u.pop();return}k=t.offset,M=t.offset=R.getTopLeft().floor(),x=e,e=gt.getContext(R.getSize().ceil().add(1).multiply(S)),S!==1&&e.scale(S,S)}e.save();var C=r?r.appended(c):this._canScaleStroke&&!this.getStrokeScaling(!0)&&l,N=!T&&t.clipItem,w=!C||N;if(T?(e.globalAlpha=_,E&&(e.globalCompositeOperation=p)):w&&e.translate(-M.x,-M.y),w&&(T?c:l).applyToContext(e),N&&t.clipItem.draw(e,t.extend({clip:!0})),C){e.setTransform(S,0,0,S,0,0);var L=t.offset;L&&e.translate(-L.x,-L.y)}this._draw(e,t,l,C),e.restore(),u.pop(),t.clip&&!t.dontFinish&&e.clip(this.getFillRule()),T||(Ni.process(p,e,x,_,M.subtract(k).multiply(S)),gt.release(e),t.offset=k)}}},_isUpdated:function(e){var t=this._parent;if(t instanceof Ie)return t._isUpdated(e);var r=this._updateVersion===e;return!r&&t&&t._visible&&t._isUpdated(e)&&(this._updateVersion=e,r=!0),r},_drawSelection:function(e,t,r,u,l){var c=this._selection,m=c&1,p=c&2||m&&this._selectBounds,_=c&4;if(this._drawSelected||(m=!1),(m||p||_)&&this._isUpdated(l)){var b,E=this.getSelectedColor(!0)||(b=this.getLayer())&&b.getSelectedColor(!0),T=t.appended(this.getGlobalMatrix(!0)),S=r/2;if(e.strokeStyle=e.fillStyle=E?E.toCanvasStyle(e):"#009dec",m&&this._drawSelected(e,T,u),_){var x=this.getPosition(!0),M=this._parent,k=M?M.localToGlobal(x):x,R=k.x,C=k.y;e.beginPath(),e.arc(R,C,S,0,Math.PI*2,!0),e.stroke();for(var N=[[0,-1],[1,0],[0,1],[-1,0]],w=S,L=r+1,B=0;B<4;B++){var U=N[B],F=U[0],W=U[1];e.moveTo(R+F*w,C+W*w),e.lineTo(R+F*L,C+W*L),e.stroke()}}if(p){var j=T._transformCorners(this.getInternalBounds());e.beginPath();for(var B=0;B<8;B++)e[B?"lineTo":"moveTo"](j[B],j[++B]);e.closePath(),e.stroke();for(var B=0;B<8;B++)e.fillRect(j[B]-S,j[++B]-S,r,r)}}},_canComposite:function(){return!1}},v.each(["down","drag","up","move"],function(e){this["removeOn"+v.capitalize(e)]=function(){var t={};return t[e]=!0,this.removeOn(t)}},{removeOn:function(e){for(var t in e)if(e[t]){var r="mouse"+t,u=this._project,l=u._removeSets=u._removeSets||{};l[r]=l[r]||{},l[r][this._id]=this}return this}}),{tween:function(e,t,r){r||(r=t,t=e,e=null,r||(r=t,t=null));var u=r&&r.easing,l=r&&r.start,c=r!=null&&(typeof r=="number"?r:r.duration),m=new mn(this,e,t,c,u,l);function p(_){m._handleFrame(_.time*1e3),m.running||this.off("frame",p)}return c&&this.on("frame",p),m},tweenTo:function(e,t){return this.tween(null,e,t)},tweenFrom:function(e,t){return this.tween(e,null,t)}}),Pe=O.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function e(t){e.base.call(this,t),t&2050&&(this._clipItem=a)},_getClipItem:function(){var e=this._clipItem;if(e===a){e=null;for(var t=this._children,r=0,u=t.length;r<u;r++)if(t[r]._clipMask){e=t[r];break}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem()},setClipped:function(e){var t=this.getFirstChild();t&&t.setClipMask(e)},_getBounds:function e(t,r){var u=this._getClipItem();return u?u._getCachedBounds(u._matrix.prepended(t),v.set({},r,{stroke:!1})):e.base.call(this,t,r)},_hitTestChildren:function e(t,r,u){var l=this._getClipItem();return(!l||l.contains(t))&&e.base.call(this,t,r,u,l)},_draw:function(e,t){var r=t.clip,u=!r&&this._getClipItem();t=t.extend({clipItem:u,clip:!1}),r?(e.beginPath(),t.dontStart=t.dontFinish=!0):u&&u.draw(e,t.extend({clip:!0}));for(var l=this._children,c=0,m=l.length;c<m;c++){var p=l[c];p!==u&&p.draw(e,t)}}}),Je=Pe.extend({_class:"Layer",initialize:function(){Pe.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function e(){return this._parent?e.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),Xe=O.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t,r){this._initialize(t,r)},_equals:function(e){return this._type===e._type&&this._size.equals(e._size)&&v.equals(this._radius,e._radius)},copyContent:function(e){this.setType(e._type),this.setSize(e._size),this.setRadius(e._radius)},getType:function(){return this._type},setType:function(e){this._type=e},getShape:"#getType",setShape:"#setType",getSize:function(){var e=this._size;return new ie(e.width,e.height,this,"setSize")},setSize:function(){var e=K.read(arguments);if(!this._size)this._size=e.clone();else if(!this._size.equals(e)){var t=this._type,r=e.width,u=e.height;t==="rectangle"?this._radius.set(K.min(this._radius,e.divide(2).abs())):t==="circle"?(r=u=(r+u)/2,this._radius=r/2):t==="ellipse"&&this._radius._set(r/2,u/2),this._size._set(r,u),this._changed(9)}},getRadius:function(){var e=this._radius;return this._type==="circle"?e:new ie(e.width,e.height,this,"setRadius")},setRadius:function(e){var t=this._type;if(t==="circle"){if(e===this._radius)return;var r=e*2;this._radius=e,this._size._set(r,r)}else if(e=K.read(arguments),!this._radius)this._radius=e.clone();else{if(this._radius.equals(e))return;if(this._radius.set(e),t==="rectangle"){var r=K.max(this._size,e.multiply(2));this._size.set(r)}else t==="ellipse"&&this._size._set(e.width*2,e.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(e){var t=new xe[v.capitalize(this._type)]({center:new D,size:this._size,radius:this._radius,insert:!1});return t.copyAttributes(this),Ue.settings.applyMatrix&&t.setApplyMatrix(!0),(e===a||e)&&t.insertAbove(this),t},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(e,t,r,u){var l=this._style,c=l.hasFill(),m=l.hasStroke(),p=t.dontFinish||t.clip,_=!u;if(c||m||p){var b=this._type,E=this._radius,T=b==="circle";if(t.dontStart||e.beginPath(),_&&T)e.arc(0,0,E,0,Math.PI*2,!0);else{var S=T?E:E.width,x=T?E:E.height,M=this._size,k=M.width,R=M.height;if(_&&b==="rectangle"&&S===0&&x===0)e.rect(-k/2,-R/2,k,R);else{var C=k/2,N=R/2,w=1-.5522847498307936,L=S*w,B=x*w,U=[-C,-N+x,-C,-N+B,-C+L,-N,-C+S,-N,C-S,-N,C-L,-N,C,-N+B,C,-N+x,C,N-x,C,N-B,C-L,N,C-S,N,-C+S,N,-C+L,N,-C,N-B,-C,N-x];u&&u.transform(U,U,32),e.moveTo(U[0],U[1]),e.bezierCurveTo(U[2],U[3],U[4],U[5],U[6],U[7]),C!==S&&e.lineTo(U[8],U[9]),e.bezierCurveTo(U[10],U[11],U[12],U[13],U[14],U[15]),N!==x&&e.lineTo(U[16],U[17]),e.bezierCurveTo(U[18],U[19],U[20],U[21],U[22],U[23]),C!==S&&e.lineTo(U[24],U[25]),e.bezierCurveTo(U[26],U[27],U[28],U[29],U[30],U[31])}}e.closePath()}!p&&(c||m)&&(this._setStyles(e,t,r),c&&(e.fill(l.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),m&&e.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(e,t){var r=new fe(this._size).setCenter(0,0),u=this._style,l=t.stroke&&u.hasStroke()&&u.getStrokeWidth();return e&&(r=e._transformBounds(r)),l?r.expand(xe._getStrokePadding(l,this._getStrokeMatrix(e,t))):r}},new function(){function e(r,u,l){var c=r._radius;if(!c.isZero())for(var m=r._size.divide(2),p=1;p<=4;p++){var _=new D(p>1&&p<4?-1:1,p>2?-1:1),b=_.multiply(m),E=b.subtract(_.multiply(c)),T=new fe(l?b.add(_.multiply(l)):b,E);if(T.contains(u))return{point:E,quadrant:p}}}function t(r,u,l,c){var m=r.divide(u);return(!c||m.isInQuadrant(c))&&m.subtract(m.normalize()).multiply(u).divide(l).length<=1}return{_contains:function r(u){if(this._type==="rectangle"){var l=e(this,u);return l?u.subtract(l.point).divide(this._radius).getLength()<=1:r.base.call(this,u)}else return u.divide(this.size).getLength()<=.5},_hitTestSelf:function r(u,l,c,m){var p=!1,_=this._style,b=l.stroke&&_.hasStroke(),E=l.fill&&_.hasFill();if(b||E){var T=this._type,S=this._radius,x=b?_.getStrokeWidth()/2:0,M=l._tolerancePadding.add(xe._getStrokePadding(x,!_.getStrokeScaling()&&m));if(T==="rectangle"){var k=M.multiply(2),R=e(this,u,k);if(R)p=t(u.subtract(R.point),S,M,R.quadrant);else{var C=new fe(this._size).setCenter(0,0),N=C.expand(k),w=C.expand(k.negate());p=N._containsPoint(u)&&!w._containsPoint(u)}}else p=t(u,S,M)}return p?new Qe(b?"stroke":"fill",this):r.base.apply(this,arguments)}}},{statics:new function(){function e(t,r,u,l,c){var m=v.create(Xe.prototype);return m._type=t,m._size=u,m._radius=l,m._initialize(v.getNamed(c),r),m}return{Circle:function(){var t=arguments,r=D.readNamed(t,"center"),u=v.readNamed(t,"radius");return e("circle",r,new K(u*2),u,t)},Rectangle:function(){var t=arguments,r=fe.readNamed(t,"rectangle"),u=K.min(K.readNamed(t,"radius"),r.getSize(!0).divide(2));return e("rectangle",r.getCenter(!0),r.getSize(!0),u,t)},Ellipse:function(){var t=arguments,r=Xe._readEllipse(t),u=r.radius;return e("ellipse",r.center,u.multiply(2),u,t)},_readEllipse:function(t){var r,u;if(v.hasNamed(t,"radius"))r=D.readNamed(t,"center"),u=K.readNamed(t,"radius");else{var l=fe.readNamed(t,"rectangle");r=l.getCenter(!0),u=l.getSize(!0).divide(2)}return{center:r,radius:u}}}}}),ht=O.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(t,r){if(!this._initialize(t,r!==a&&D.read(arguments))){var u,l=typeof t,c=l==="string"?A.getElementById(t):l==="object"?t:null;if(c&&c!==O.NO_INSERT){if(c.getContext||c.naturalHeight!=null)u=c;else if(c){var m=K.read(arguments);m.isZero()||(u=gt.getCanvas(m))}}u?this.setImage(u):this.setSource(t)}this._size||(this._size=new K,this._loaded=!1)},_equals:function(e){return this.getSource()===e.getSource()},copyContent:function(e){var t=e._image,r=e._canvas;if(t)this._setImage(t);else if(r){var u=gt.getCanvas(e._size);u.getContext("2d").drawImage(r,0,0),this._setImage(u)}this._crossOrigin=e._crossOrigin},getSize:function(){var e=this._size;return new ie(e?e.width:0,e?e.height:0,this,"setSize")},setSize:function(e,t){var r=K.read(arguments);if(r.equals(this._size))t&&this.clear();else if(r.width>0&&r.height>0){var u=!t&&this.getElement();this._setImage(gt.getCanvas(r)),u&&this.getContext(!0).drawImage(u,0,0,r.width,r.height)}else this._canvas&&gt.release(this._canvas),this._size=r.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(e){this.setSize(e,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(e){this.setSize(this.getWidth(),e)},getLoaded:function(){return this._loaded},isEmpty:function(){var e=this._size;return!e||e.width===0&&e.height===0},getResolution:function(){var e=this._matrix,t=new D(0,0).transform(e),r=new D(1,0).transform(e).subtract(t),u=new D(0,1).transform(e).subtract(t);return new K(72/r.getLength(),72/u.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(e){var t=this;function r(u){var l=t.getView(),c=u&&u.type||"load";l&&t.responds(c)&&(Ue=l._scope,t.emit(c,new ot(u)))}this._setImage(e),this._loaded?setTimeout(r,0):e&&Mt.add(e,{load:function(u){t._setImage(e),r(u)},error:r})},_setImage:function(e){this._canvas&&gt.release(this._canvas),e&&e.getContext?(this._image=null,this._canvas=e,this._loaded=!0):(this._image=e,this._canvas=null,this._loaded=!!(e&&e.src&&e.complete)),this._size=new K(e?e.naturalWidth||e.width:0,e?e.naturalHeight||e.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var e=gt.getContext(this._size);try{this._image&&e.drawImage(this._image,0,0),this._canvas=e.canvas}catch(t){gt.release(e)}}return this._canvas},setCanvas:"#setImage",getContext:function(e){return this._context||(this._context=this.getCanvas().getContext("2d")),e&&(this._image=null,this._changed(1025)),this._context},setContext:function(e){this._context=e},getSource:function(){var e=this._image;return e&&e.src||this.toDataURL()},setSource:function(e){var t=new d.Image,r=this._crossOrigin;r&&(t.crossOrigin=r),e&&(t.src=e),this.setImage(t)},getCrossOrigin:function(){var e=this._image;return e&&e.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(e){this._crossOrigin=e;var t=this._image;t&&(t.crossOrigin=e)},getSmoothing:function(){return this._smoothing},setSmoothing:function(e){this._smoothing=typeof e=="string"?e:e?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var e=fe.read(arguments),t=gt.getContext(e.getSize());return t.drawImage(this.getCanvas(),e.x,e.y,e.width,e.height,0,0,e.width,e.height),t.canvas},getSubRaster:function(){var e=fe.read(arguments),t=new ht(O.NO_INSERT);return t._setImage(this.getSubCanvas(e)),t.translate(e.getCenter().subtract(this.getSize().divide(2))),t._matrix.prepend(this._matrix),t.insertAbove(this),t},toDataURL:function(){var e=this._image,t=e&&e.src;if(/^data:/.test(t))return t;var r=this.getCanvas();return r?r.toDataURL.apply(r,arguments):null},drawImage:function(e){var t=D.read(arguments,1);this.getContext(!0).drawImage(e,t.x,t.y)},getAverageColor:function(e){var t,r;if(e?e instanceof Me?(r=e,t=e.getBounds()):typeof e=="object"&&("width"in e?t=new fe(e):"x"in e&&(t=new fe(e.x-.5,e.y-.5,1,1))):t=this.getBounds(),!t)return null;var u=32,l=Math.min(t.width,u),c=Math.min(t.height,u),m=ht._sampleContext;m?m.clearRect(0,0,u+1,u+1):m=ht._sampleContext=gt.getContext(new K(u)),m.save();var p=new he().scale(l/t.width,c/t.height).translate(-t.x,-t.y);p.applyToContext(m),r&&r.draw(m,new v({clip:!0,matrices:[p]})),this._matrix.applyToContext(m);var _=this.getElement(),b=this._size;_&&m.drawImage(_,-b.width/2,-b.height/2),m.restore();for(var E=m.getImageData(.5,.5,Math.ceil(l),Math.ceil(c)).data,T=[0,0,0],S=0,x=0,M=E.length;x<M;x+=4){var k=E[x+3];S+=k,k/=255,T[0]+=E[x]*k,T[1]+=E[x+1]*k,T[2]+=E[x+2]*k}for(var x=0;x<3;x++)T[x]/=S;return S?lt.read(T):null},getPixel:function(){var e=D.read(arguments),t=this.getContext().getImageData(e.x,e.y,1,1).data;return new lt("rgb",[t[0]/255,t[1]/255,t[2]/255],t[3]/255)},setPixel:function(){var e=arguments,t=D.read(e),r=lt.read(e),u=r._convert("rgb"),l=r._alpha,c=this.getContext(!0),m=c.createImageData(1,1),p=m.data;p[0]=u[0]*255,p[1]=u[1]*255,p[2]=u[2]*255,p[3]=l!=null?l*255:255,c.putImageData(m,t.x,t.y)},clear:function(){var e=this._size;this.getContext(!0).clearRect(0,0,e.width+1,e.height+1)},createImageData:function(){var e=K.read(arguments);return this.getContext().createImageData(e.width,e.height)},getImageData:function(){var e=fe.read(arguments);return e.isEmpty()&&(e=new fe(this._size)),this.getContext().getImageData(e.x,e.y,e.width,e.height)},putImageData:function(e){var t=D.read(arguments,1);this.getContext(!0).putImageData(e,t.x,t.y)},setImageData:function(e){this.setSize(e),this.getContext(!0).putImageData(e,0,0)},_getBounds:function(e,t){var r=new fe(this._size).setCenter(0,0);return e?e._transformBounds(r):r},_hitTestSelf:function(e){if(this._contains(e)){var t=this;return new Qe("pixel",t,{offset:e.add(t._size.divide(2)).round(),color:{get:function(){return t.getPixel(this.offset)}}})}},_draw:function(e,t,r){var u=this.getElement();if(u&&u.width>0&&u.height>0){e.globalAlpha=ge.clamp(this._opacity,0,1),this._setStyles(e,t,r);var l=this._smoothing,c=l==="off";dt.setPrefixed(e,c?"imageSmoothingEnabled":"imageSmoothingQuality",c?!1:l),e.drawImage(u,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),We=O.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(t,r){this._initialize(t,r!==a&&D.read(arguments,1))||this.setDefinition(t instanceof Ge?t:new Ge(t))},_equals:function(e){return this._definition===e._definition},copyContent:function(e){this.setDefinition(e._definition)},getDefinition:function(){return this._definition},setDefinition:function(e){this._definition=e,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(e,t){var r=this._definition._item;return r._getCachedBounds(r._matrix.prepended(e),t)},_hitTestSelf:function(e,t,r){var u=t.extend({all:!1}),l=this._definition._item._hitTest(e,u,r);return l&&(l.item=this),l},_draw:function(e,t){this._definition._item.draw(e,t)}}),Ge=v.extend({_class:"SymbolDefinition",initialize:function(t,r){this._id=Z.get(),this.project=Ue.project,t&&this.setItem(t,r)},_serialize:function(e,t){return t.add(this,function(){return v.serialize([this._class,this._item],e,!1,t)})},_changed:function(e){e&8&&O._clearBoundsCache(this),e&1&&this.project._changed(e)},getItem:function(){return this._item},setItem:function(e,t){e._symbol&&(e=e.clone()),this._item&&(this._item._symbol=null),this._item=e,e.remove(),e.setSelected(!1),t||e.setPosition(new D),e._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(e){return new We(this,e)},clone:function(){return new Ge(this._item.clone(!1))},equals:function(e){return e===this||e&&this._item.equals(e._item)||!1}}),Qe=v.extend({_class:"HitResult",initialize:function(t,r,u){this.type=t,this.item=r,u&&this.inject(u)},statics:{getOptions:function(e){var t=e&&v.read(e);return new v({type:null,tolerance:Ue.settings.hitTolerance,fill:!t,stroke:!t,segments:!t,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},t)}}}),Ve=v.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(t,r,u,l,c,m){var p=arguments.length,_,b,E,T;p>0&&(t==null||typeof t=="object"?p===1&&t&&"point"in t?(_=t.point,b=t.handleIn,E=t.handleOut,T=t.selection):(_=t,b=r,E=u,T=l):(_=[t,r],b=u!==a?[u,l]:null,E=c!==a?[c,m]:null)),new xt(_,this,"_point"),new xt(b,this,"_handleIn"),new xt(E,this,"_handleOut"),T&&this.setSelection(T)},_serialize:function(e,t){var r=this._point,u=this._selection,l=u||this.hasHandles()?[r,this._handleIn,this._handleOut]:r;return u&&l.push(u),v.serialize(l,e,!0,t)},_changed:function(e){var t=this._path;if(!!t){var r=t._curves,u=this._index,l;r&&((!e||e===this._point||e===this._handleIn)&&(l=u>0?r[u-1]:t._closed?r[r.length-1]:null)&&l._changed(),(!e||e===this._point||e===this._handleOut)&&(l=r[u])&&l._changed()),t._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(D.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(D.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(D.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var e=this._handleIn,t=this._handleOut;return!e.isZero()&&!t.isZero()&&e.isCollinear(t)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(e){var t=this._selection,r=this._path;this._selection=e=e||0,r&&e!==t&&(r._updateSelection(this,t,e),r._changed(257))},_changeSelection:function(e,t){var r=this._selection;this.setSelection(t?r|e:r&~e)},isSelected:function(){return!!(this._selection&7)},setSelected:function(e){this._changeSelection(7,e)},getIndex:function(){return this._index!==a?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var e=this._path,t=this._index;return e?(t>0&&!e._closed&&t===e._segments.length-1&&t--,e.getCurves()[t]||null):null},getLocation:function(){var e=this.getCurve();return e?new yt(e,this===e._segment1?0:1):null},getNext:function(){var e=this._path&&this._path._segments;return e&&(e[this._index+1]||this._path._closed&&e[0])||null},smooth:function(e,t,r){var u=e||{},l=u.type,c=u.factor,m=this.getPrevious(),p=this.getNext(),_=(m||this)._point,b=this._point,E=(p||this)._point,T=_.getDistance(b),S=b.getDistance(E);if(!l||l==="catmull-rom"){var x=c===a?.5:c,M=Math.pow(T,x),k=M*M,R=Math.pow(S,x),C=R*R;if(!t&&m){var N=2*C+3*R*M+k,w=3*R*(R+M);this.setHandleIn(w!==0?new D((C*_._x+N*b._x-k*E._x)/w-b._x,(C*_._y+N*b._y-k*E._y)/w-b._y):new D)}if(!r&&p){var N=2*k+3*M*R+C,w=3*M*(M+R);this.setHandleOut(w!==0?new D((k*E._x+N*b._x-C*_._x)/w-b._x,(k*E._y+N*b._y-C*_._y)/w-b._y):new D)}}else if(l==="geometric"){if(m&&p){var L=_.subtract(E),B=c===a?.4:c,U=B*T/(T+S);t||this.setHandleIn(L.multiply(U)),r||this.setHandleOut(L.multiply(U-B))}}else throw new Error("Smoothing method '"+l+"' not supported.")},getPrevious:function(){var e=this._path&&this._path._segments;return e&&(e[this._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var e=this._path;return e&&this._index===e._segments.length-1||!1},reverse:function(){var e=this._handleIn,t=this._handleOut,r=e.clone();e.set(t),t.set(r)},reversed:function(){return new Ve(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new Ve(this._point,this._handleIn,this._handleOut)},equals:function(e){return e===this||e&&this._class===e._class&&this._point.equals(e._point)&&this._handleIn.equals(e._handleIn)&&this._handleOut.equals(e._handleOut)||!1},toString:function(){var e=["point: "+this._point];return this._handleIn.isZero()||e.push("handleIn: "+this._handleIn),this._handleOut.isZero()||e.push("handleOut: "+this._handleOut),"{ "+e.join(", ")+" }"},transform:function(e){this._transformCoordinates(e,new Array(6),!0),this._changed()},interpolate:function(e,t,r){var u=1-r,l=r,c=e._point,m=t._point,p=e._handleIn,_=t._handleIn,b=t._handleOut,E=e._handleOut;this._point._set(u*c._x+l*m._x,u*c._y+l*m._y,!0),this._handleIn._set(u*p._x+l*_._x,u*p._y+l*_._y,!0),this._handleOut._set(u*E._x+l*b._x,u*E._y+l*b._y,!0),this._changed()},_transformCoordinates:function(e,t,r){var u=this._point,l=!r||!this._handleIn.isZero()?this._handleIn:null,c=!r||!this._handleOut.isZero()?this._handleOut:null,m=u._x,p=u._y,_=2;return t[0]=m,t[1]=p,l&&(t[_++]=l._x+m,t[_++]=l._y+p),c&&(t[_++]=c._x+m,t[_++]=c._y+p),e&&(e._transformCoordinates(t,t,_/2),m=t[0],p=t[1],r?(u._x=m,u._y=p,_=2,l&&(l._x=t[_++]-m,l._y=t[_++]-p),c&&(c._x=t[_++]-m,c._y=t[_++]-p)):(l||(t[_++]=m,t[_++]=p),c||(t[_++]=m,t[_++]=p))),t}}),xt=D.extend({initialize:function(t,r,u){var l,c,m;if(!t)l=c=0;else if((l=t[0])!==a)c=t[1];else{var p=t;(l=p.x)===a&&(p=D.read(arguments),l=p.x),c=p.y,m=p.selected}this._x=l,this._y=c,this._owner=r,r[u]=this,m&&this.setSelected(!0)},_set:function(e,t){return this._x=e,this._y=t,this._owner._changed(this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner._changed(this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner._changed(this)},isZero:function(){var e=ge.isZero;return e(this._x)&&e(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){var e=this._owner;return this===e._point?1:this===e._handleIn?2:this===e._handleOut?4:0}}),Oe=v.extend({_class:"Curve",beans:!0,initialize:function(t,r,u,l,c,m,p,_){var b=arguments.length,E,T,S,x,M,k;b===3?(this._path=t,E=r,T=u):b?b===1?"segment1"in t?(E=new Ve(t.segment1),T=new Ve(t.segment2)):"point1"in t?(S=t.point1,M=t.handle1,k=t.handle2,x=t.point2):Array.isArray(t)&&(S=[t[0],t[1]],x=[t[6],t[7]],M=[t[2]-t[0],t[3]-t[1]],k=[t[4]-t[6],t[5]-t[7]]):b===2?(E=new Ve(t),T=new Ve(r)):b===4?(S=t,M=r,k=u,x=l):b===8&&(S=[t,r],x=[p,_],M=[u-t,l-r],k=[c-p,m-_]):(E=new Ve,T=new Ve),this._segment1=E||new Ve(S,null,M),this._segment2=T||new Ve(x,k,null)},_serialize:function(e,t){return v.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],e,!0,t)},_changed:function(){this._length=this._bounds=a},clone:function(){return new Oe(this._segment1,this._segment2)},toString:function(){var e=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||e.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||e.push("handle2: "+this._segment2._handleIn),e.push("point2: "+this._segment2._point),"{ "+e.join(", ")+" }"},classify:function(){return Oe.classify(this.getValues())},remove:function(){var e=!1;if(this._path){var t=this._segment2,r=t._handleOut;e=t.remove(),e&&this._segment1._handleOut.set(r)}return e},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(D.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(D.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(D.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(D.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index+1]||this._path._closed&&e[0])||null},getPrevious:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var e=this._path;return e&&this._segment1._index===e._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(e){this.getPoint1().setSelected(e),this.getHandle1().setSelected(e),this.getHandle2().setSelected(e),this.getPoint2().setSelected(e)},getValues:function(e){return Oe.getValues(this._segment1,this._segment2,e)},getPoints:function(){for(var e=this.getValues(),t=[],r=0;r<8;r+=2)t.push(new D(e[r],e[r+1]));return t}},{getLength:function(){return this._length==null&&(this._length=Oe.getLength(this.getValues(),0,1)),this._length},getArea:function(){return Oe.getArea(this.getValues())},getLine:function(){return new Ae(this._segment1._point,this._segment2._point)},getPart:function(e,t){return new Oe(Oe.getPart(this.getValues(),e,t))},getPartLength:function(e,t){return Oe.getLength(this.getValues(),e,t)},divideAt:function(e){return this.divideAtTime(e&&e.curve===this?e.time:this.getTimeAt(e))},divideAtTime:function(e,t){var r=1e-8,u=1-r,l=null;if(e>=r&&e<=u){var c=Oe.subdivide(this.getValues(),e),m=c[0],p=c[1],_=t||this.hasHandles(),b=this._segment1,E=this._segment2,T=this._path;_&&(b._handleOut._set(m[2]-m[0],m[3]-m[1]),E._handleIn._set(p[4]-p[6],p[5]-p[7]));var S=m[6],x=m[7],M=new Ve(new D(S,x),_&&new D(m[4]-S,m[5]-x),_&&new D(p[2]-S,p[3]-x));T?(T.insert(b._index+1,M),l=this.getNext()):(this._segment2=M,this._changed(),l=new Oe(M,E))}return l},splitAt:function(e){var t=this._path;return t?t.splitAt(e):null},splitAtTime:function(e){return this.splitAt(this.getLocationAtTime(e))},divide:function(e,t){return this.divideAtTime(e===a?.5:t?e:this.getTimeAt(e))},split:function(e,t){return this.splitAtTime(e===a?.5:t?e:this.getTimeAt(e))},reversed:function(){return new Oe(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(e,t,r,u){var l=e._point,c=e._handleOut,m=t._handleIn,p=t._point,_=l.x,b=l.y,E=p.x,T=p.y,S=u?[_,b,_,b,E,T,E,T]:[_,b,_+c._x,b+c._y,E+m._x,T+m._y,E,T];return r&&r._transformCoordinates(S,S,4),S},subdivide:function(e,t){var r=e[0],u=e[1],l=e[2],c=e[3],m=e[4],p=e[5],_=e[6],b=e[7];t===a&&(t=.5);var E=1-t,T=E*r+t*l,S=E*u+t*c,x=E*l+t*m,M=E*c+t*p,k=E*m+t*_,R=E*p+t*b,C=E*T+t*x,N=E*S+t*M,w=E*x+t*k,L=E*M+t*R,B=E*C+t*w,U=E*N+t*L;return[[r,u,T,S,C,N,B,U],[B,U,w,L,k,R,_,b]]},getMonoCurves:function(e,t){var r=[],u=t?0:1,l=e[u+0],c=e[u+2],m=e[u+4],p=e[u+6];if(l>=c==c>=m&&c>=m==m>=p||Oe.isStraight(e))r.push(e);else{var _=3*(c-m)-l+p,b=2*(l+m)-4*c,E=c-l,T=1e-8,S=1-T,x=[],M=ge.solveQuadratic(_,b,E,x,T,S);if(!M)r.push(e);else{x.sort();var k=x[0],R=Oe.subdivide(e,k);r.push(R[0]),M>1&&(k=(x[1]-k)/(1-k),R=Oe.subdivide(R[1],k),r.push(R[0])),r.push(R[1])}}return r},solveCubic:function(e,t,r,u,l,c){var m=e[t],p=e[t+2],_=e[t+4],b=e[t+6],E=0;if(!(m<r&&b<r&&p<r&&_<r||m>r&&b>r&&p>r&&_>r)){var T=3*(p-m),S=3*(_-p)-T,x=b-m-T-S;E=ge.solveCubic(x,S,T,m-r,u,l,c)}return E},getTimeOf:function(e,t){var r=new D(e[0],e[1]),u=new D(e[6],e[7]),l=1e-12,c=1e-7,m=t.isClose(r,l)?0:t.isClose(u,l)?1:null;if(m===null)for(var p=[t.x,t.y],_=[],b=0;b<2;b++)for(var E=Oe.solveCubic(e,b,p[b],_,0,1),T=0;T<E;T++){var S=_[T];if(t.isClose(Oe.getPoint(e,S),c))return S}return t.isClose(r,c)?0:t.isClose(u,c)?1:null},getNearestTime:function(e,t){if(Oe.isStraight(e)){var r=e[0],u=e[1],l=e[6],c=e[7],m=l-r,p=c-u,_=m*m+p*p;if(_===0)return 0;var b=((t.x-r)*m+(t.y-u)*p)/_;return b<1e-12?0:b>.999999999999?1:Oe.getTimeOf(e,new D(r+b*m,u+b*p))}var E=100,T=1/0,S=0;function x(R){if(R>=0&&R<=1){var C=t.getDistance(Oe.getPoint(e,R),!0);if(C<T)return T=C,S=R,!0}}for(var M=0;M<=E;M++)x(M/E);for(var k=1/(E*2);k>1e-8;)!x(S-k)&&!x(S+k)&&(k/=2);return S},getPart:function(e,t,r){var u=t>r;if(u){var l=t;t=r,r=l}return t>0&&(e=Oe.subdivide(e,t)[1]),r<1&&(e=Oe.subdivide(e,(r-t)/(1-t))[0]),u?[e[6],e[7],e[4],e[5],e[2],e[3],e[0],e[1]]:e},isFlatEnough:function(e,t){var r=e[0],u=e[1],l=e[2],c=e[3],m=e[4],p=e[5],_=e[6],b=e[7],E=3*l-2*r-_,T=3*c-2*u-b,S=3*m-2*_-r,x=3*p-2*b-u;return Math.max(E*E,S*S)+Math.max(T*T,x*x)<=16*t*t},getArea:function(e){var t=e[0],r=e[1],u=e[2],l=e[3],c=e[4],m=e[5],p=e[6],_=e[7];return 3*((_-r)*(u+c)-(p-t)*(l+m)+l*(t-c)-u*(r-m)+_*(c+t/3)-p*(m+r/3))/20},getBounds:function(e){for(var t=e.slice(0,2),r=t.slice(),u=[0,0],l=0;l<2;l++)Oe._addBounds(e[l],e[l+2],e[l+4],e[l+6],l,0,t,r,u);return new fe(t[0],t[1],r[0]-t[0],r[1]-t[1])},_addBounds:function(e,t,r,u,l,c,m,p,_){function b(B,U){var F=B-U,W=B+U;F<m[l]&&(m[l]=F),W>p[l]&&(p[l]=W)}c/=2;var E=m[l]+c,T=p[l]-c;if(e<E||t<E||r<E||u<E||e>T||t>T||r>T||u>T)if(t<e!=t<u&&r<e!=r<u)b(e,0),b(u,0);else{var S=3*(t-r)-e+u,x=2*(e+r)-4*t,M=t-e,k=ge.solveQuadratic(S,x,M,_),R=1e-8,C=1-R;b(u,0);for(var N=0;N<k;N++){var w=_[N],L=1-w;R<=w&&w<=C&&b(L*L*L*e+3*L*L*w*t+3*L*w*w*r+w*w*w*u,c)}}}}},v.each(["getBounds","getStrokeBounds","getHandleBounds"],function(e){this[e]=function(){this._bounds||(this._bounds={});var t=this._bounds[e];return t||(t=this._bounds[e]=xe[e]([this._segment1,this._segment2],!1,this._path)),t.clone()}},{}),v.each({isStraight:function(e,t,r,u){if(t.isZero()&&r.isZero())return!0;var l=u.subtract(e);if(l.isZero())return!1;if(l.isCollinear(t)&&l.isCollinear(r)){var c=new Ae(e,u),m=1e-7;if(c.getDistance(e.add(t))<m&&c.getDistance(u.add(r))<m){var p=l.dot(l),_=l.dot(t)/p,b=l.dot(r)/p;return _>=0&&_<=1&&b<=0&&b>=-1}}return!1},isLinear:function(e,t,r,u){var l=u.subtract(e).divide(3);return t.equals(l)&&r.negate().equals(l)}},function(e,t){this[t]=function(r){var u=this._segment1,l=this._segment2;return e(u._point,u._handleOut,l._handleIn,l._point,r)},this.statics[t]=function(r,u){var l=r[0],c=r[1],m=r[6],p=r[7];return e(new D(l,c),new D(r[2]-l,r[3]-c),new D(r[4]-m,r[5]-p),new D(m,p),u)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(e){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(e||0)},isCollinear:function(e){return e&&this.isStraight()&&e.isStraight()&&this.getLine().isCollinear(e.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(e,t){return this.getLocationAtTime(t?e:this.getTimeAt(e))},getLocationAtTime:function(e){return e!=null&&e>=0&&e<=1?new yt(this,e):null},getTimeAt:function(e,t){return Oe.getTimeAt(this.getValues(),e,t)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var e=D.read(arguments);return e.isZero()?[]:Oe.getTimesWithTangent(this.getValues(),e)},getOffsetAtTime:function(e){return this.getPartLength(0,e)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(D.read(arguments)))},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getTimeOf:function(){return Oe.getTimeOf(this.getValues(),D.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var e=D.read(arguments),t=this.getValues(),r=Oe.getNearestTime(t,e),u=Oe.getPoint(t,r);return new yt(this,r,u,null,e.getDistance(u))},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()}},new function(){var e=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return v.each(e,function(t){this[t+"At"]=function(r,u){var l=this.getValues();return Oe[t](l,u?r:Oe.getTimeAt(l,r))},this[t+"AtTime"]=function(r){return Oe[t](this.getValues(),r)}},{statics:{_evaluateMethods:e}})},new function(){function e(u){var l=u[0],c=u[1],m=u[2],p=u[3],_=u[4],b=u[5],E=u[6],T=u[7],S=9*(m-_)+3*(E-l),x=6*(l+_)-12*m,M=3*(m-l),k=9*(p-b)+3*(T-c),R=6*(c+b)-12*p,C=3*(p-c);return function(N){var w=(S*N+x)*N+M,L=(k*N+R)*N+C;return Math.sqrt(w*w+L*L)}}function t(u,l){return Math.max(2,Math.min(16,Math.ceil(Math.abs(l-u)*32)))}function r(u,l,c,m){if(l==null||l<0||l>1)return null;var p=u[0],_=u[1],b=u[2],E=u[3],T=u[4],S=u[5],x=u[6],M=u[7],k=ge.isZero;k(b-p)&&k(E-_)&&(b=p,E=_),k(T-x)&&k(S-M)&&(T=x,S=M);var R=3*(b-p),C=3*(T-b)-R,N=x-p-R-C,w=3*(E-_),L=3*(S-E)-w,B=M-_-w-L,U,F;if(c===0)U=l===0?p:l===1?x:((N*l+C)*l+R)*l+p,F=l===0?_:l===1?M:((B*l+L)*l+w)*l+_;else{var W=1e-8,j=1-W;if(l<W?(U=R,F=w):l>j?(U=3*(x-T),F=3*(M-S)):(U=(3*N*l+2*C)*l+R,F=(3*B*l+2*L)*l+w),m){U===0&&F===0&&(l<W||l>j)&&(U=T-b,F=S-E);var J=Math.sqrt(U*U+F*F);J&&(U/=J,F/=J)}if(c===3){var T=6*N*l+2*C,S=6*B*l+2*L,re=Math.pow(U*U+F*F,3/2);U=re!==0?(U*S-F*T)/re:0,F=0}}return c===2?new D(F,-U):new D(U,F)}return{statics:{classify:function(u){var l=u[0],c=u[1],m=u[2],p=u[3],_=u[4],b=u[5],E=u[6],T=u[7],S=l*(T-b)+c*(_-E)+E*b-T*_,x=m*(c-T)+p*(E-l)+l*T-c*E,M=_*(p-c)+b*(l-m)+m*c-p*l,k=3*M,R=k-x,C=R-x+S,N=Math.sqrt(C*C+R*R+k*k),w=N!==0?1/N:0,L=ge.isZero,B="serpentine";C*=w,R*=w,k*=w;function U(J,re,Y){var se=re!==a,ue=se&&re>0&&re<1,de=se&&Y>0&&Y<1;return se&&(!(ue||de)||J==="loop"&&!(ue&&de))&&(J="arch",ue=de=!1),{type:J,roots:ue||de?ue&&de?re<Y?[re,Y]:[Y,re]:[ue?re:Y]:null}}if(L(C))return L(R)?U(L(k)?"line":"quadratic"):U(B,k/(3*R));var F=3*R*R-4*C*k;if(L(F))return U("cusp",R/(2*C));var W=F>0?Math.sqrt(F/3):Math.sqrt(-F),j=2*C;return U(F>0?B:"loop",(R+W)/j,(R-W)/j)},getLength:function(u,l,c,m){if(l===a&&(l=0),c===a&&(c=1),Oe.isStraight(u)){var p=u;c<1&&(p=Oe.subdivide(p,c)[0],l/=c),l>0&&(p=Oe.subdivide(p,l)[1]);var _=p[6]-p[0],b=p[7]-p[1];return Math.sqrt(_*_+b*b)}return ge.integrate(m||e(u),l,c,t(l,c))},getTimeAt:function(u,l,c){if(c===a&&(c=l<0?1:0),l===0)return c;var m=Math.abs,p=1e-12,_=l>0,b=_?c:0,E=_?1:c,T=e(u),S=Oe.getLength(u,b,E,T),x=m(l)-S;if(m(x)<p)return _?E:b;if(x>p)return null;var M=l/S,k=0;function R(C){return k+=ge.integrate(T,c,C,t(c,C)),c=C,k-l}return ge.findRoot(R,T,c+M,b,E,32,1e-12)},getPoint:function(u,l){return r(u,l,0,!1)},getTangent:function(u,l){return r(u,l,1,!0)},getWeightedTangent:function(u,l){return r(u,l,1,!1)},getNormal:function(u,l){return r(u,l,2,!0)},getWeightedNormal:function(u,l){return r(u,l,2,!1)},getCurvature:function(u,l){return r(u,l,3,!1).x},getPeaks:function(u){var l=u[0],c=u[1],m=u[2],p=u[3],_=u[4],b=u[5],E=u[6],T=u[7],S=-l+3*m-3*_+E,x=3*l-6*m+3*_,M=-3*l+3*m,k=-c+3*p-3*b+T,R=3*c-6*p+3*b,C=-3*c+3*p,N=1e-8,w=1-N,L=[];return ge.solveCubic(9*(S*S+k*k),9*(S*x+R*k),2*(x*x+R*R)+3*(M*S+C*k),M*x+R*C,L,N,w),L.sort()}}}},new function(){function e(x,M,k,R,C,N,w){var L=!w&&k.getPrevious()===C,B=!w&&k!==C&&k.getNext()===C,U=1e-8,F=1-U;if(R!==null&&R>=(L?U:0)&&R<=(B?F:1)&&N!==null&&N>=(B?U:0)&&N<=(L?F:1)){var W=new yt(k,R,null,w),j=new yt(C,N,null,w);W._intersection=j,j._intersection=W,(!M||M(W))&&yt.insert(x,W,!0)}}function t(x,M,k,R,C,N,w,L,B,U,F,W,j){if(++B>=4096||++L>=40)return B;var J=1e-9,re=M[0],Y=M[1],se=M[6],ue=M[7],de=Ae.getSignedDistance,pe=de(re,Y,se,ue,M[2],M[3]),we=de(re,Y,se,ue,M[4],M[5]),Be=pe*we>0?3/4:4/9,$e=Be*Math.min(0,pe,we),Ze=Be*Math.max(0,pe,we),tt=de(re,Y,se,ue,x[0],x[1]),ke=de(re,Y,se,ue,x[2],x[3]),Ne=de(re,Y,se,ue,x[4],x[5]),Ye=de(re,Y,se,ue,x[6],x[7]),it=r(tt,ke,Ne,Ye),nt=it[0],_t=it[1],ze,mt;if(pe===0&&we===0&&tt===0&&ke===0&&Ne===0&&Ye===0||(ze=u(nt,_t,$e,Ze))==null||(mt=u(nt.reverse(),_t.reverse(),$e,Ze))==null)return B;var Rt=U+(F-U)*ze,kt=U+(F-U)*mt;if(Math.max(j-W,kt-Rt)<J){var _i=(Rt+kt)/2,gi=(W+j)/2;e(C,N,w?R:k,w?gi:_i,w?k:R,w?_i:gi)}else{x=Oe.getPart(x,ze,mt);var xi=j-W;if(mt-ze>.8)if(kt-Rt>xi){var fi=Oe.subdivide(x,.5),_i=(Rt+kt)/2;B=t(M,fi[0],R,k,C,N,!w,L,B,W,j,Rt,_i),B=t(M,fi[1],R,k,C,N,!w,L,B,W,j,_i,kt)}else{var fi=Oe.subdivide(M,.5),gi=(W+j)/2;B=t(fi[0],x,R,k,C,N,!w,L,B,W,gi,Rt,kt),B=t(fi[1],x,R,k,C,N,!w,L,B,gi,j,Rt,kt)}else xi===0||xi>=J?B=t(M,x,R,k,C,N,!w,L,B,W,j,Rt,kt):B=t(x,M,k,R,C,N,w,L,B,Rt,kt,W,j)}return B}function r(x,M,k,R){var C=[0,x],N=[1/3,M],w=[2/3,k],L=[1,R],B=M-(2*x+R)/3,U=k-(x+2*R)/3,F;if(B*U<0)F=[[C,N,L],[C,w,L]];else{var W=B/U;F=[W>=2?[C,N,L]:W<=.5?[C,w,L]:[C,N,w,L],[C,L]]}return(B||U)<0?F.reverse():F}function u(x,M,k,R){return x[0][1]<k?l(x,!0,k):M[0][1]>R?l(M,!1,R):x[0][0]}function l(x,M,k){for(var R=x[0][0],C=x[0][1],N=1,w=x.length;N<w;N++){var L=x[N][0],B=x[N][1];if(M?B>=k:B<=k)return B===k?L:R+(k-C)*(L-R)/(B-C);R=L,C=B}return null}function c(x,M,k,R,C){var N=ge.isZero;if(N(R)&&N(C)){var w=Oe.getTimeOf(x,new D(M,k));return w===null?[]:[w]}for(var L=Math.atan2(-C,R),B=Math.sin(L),U=Math.cos(L),F=[],W=[],j=0;j<8;j+=2){var J=x[j]-M,re=x[j+1]-k;F.push(J*U-re*B,J*B+re*U)}return Oe.solveCubic(F,1,0,W,0,1),W}function m(x,M,k,R,C,N,w){for(var L=M[0],B=M[1],U=M[6],F=M[7],W=c(x,L,B,U-L,F-B),j=0,J=W.length;j<J;j++){var re=W[j],Y=Oe.getPoint(x,re),se=Oe.getTimeOf(M,Y);se!==null&&e(C,N,w?R:k,w?se:re,w?k:R,w?re:se)}}function p(x,M,k,R,C,N){var w=Ae.intersect(x[0],x[1],x[6],x[7],M[0],M[1],M[6],M[7]);w&&e(C,N,k,Oe.getTimeOf(x,w),R,Oe.getTimeOf(M,w))}function _(x,M,k,R,C,N){var w=1e-12,L=Math.min,B=Math.max;if(B(x[0],x[2],x[4],x[6])+w>L(M[0],M[2],M[4],M[6])&&L(x[0],x[2],x[4],x[6])-w<B(M[0],M[2],M[4],M[6])&&B(x[1],x[3],x[5],x[7])+w>L(M[1],M[3],M[5],M[7])&&L(x[1],x[3],x[5],x[7])-w<B(M[1],M[3],M[5],M[7])){var U=T(x,M);if(U)for(var F=0;F<2;F++){var W=U[F];e(C,N,k,W[0],R,W[1],!0)}else{var j=Oe.isStraight(x),J=Oe.isStraight(M),re=j&&J,Y=j&&!J,se=C.length;if((re?p:j||J?m:t)(Y?M:x,Y?x:M,Y?R:k,Y?k:R,C,N,Y,0,0,0,1,0,1),!re||C.length===se)for(var F=0;F<4;F++){var ue=F>>1,de=F&1,pe=ue*6,we=de*6,Be=new D(x[pe],x[pe+1]),$e=new D(M[we],M[we+1]);Be.isClose($e,w)&&e(C,N,k,ue,R,de)}}}return C}function b(x,M,k,R){var C=Oe.classify(x);if(C.type==="loop"){var N=C.roots;e(k,R,M,N[0],M,N[1])}return k}function E(x,M,k,R,C,N){var w=1e-7,L=!M;L&&(M=x);for(var B=x.length,U=M.length,F=new Array(B),W=L?F:new Array(U),j=[],J=0;J<B;J++)F[J]=x[J].getValues(R);if(!L)for(var J=0;J<U;J++)W[J]=M[J].getValues(C);for(var re=oe.findCurveBoundsCollisions(F,W,w),Y=0;Y<B;Y++){var se=x[Y],ue=F[Y];L&&b(ue,se,j,k);var de=re[Y];if(de)for(var pe=0;pe<de.length;pe++){if(N&&j.length)return j;var we=de[pe];if(!L||we>Y){var Be=M[we],$e=W[we];_(ue,$e,se,Be,j,k)}}}return j}function T(x,M){function k(Ye){var it=Ye[6]-Ye[0],nt=Ye[7]-Ye[1];return it*it+nt*nt}var R=Math.abs,C=Ae.getDistance,N=1e-8,w=1e-7,L=Oe.isStraight(x),B=Oe.isStraight(M),U=L&&B,F=k(x)<k(M),W=F?M:x,j=F?x:M,J=W[0],re=W[1],Y=W[6]-J,se=W[7]-re;if(C(J,re,Y,se,j[0],j[1],!0)<w&&C(J,re,Y,se,j[6],j[7],!0)<w)!U&&C(J,re,Y,se,W[2],W[3],!0)<w&&C(J,re,Y,se,W[4],W[5],!0)<w&&C(J,re,Y,se,j[2],j[3],!0)<w&&C(J,re,Y,se,j[4],j[5],!0)<w&&(L=B=U=!0);else if(U)return null;if(L^B)return null;for(var ue=[x,M],de=[],pe=0;pe<4&&de.length<2;pe++){var we=pe&1,Be=we^1,$e=pe>>1,Ze=Oe.getTimeOf(ue[we],new D(ue[Be][$e?6:0],ue[Be][$e?7:1]));if(Ze!=null){var tt=we?[$e,Ze]:[Ze,$e];(!de.length||R(tt[0]-de[0][0])>N&&R(tt[1]-de[0][1])>N)&&de.push(tt)}if(pe>2&&!de.length)break}if(de.length!==2)de=null;else if(!U){var ke=Oe.getPart(x,de[0][0],de[1][0]),Ne=Oe.getPart(M,de[0][1],de[1][1]);(R(Ne[2]-ke[2])>w||R(Ne[3]-ke[3])>w||R(Ne[4]-ke[4])>w||R(Ne[5]-ke[5])>w)&&(de=null)}return de}function S(x,M){var k=x[0],R=x[1],C=x[2],N=x[3],w=x[4],L=x[5],B=x[6],U=x[7],F=M.normalize(),W=F.x,j=F.y,J=3*B-9*w+9*C-3*k,re=3*U-9*L+9*N-3*R,Y=6*w-12*C+6*k,se=6*L-12*N+6*R,ue=3*C-3*k,de=3*N-3*R,pe=2*J*j-2*re*W,we=[];if(Math.abs(pe)<ge.CURVETIME_EPSILON){var Be=J*de-re*ue,pe=J*se-re*Y;if(pe!=0){var $e=-Be/pe;$e>=0&&$e<=1&&we.push($e)}}else{var Ze=(Y*Y-4*J*ue)*j*j+(-2*Y*se+4*re*ue+4*J*de)*W*j+(se*se-4*re*de)*W*W,tt=Y*j-se*W;if(Ze>=0&&pe!=0){var ke=Math.sqrt(Ze),Ne=-(tt+ke)/pe,Ye=(-tt+ke)/pe;Ne>=0&&Ne<=1&&we.push(Ne),Ye>=0&&Ye<=1&&we.push(Ye)}}return we}return{getIntersections:function(x){var M=this.getValues(),k=x&&x!==this&&x.getValues();return k?_(M,k,this,x,[]):b(M,this,[])},statics:{getOverlaps:T,getIntersections:E,getCurveLineIntersections:c,getTimesWithTangent:S}}}),yt=v.extend({_class:"CurveLocation",initialize:function(t,r,u,l,c){if(r>=.99999999){var m=t.getNext();m&&(r=0,t=m)}this._setCurve(t),this._time=r,this._point=u||t.getPointAtTime(r),this._overlap=l,this._distance=c,this._intersection=this._next=this._previous=null},_setPath:function(e){this._path=e,this._version=e?e._version:0},_setCurve:function(e){this._setPath(e._path),this._curve=e,this._segment=null,this._segment1=e._segment1,this._segment2=e._segment2},_setSegment:function(e){var t=e.getCurve();t?this._setCurve(t):(this._setPath(e._path),this._segment1=e,this._segment2=null),this._segment=e,this._time=e===this._segment1?0:1,this._point=e._point.clone()},getSegment:function(){var e=this._segment;if(!e){var t=this.getCurve(),r=this.getTime();r===0?e=t._segment1:r===1?e=t._segment2:r!=null&&(e=t.getPartLength(0,r)<t.getPartLength(r,1)?t._segment1:t._segment2),this._segment=e}return e},getCurve:function(){var e=this._path,t=this;e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function r(u){var l=u&&u.getCurve();if(l&&(t._time=l.getTimeOf(t._point))!=null)return t._setCurve(l),l}return this._curve||r(this._segment)||r(this._segment1)||r(this._segment2.getPrevious())},getPath:function(){var e=this.getCurve();return e&&e._path},getIndex:function(){var e=this.getCurve();return e&&e.getIndex()},getTime:function(){var e=this.getCurve(),t=this._time;return e&&t==null?this._time=e.getTimeOf(this._point):t},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var e=this._offset;if(e==null){e=0;var t=this.getPath(),r=this.getIndex();if(t&&r!=null)for(var u=t.getCurves(),l=0;l<r;l++)e+=u[l].getLength();this._offset=e+=this.getCurveOffset()}return e},getCurveOffset:function(){var e=this._curveOffset;if(e==null){var t=this.getCurve(),r=this.getTime();this._curveOffset=e=r!=null&&t&&t.getPartLength(0,r)}return e},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var e=this.getCurve(),t=e&&e.divideAtTime(this.getTime());return t&&this._setSegment(t._segment1),t},split:function(){var e=this.getCurve(),t=e._path,r=e&&e.splitAtTime(this.getTime());return r&&this._setSegment(t.getLastSegment()),r},equals:function(e,t){var r=this===e;if(!r&&e instanceof yt){var u=this.getCurve(),l=e.getCurve(),c=u._path,m=l._path;if(c===m){var p=Math.abs,_=1e-7,b=p(this.getOffset()-e.getOffset()),E=!t&&this._intersection,T=!t&&e._intersection;r=(b<_||c&&p(c.getLength()-b)<_)&&(!E&&!T||E&&T&&E.equals(T,!0))}}return r},toString:function(){var e=[],t=this.getPoint(),r=le.instance;t&&e.push("point: "+t);var u=this.getIndex();u!=null&&e.push("index: "+u);var l=this.getTime();return l!=null&&e.push("time: "+r.number(l)),this._distance!=null&&e.push("distance: "+r.number(this._distance)),"{ "+e.join(", ")+" }"},isTouching:function(){var e=this._intersection;if(e&&this.getTangent().isCollinear(e.getTangent())){var t=this.getCurve(),r=e.getCurve();return!(t.isStraight()&&r.isStraight()&&t.getLine().intersect(r.getLine()))}return!1},isCrossing:function(){var e=this._intersection;if(!e)return!1;var t=this.getTime(),r=e.getTime(),u=1e-8,l=1-u,c=t>=u&&t<=l,m=r>=u&&r<=l;if(c&&m)return!this.isTouching();var p=this.getCurve(),_=p&&t<u?p.getPrevious():p,b=e.getCurve(),E=b&&r<u?b.getPrevious():b;if(t>l&&(p=p.getNext()),r>l&&(b=b.getNext()),!_||!p||!E||!b)return!1;var T=[];function S(W,j){var J=W.getValues(),re=Oe.classify(J).roots||Oe.getPeaks(J),Y=re.length,se=Oe.getLength(J,j&&Y?re[Y-1]:0,!j&&Y?re[0]:1);T.push(Y?se:se/32)}function x(W,j,J){return j<J?W>j&&W<J:W>j||W<J}c||(S(_,!0),S(p,!1)),m||(S(E,!0),S(b,!1));var M=this.getPoint(),k=Math.min.apply(Math,T),R=c?p.getTangentAtTime(t):p.getPointAt(k).subtract(M),C=c?R.negate():_.getPointAt(-k).subtract(M),N=m?b.getTangentAtTime(r):b.getPointAt(k).subtract(M),w=m?N.negate():E.getPointAt(-k).subtract(M),L=C.getAngle(),B=R.getAngle(),U=w.getAngle(),F=N.getAngle();return!!(c?x(L,U,F)^x(B,U,F)&&x(L,F,U)^x(B,F,U):x(U,L,B)^x(F,L,B)&&x(U,B,L)^x(F,B,L))},hasOverlap:function(){return!!this._overlap}},v.each(Oe._evaluateMethods,function(e){var t=e+"At";this[e]=function(){var r=this.getCurve(),u=this.getTime();return u!=null&&r&&r[t](u,!0)}},{preserve:!0}),new function(){function e(t,r,u){var l=t.length,c=0,m=l-1;function p(M,k){for(var R=M+k;R>=-1&&R<=l;R+=k){var C=t[(R%l+l)%l];if(!r.getPoint().isClose(C.getPoint(),1e-7))break;if(r.equals(C))return C}return null}for(;c<=m;){var _=c+m>>>1,b=t[_],E;if(u&&(E=r.equals(b)?b:p(_,-1)||p(_,1)))return r._overlap&&(E._overlap=E._intersection._overlap=!0),E;var T=r.getPath(),S=b.getPath(),x=T!==S?T._id-S._id:r.getIndex()+r.getTime()-(b.getIndex()+b.getTime());x<0?m=_-1:c=_+1}return t.splice(c,0,r),r}return{statics:{insert:e,expand:function(t){for(var r=t.slice(),u=t.length-1;u>=0;u--)e(r,t[u]._intersection,!1);return r}}}}),Me=O.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(e){var t,r,u;if(v.isPlainObject(e)?(r=e.segments,t=e.pathData):Array.isArray(e)?r=e:typeof e=="string"&&(t=e),r){var l=r[0];u=l&&Array.isArray(l[0])}else t&&(u=(t.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(t));var c=u?Ie:xe;return new c(e)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(e){this.isClockwise()!=(e=!!e)&&this.reverse()},setPathData:function(e){var t=e&&e.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),r,u=!1,l,c,m=new D,p=new D;function _(w,L){var B=+r[w];return u&&(B+=m[L]),B}function b(w){return new D(_(w,"x"),_(w+1,"y"))}this.clear();for(var E=0,T=t&&t.length;E<T;E++){var S=t[E],x=S[0],M=x.toLowerCase();r=S.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var k=r&&r.length;switch(u=x===M,l==="z"&&!/[mz]/.test(M)&&this.moveTo(m),M){case"m":case"l":for(var R=M==="m",C=0;C<k;C+=2)this[R?"moveTo":"lineTo"](m=b(C)),R&&(p=m,R=!1);c=m;break;case"h":case"v":var N=M==="h"?"x":"y";m=m.clone();for(var C=0;C<k;C++)m[N]=_(C,N),this.lineTo(m);c=m;break;case"c":for(var C=0;C<k;C+=6)this.cubicCurveTo(b(C),c=b(C+2),m=b(C+4));break;case"s":for(var C=0;C<k;C+=4)this.cubicCurveTo(/[cs]/.test(l)?m.multiply(2).subtract(c):m,c=b(C),m=b(C+2)),l=M;break;case"q":for(var C=0;C<k;C+=4)this.quadraticCurveTo(c=b(C),m=b(C+2));break;case"t":for(var C=0;C<k;C+=2)this.quadraticCurveTo(c=/[qt]/.test(l)?m.multiply(2).subtract(c):m,m=b(C)),l=M;break;case"a":for(var C=0;C<k;C+=7)this.arcTo(m=b(C+5),new K(+r[C],+r[C+1]),+r[C+2],+r[C+4],+r[C+3]);break;case"z":this.closePath(1e-12),m=p;break}l=M}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(e){var t=e.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(e):{};return t.onPath||!!(this.getFillRule()==="evenodd"?t.windingL&1||t.windingR&1:t.winding)},getIntersections:function(e,t,r,u){var l=this===e||!e,c=this._matrix._orNullIfIdentity(),m=l?c:(r||e._matrix)._orNullIfIdentity();return l||this.getBounds(c).intersects(e.getBounds(m),1e-12)?Oe.getIntersections(this.getCurves(),!l&&e.getCurves(),t,c,m,u):[]},getCrossings:function(e){return this.getIntersections(e,function(t){return t.isCrossing()})},getNearestLocation:function(){for(var e=D.read(arguments),t=this.getCurves(),r=1/0,u=null,l=0,c=t.length;l<c;l++){var m=t[l].getNearestLocation(e);m._distance<r&&(r=m._distance,u=m)}return u},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()},interpolate:function(e,t,r){var u=!this._children,l=u?"_segments":"_children",c=e[l],m=t[l],p=this[l];if(!c||!m||c.length!==m.length)throw new Error("Invalid operands in interpolate() call: "+e+", "+t);var _=p.length,b=m.length;if(_<b)for(var E=u?Ve:xe,T=_;T<b;T++)this.add(new E);else _>b&&this[u?"removeSegments":"removeChildren"](b,_);for(var T=0;T<b;T++)p[T].interpolate(c[T],m[T],r);u&&(this.setClosed(e._closed),this._changed(9))},compare:function(e){var t=!1;if(e){var r=this._children||[this],u=e._children?e._children.slice():[e],l=r.length,c=u.length,m=[],p=0;t=!0;for(var _=oe.findItemBoundsCollisions(r,u,ge.GEOMETRIC_EPSILON),b=l-1;b>=0&&t;b--){var E=r[b];t=!1;var T=_[b];if(T)for(var S=T.length-1;S>=0&&!t;S--)E.compare(u[T[S]])&&(m[T[S]]||(m[T[S]]=!0,p++),t=!0)}t=t&&p===c}return t}}),xe=Me.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;var r=arguments,u=Array.isArray(t)?typeof t[0]=="object"?t:r:t&&t.size===a&&(t.x!==a||t.point!==a)?r:null;u&&u.length>0?this.setSegments(u):(this._curves=a,this._segmentSelection=0,!u&&typeof t=="string"&&(this.setPathData(t),t=null)),this._initialize(!u&&t)},_equals:function(e){return this._closed===e._closed&&v.equals(this._segments,e._segments)},copyContent:function(e){this.setSegments(e._segments),this._closed=e._closed},_changed:function e(t){if(e.base.call(this,t),t&8){if(this._length=this._area=a,t&32)this._version++;else if(this._curves)for(var r=0,u=this._curves.length;r<u;r++)this._curves[r]._changed()}else t&64&&(this._bounds=a)},getStyle:function(){var e=this._parent;return(e instanceof Ie?e:this)._style},getSegments:function(){return this._segments},setSegments:function(e){var t=this.isFullySelected(),r=e&&e.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=a,r){var u=e[r-1];typeof u=="boolean"&&(this.setClosed(u),r--),this._add(Ve.readList(e,0,{},r))}t&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var e=this._curves,t=this._segments;if(!e){var r=this._countCurves();e=this._curves=new Array(r);for(var u=0;u<r;u++)e[u]=new Oe(this,t[u],t[u+1]||t[0])}return e},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var e=this.getCurves();return e[e.length-1]},isClosed:function(){return this._closed},setClosed:function(e){if(this._closed!=(e=!!e)){if(this._closed=e,this._curves){var t=this._curves.length=this._countCurves();e&&(this._curves[t-1]=new Oe(this,this._segments[t-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(e,t){var r=this._segments,u=r.length,l=new le(t),c=new Array(6),m=!0,p,_,b,E,T,S,x,M,k=[];function R(N,w){if(N._transformCoordinates(e,c),p=c[0],_=c[1],m)k.push("M"+l.pair(p,_)),m=!1;else if(T=c[2],S=c[3],T===p&&S===_&&x===b&&M===E){if(!w){var L=p-b,B=_-E;k.push(L===0?"v"+l.number(B):B===0?"h"+l.number(L):"l"+l.pair(L,B))}}else k.push("c"+l.pair(x-b,M-E)+" "+l.pair(T-b,S-E)+" "+l.pair(p-b,_-E));b=p,E=_,x=c[4],M=c[5]}if(!u)return"";for(var C=0;C<u;C++)R(r[C]);return this._closed&&u>0&&(R(r[0],!0),k.push("z")),k.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(e){for(var t=this._segments,r=new Array(6),u=0,l=t.length;u<l;u++)t[u]._transformCoordinates(e,r,!0);return!0},_add:function(e,m){for(var r=this._segments,u=this._curves,l=e.length,c=m==null,m=c?r.length:m,p=0;p<l;p++){var _=e[p];_._path&&(_=e[p]=_.clone()),_._path=this,_._index=m+p,_._selection&&this._updateSelection(_,0,_._selection)}if(c)v.push(r,e);else{r.splice.apply(r,[m,0].concat(e));for(var p=m+l,b=r.length;p<b;p++)r[p]._index=p}if(u){var E=this._countCurves(),T=m>0&&m+l-1===E?m-1:m,S=T,x=Math.min(T+l,E);e._curves&&(u.splice.apply(u,[T,0].concat(e._curves)),S+=e._curves.length);for(var p=S;p<x;p++)u.splice(p,0,new Oe(this,null,null));this._adjustCurves(T,x)}return this._changed(41),e},_adjustCurves:function(e,t){for(var r=this._segments,u=this._curves,l,c=e;c<t;c++)l=u[c],l._path=this,l._segment1=r[c],l._segment2=r[c+1]||r[0],l._changed();(l=u[this._closed&&!e?r.length-1:e-1])&&(l._segment2=r[e]||r[0],l._changed()),(l=u[t])&&(l._segment1=r[t],l._changed())},_countCurves:function(){var e=this._segments.length;return!this._closed&&e>0?e-1:e},add:function(e){var t=arguments;return t.length>1&&typeof e!="number"?this._add(Ve.readList(t)):this._add([Ve.read(t)])[0]},insert:function(e,t){var r=arguments;return r.length>2&&typeof t!="number"?this._add(Ve.readList(r,1),e):this._add([Ve.read(r,1)],e)[0]},addSegment:function(){return this._add([Ve.read(arguments)])[0]},insertSegment:function(e){return this._add([Ve.read(arguments,1)],e)[0]},addSegments:function(e){return this._add(Ve.readList(e))},insertSegments:function(e,t){return this._add(Ve.readList(t),e)},removeSegment:function(e){return this.removeSegments(e,e+1)[0]||null},removeSegments:function(e,t,r){e=e||0,t=v.pick(t,this._segments.length);var u=this._segments,l=this._curves,c=u.length,m=u.splice(e,t-e),p=m.length;if(!p)return m;for(var _=0;_<p;_++){var b=m[_];b._selection&&this._updateSelection(b,b._selection,0),b._index=b._path=null}for(var _=e,E=u.length;_<E;_++)u[_]._index=_;if(l){for(var T=e>0&&t===c+(this._closed?1:0)?e-1:e,l=l.splice(T,p),_=l.length-1;_>=0;_--)l[_]._path=null;r&&(m._curves=l.slice(1)),this._adjustCurves(T,T)}return this._changed(41),m},clear:"#removeSegments",hasHandles:function(){for(var e=this._segments,t=0,r=e.length;t<r;t++)if(e[t].hasHandles())return!0;return!1},clearHandles:function(){for(var e=this._segments,t=0,r=e.length;t<r;t++)e[t].clearHandles()},getLength:function(){if(this._length==null){for(var e=this.getCurves(),t=0,r=0,u=e.length;r<u;r++)t+=e[r].getLength();this._length=t}return this._length},getArea:function(){var e=this._area;if(e==null){var t=this._segments,r=this._closed;e=0;for(var u=0,l=t.length;u<l;u++){var c=u+1===l;e+=Oe.getArea(Oe.getValues(t[u],t[c?0:u+1],null,c&&!r))}this._area=e}return e},isFullySelected:function(){var e=this._segments.length;return this.isSelected()&&e>0&&this._segmentSelection===e*7},setFullySelected:function(e){e&&this._selectSegments(!0),this.setSelected(e)},setSelection:function e(t){t&1||this._selectSegments(!1),e.base.call(this,t)},_selectSegments:function(e){var t=this._segments,r=t.length,u=e?7:0;this._segmentSelection=u*r;for(var l=0;l<r;l++)t[l]._selection=u},_updateSelection:function(e,t,r){e._selection=r;var u=this._segmentSelection+=r-t;u>0&&this.setSelected(!0)},divideAt:function(e){var t=this.getLocationAt(e),r;return t&&(r=t.getCurve().divideAt(t.getCurveOffset()))?r._segment1:null},splitAt:function(e){var t=this.getLocationAt(e),r=t&&t.index,u=t&&t.time,l=1e-8,c=1-l;u>c&&(r++,u=0);var m=this.getCurves();if(r>=0&&r<m.length){u>=l&&m[r++].divideAtTime(u);var p=this.removeSegments(r,this._segments.length,!0),_;return this._closed?(this.setClosed(!1),_=this):(_=new xe(O.NO_INSERT),_.insertAbove(this),_.copyAttributes(this)),_._add(p,0),this.addSegment(p[0]),_}return null},split:function(e,t){var r,u=t===a?e:(r=this.getCurves()[e])&&r.getLocationAtTime(t);return u!=null?this.splitAt(u):null},join:function(e,t){var r=t||0;if(e&&e!==this){var u=e._segments,l=this.getLastSegment(),c=e.getLastSegment();if(!c)return this;l&&l._point.isClose(c._point,r)&&e.reverse();var m=e.getFirstSegment();if(l&&l._point.isClose(m._point,r))l.setHandleOut(m._handleOut),this._add(u.slice(1));else{var p=this.getFirstSegment();p&&p._point.isClose(m._point,r)&&e.reverse(),c=e.getLastSegment(),p&&p._point.isClose(c._point,r)?(p.setHandleIn(c._handleIn),this._add(u.slice(0,u.length-1),0)):this._add(u.slice())}e._closed&&this._add([u[0]]),e.remove()}var _=this.getFirstSegment(),b=this.getLastSegment();return _!==b&&_._point.isClose(b._point,r)&&(_.setHandleIn(b._handleIn),b.remove(),this.setClosed(!0)),this},reduce:function(e){for(var t=this.getCurves(),r=e&&e.simplify,u=r?1e-7:0,l=t.length-1;l>=0;l--){var c=t[l];!c.hasHandles()&&(!c.hasLength(u)||r&&c.isCollinear(c.getNext()))&&c.remove()}return this},reverse:function(){this._segments.reverse();for(var e=0,t=this._segments.length;e<t;e++){var r=this._segments[e],u=r._handleIn;r._handleIn=r._handleOut,r._handleOut=u,r._index=e}this._curves=null,this._changed(9)},flatten:function(e){for(var t=new Ke(this,e||.25,256,!0),r=t.parts,u=r.length,l=[],c=0;c<u;c++)l.push(new Ve(r[c].curve.slice(0,2)));!this._closed&&u>0&&l.push(new Ve(r[u-1].curve.slice(6))),this.setSegments(l)},simplify:function(e){var t=new ct(this).fit(e||2.5);return t&&this.setSegments(t),!!t},smooth:function(e){var t=this,r=e||{},u=r.type||"asymmetric",l=this._segments,c=l.length,m=this._closed;function p(nt,_t){var ze=nt&&nt.index;if(ze!=null){var mt=nt.path;if(mt&&mt!==t)throw new Error(nt._class+" "+ze+" of "+mt+" is not part of "+t);_t&&nt instanceof Oe&&ze++}else ze=typeof nt=="number"?nt:_t;return Math.min(ze<0&&m?ze%c:ze<0?ze+c:ze,c-1)}var _=m&&r.from===a&&r.to===a,b=p(r.from,0),E=p(r.to,c-1);if(b>E)if(m)b-=c;else{var T=b;b=E,E=T}if(/^(?:asymmetric|continuous)$/.test(u)){var S=u==="asymmetric",x=Math.min,M=E-b+1,k=M-1,R=_?x(M,4):1,C=R,N=R,w=[];if(m||(C=x(1,b),N=x(1,c-E-1)),k+=C+N,k<=1)return;for(var L=0,B=b-C;L<=k;L++,B++)w[L]=l[(B<0?B+c:B)%c]._point;for(var U=w[0]._x+2*w[1]._x,F=w[0]._y+2*w[1]._y,W=2,j=k-1,J=[U],re=[F],Y=[W],se=[],ue=[],L=1;L<k;L++){var de=L<j,pe=de||S?1:2,we=de?4:S?2:7,Be=de?4:S?3:8,$e=de?2:S?0:1,Ze=pe/W;W=Y[L]=we-Ze,U=J[L]=Be*w[L]._x+$e*w[L+1]._x-Ze*U,F=re[L]=Be*w[L]._y+$e*w[L+1]._y-Ze*F}se[j]=J[j]/Y[j],ue[j]=re[j]/Y[j];for(var L=k-2;L>=0;L--)se[L]=(J[L]-se[L+1])/Y[L],ue[L]=(re[L]-ue[L+1])/Y[L];se[k]=(3*w[k]._x-se[j])/2,ue[k]=(3*w[k]._y-ue[j])/2;for(var L=C,tt=k-N,B=b;L<=tt;L++,B++){var ke=l[B<0?B+c:B],Ne=ke._point,Ye=se[L]-Ne._x,it=ue[L]-Ne._y;(_||L<tt)&&ke.setHandleOut(Ye,it),(_||L>C)&&ke.setHandleIn(-Ye,-it)}}else for(var L=b;L<=E;L++)l[L<0?L+c:L].smooth(r,!_&&L===b,!_&&L===E)},toShape:function(e){if(!this._closed)return null;var t=this._segments,r,u,l,c;function m(S,x){var M=t[S],k=M.getNext(),R=t[x],C=R.getNext();return M._handleOut.isZero()&&k._handleIn.isZero()&&R._handleOut.isZero()&&C._handleIn.isZero()&&k._point.subtract(M._point).isCollinear(C._point.subtract(R._point))}function p(S){var x=t[S],M=x.getPrevious(),k=x.getNext();return M._handleOut.isZero()&&x._handleIn.isZero()&&x._handleOut.isZero()&&k._handleIn.isZero()&&x._point.subtract(M._point).isOrthogonal(k._point.subtract(x._point))}function _(S){var x=t[S],M=x.getNext(),k=x._handleOut,R=M._handleIn,C=.5522847498307936;if(k.isOrthogonal(R)){var N=x._point,w=M._point,L=new Ae(N,k,!0).intersect(new Ae(w,R,!0),!0);return L&&ge.isZero(k.getLength()/L.subtract(N).getLength()-C)&&ge.isZero(R.getLength()/L.subtract(w).getLength()-C)}return!1}function b(S,x){return t[S]._point.getDistance(t[x]._point)}if(!this.hasHandles()&&t.length===4&&m(0,2)&&m(1,3)&&p(1)?(r=Xe.Rectangle,u=new K(b(0,3),b(0,1)),c=t[1]._point.add(t[2]._point).divide(2)):t.length===8&&_(0)&&_(2)&&_(4)&&_(6)&&m(1,5)&&m(3,7)?(r=Xe.Rectangle,u=new K(b(1,6),b(0,3)),l=u.subtract(new K(b(0,7),b(1,2))).divide(2),c=t[3]._point.add(t[4]._point).divide(2)):t.length===4&&_(0)&&_(1)&&_(2)&&_(3)&&(ge.isZero(b(0,2)-b(1,3))?(r=Xe.Circle,l=b(0,2)/2):(r=Xe.Ellipse,l=new K(b(2,0)/2,b(3,1)/2)),c=t[1]._point),r){var E=this.getPosition(!0),T=new r({center:E,size:u,radius:l,insert:!1});return T.copyAttributes(this,!0),T._matrix.prepend(this._matrix),T.rotate(c.subtract(E).getAngle()+90),(e===a||e)&&T.insertAbove(this),T}return null},toPath:"#clone",compare:function e(t){if(!t||t instanceof Ie)return e.base.call(this,t);var r=this.getCurves(),u=t.getCurves(),l=r.length,c=u.length;if(!l||!c)return l==c;for(var m=r[0].getValues(),p=[],_=0,b,E=0,T,S=0;S<c;S++){var R=u[S].getValues();p.push(R);var x=Oe.getOverlaps(m,R);if(x){b=!S&&x[0][0]>0?c-1:S,T=x[0][1];break}}for(var M=Math.abs,k=1e-8,R=p[b],C;m&&R;){var x=Oe.getOverlaps(m,R);if(x){var N=x[0][0];if(M(N-E)<k){E=x[1][0],E===1&&(m=++_<l?r[_].getValues():null,E=0);var w=x[0][1];if(M(w-T)<k){if(C||(C=[b,w]),T=x[1][1],T===1&&(++b>=c&&(b=0),R=p[b]||u[b].getValues(),T=0),!m)return C[0]===b&&C[1]===T;continue}}}break}return!1},_hitTestSelf:function(e,t,r,u){var l=this,c=this.getStyle(),m=this._segments,p=m.length,_=this._closed,b=t._tolerancePadding,E=b,T,S,x,M,k,R,C=t.stroke&&c.hasStroke(),N=t.fill&&c.hasFill(),w=t.curves,L=C?c.getStrokeWidth()/2:N&&t.tolerance>0||w?0:null;L!==null&&(L>0?(T=c.getStrokeJoin(),S=c.getStrokeCap(),x=c.getMiterLimit(),E=E.add(xe._getStrokePadding(L,u))):T=S="round");function B(se,ue){return e.subtract(se).divide(ue).length<=1}function U(se,ue,de){if(!t.selected||ue.isSelected()){var pe=se._point;if(ue!==pe&&(ue=ue.add(pe)),B(ue,E))return new Qe(de,l,{segment:se,point:ue})}}function F(se,ue){return(ue||t.segments)&&U(se,se._point,"segment")||!ue&&t.handles&&(U(se,se._handleIn,"handle-in")||U(se,se._handleOut,"handle-out"))}function W(se){M.add(se)}function j(se){var ue=_||se._index>0&&se._index<p-1;if((ue?T:S)==="round")return B(se._point,E);if(M=new xe({internal:!0,closed:!0}),ue?se.isSmooth()||xe._addBevelJoin(se,T,L,x,null,u,W,!0):S==="square"&&xe._addSquareCap(se,S,L,null,u,W,!0),!M.isEmpty()){var de;return M.contains(e)||(de=M.getNearestLocation(e))&&B(de.getPoint(),b)}}if(t.ends&&!t.segments&&!_){if(R=F(m[0],!0)||F(m[p-1],!0))return R}else if(t.segments||t.handles){for(var J=0;J<p;J++)if(R=F(m[J]))return R}if(L!==null){if(k=this.getNearestLocation(e),k){var re=k.getTime();re===0||re===1&&p>1?j(k.getSegment())||(k=null):B(k.getPoint(),E)||(k=null)}if(!k&&T==="miter"&&p>1)for(var J=0;J<p;J++){var Y=m[J];if(e.getDistance(Y._point)<=x*L&&j(Y)){k=Y.getLocation();break}}}return!k&&N&&this._contains(e)||k&&!C&&!w?new Qe("fill",this):k?new Qe(C?"stroke":"curve",this,{location:k,point:k.getPoint()}):null}},v.each(Oe._evaluateMethods,function(e){this[e+"At"]=function(t){var r=this.getLocationAt(t);return r&&r[e]()}},{beans:!1,getLocationOf:function(){for(var e=D.read(arguments),t=this.getCurves(),r=0,u=t.length;r<u;r++){var l=t[r].getLocationOf(e);if(l)return l}return null},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getLocationAt:function(e){if(typeof e=="number"){for(var t=this.getCurves(),r=0,u=0,l=t.length;u<l;u++){var c=r,m=t[u];if(r+=m.getLength(),r>e)return m.getLocationAt(e-c)}if(t.length>0&&e<=this.getLength())return new yt(t[t.length-1],1)}else if(e&&e.getPath&&e.getPath()===this)return e;return null},getOffsetsWithTangent:function(){var e=D.read(arguments);if(e.isZero())return[];for(var t=[],r=0,u=this.getCurves(),l=0,c=u.length;l<c;l++){for(var m=u[l],p=m.getTimesWithTangent(e),_=0,b=p.length;_<b;_++){var E=r+m.getOffsetAtTime(p[_]);t.indexOf(E)<0&&t.push(E)}r+=m.length}return t}}),new function(){function e(r,u,l,c){if(c<=0)return;var m=c/2,p=c-2,_=m-1,b=new Array(6),E,T;function S(N){var w=b[N],L=b[N+1];(E!=w||T!=L)&&(r.beginPath(),r.moveTo(E,T),r.lineTo(w,L),r.stroke(),r.beginPath(),r.arc(w,L,m,0,Math.PI*2,!0),r.fill())}for(var x=0,M=u.length;x<M;x++){var k=u[x],R=k._selection;if(k._transformCoordinates(l,b),E=b[0],T=b[1],R&2&&S(2),R&4&&S(4),r.fillRect(E-m,T-m,c,c),p>0&&!(R&1)){var C=r.fillStyle;r.fillStyle="#ffffff",r.fillRect(E-_,T-_,p,p),r.fillStyle=C}}}function t(r,u,l){var c=u._segments,m=c.length,p=new Array(6),_=!0,b,E,T,S,x,M,k,R;function C(w){if(l)w._transformCoordinates(l,p),b=p[0],E=p[1];else{var L=w._point;b=L._x,E=L._y}if(_)r.moveTo(b,E),_=!1;else{if(l)x=p[2],M=p[3];else{var B=w._handleIn;x=b+B._x,M=E+B._y}x===b&&M===E&&k===T&&R===S?r.lineTo(b,E):r.bezierCurveTo(k,R,x,M,b,E)}if(T=b,S=E,l)k=p[4],R=p[5];else{var B=w._handleOut;k=T+B._x,R=S+B._y}}for(var N=0;N<m;N++)C(c[N]);u._closed&&m>0&&C(c[0])}return{_draw:function(r,u,l,c){var m=u.dontStart,p=u.dontFinish||u.clip,_=this.getStyle(),b=_.hasFill(),E=_.hasStroke(),T=_.getDashArray(),S=!Ue.support.nativeDash&&E&&T&&T.length;m||r.beginPath(),(b||E&&!S||p)&&(t(r,this,c),this._closed&&r.closePath());function x(w){return T[(w%S+S)%S]}if(!p&&(b||E)&&(this._setStyles(r,u,l),b&&(r.fill(_.getFillRule()),r.shadowColor="rgba(0,0,0,0)"),E)){if(S){m||r.beginPath();for(var M=new Ke(this,.25,32,!1,c),k=M.length,R=-_.getDashOffset(),C,N=0;R>0;)R-=x(N--)+x(N--);for(;R<k;)C=R+x(N++),(R>0||C>0)&&M.drawPart(r,Math.max(R,0),Math.max(C,0)),R=C+x(N++)}r.stroke()}},_drawSelected:function(r,u){r.beginPath(),t(r,this,u),r.stroke(),e(r,this._segments,u,Ue.settings.handleSize)}}},new function(){function e(t){var r=t._segments;if(!r.length)throw new Error("Use a moveTo() command first");return r[r.length-1]}return{moveTo:function(){var t=this._segments;t.length===1&&this.removeSegment(0),t.length||this._add([new Ve(D.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new Ve(D.read(arguments))])},cubicCurveTo:function(){var t=arguments,r=D.read(t),u=D.read(t),l=D.read(t),c=e(this);c.setHandleOut(r.subtract(c._point)),this._add([new Ve(l,u.subtract(l))])},quadraticCurveTo:function(){var t=arguments,r=D.read(t),u=D.read(t),l=e(this)._point;this.cubicCurveTo(r.add(l.subtract(r).multiply(1/3)),r.add(u.subtract(r).multiply(1/3)),u)},curveTo:function(){var t=arguments,r=D.read(t),u=D.read(t),l=v.pick(v.read(t),.5),c=1-l,m=e(this)._point,p=r.subtract(m.multiply(c*c)).subtract(u.multiply(l*l)).divide(2*l*c);if(p.isNaN())throw new Error("Cannot put a curve through points with parameter = "+l);this.quadraticCurveTo(p,u)},arcTo:function(){var t=arguments,r=Math.abs,u=Math.sqrt,l=e(this),c=l._point,m=D.read(t),p,_=v.peek(t),b=v.pick(_,!0),E,T,S,x;if(typeof b=="boolean")var M=c.add(m).divide(2),p=M.add(M.subtract(c).rotate(b?-90:90));else if(v.remain(t)<=2)p=m,m=D.read(t);else if(!c.equals(m)){var k=K.read(t),R=ge.isZero;if(R(k.width)||R(k.height))return this.lineTo(m);var C=v.read(t),b=!!v.read(t),N=!!v.read(t),M=c.add(m).divide(2),w=c.subtract(M).rotate(-C),L=w.x,B=w.y,U=r(k.width),F=r(k.height),W=U*U,j=F*F,J=L*L,re=B*B,Y=u(J/W+re/j);if(Y>1&&(U*=Y,F*=Y,W=U*U,j=F*F),Y=(W*j-W*re-j*J)/(W*re+j*J),r(Y)<1e-12&&(Y=0),Y<0)throw new Error("Cannot create an arc with the given arguments");E=new D(U*B/F,-F*L/U).multiply((N===b?-1:1)*u(Y)).rotate(C).add(M),x=new he().translate(E).rotate(C).scale(U,F),S=x._inverseTransform(c),T=S.getDirectedAngle(x._inverseTransform(m)),!b&&T>0?T-=360:b&&T<0&&(T+=360)}if(p){var se=new Ae(c.add(p).divide(2),p.subtract(c).rotate(90),!0),ue=new Ae(p.add(m).divide(2),m.subtract(p).rotate(90),!0),de=new Ae(c,m),pe=de.getSide(p);if(E=se.intersect(ue,!0),!E){if(!pe)return this.lineTo(m);throw new Error("Cannot create an arc with the given arguments")}S=c.subtract(E),T=S.getDirectedAngle(m.subtract(E));var we=de.getSide(E,!0);we===0?T=pe*r(T):pe===we&&(T+=T<0?360:-360)}if(T){for(var Be=1e-5,$e=r(T),Ze=$e>=360?4:Math.ceil(($e-Be)/90),tt=T/Ze,ke=tt*Math.PI/360,Ne=4/3*Math.sin(ke)/(1+Math.cos(ke)),Ye=[],it=0;it<=Ze;it++){var w=m,nt=null;if(it<Ze&&(nt=S.rotate(90).multiply(Ne),x?(w=x._transformPoint(S),nt=x._transformPoint(S.add(nt)).subtract(w)):w=E.add(S)),!it)l.setHandleOut(nt);else{var _t=S.rotate(-90).multiply(Ne);x&&(_t=x._transformPoint(S.add(_t)).subtract(w)),Ye.push(new Ve(w,_t,nt))}S=S.rotate(tt)}this._add(Ye)}},lineBy:function(){var t=D.read(arguments),r=e(this)._point;this.lineTo(r.add(t))},curveBy:function(){var t=arguments,r=D.read(t),u=D.read(t),l=v.read(t),c=e(this)._point;this.curveTo(c.add(r),c.add(u),l)},cubicCurveBy:function(){var t=arguments,r=D.read(t),u=D.read(t),l=D.read(t),c=e(this)._point;this.cubicCurveTo(c.add(r),c.add(u),c.add(l))},quadraticCurveBy:function(){var t=arguments,r=D.read(t),u=D.read(t),l=e(this)._point;this.quadraticCurveTo(l.add(r),l.add(u))},arcBy:function(){var t=arguments,r=e(this)._point,u=r.add(D.read(t)),l=v.pick(v.peek(t),!0);typeof l=="boolean"?this.arcTo(u,l):this.arcTo(u,r.add(D.read(t)))},closePath:function(t){this.setClosed(!0),this.join(this,t)}}},{_getBounds:function(e,t){var r=t.handle?"getHandleBounds":t.stroke?"getStrokeBounds":"getBounds";return xe[r](this._segments,this._closed,this,e,t)},statics:{getBounds:function(e,t,r,u,l,c){var m=e[0];if(!m)return new fe;var p=new Array(6),_=m._transformCoordinates(u,new Array(6)),b=_.slice(0,2),E=b.slice(),T=new Array(2);function S(k){k._transformCoordinates(u,p);for(var R=0;R<2;R++)Oe._addBounds(_[R],_[R+4],p[R+2],p[R],R,c?c[R]:0,b,E,T);var C=_;_=p,p=C}for(var x=1,M=e.length;x<M;x++)S(e[x]);return t&&S(m),new fe(b[0],b[1],E[0]-b[0],E[1]-b[1])},getStrokeBounds:function(e,t,r,u,l){var c=r.getStyle(),m=c.hasStroke(),p=c.getStrokeWidth(),_=m&&r._getStrokeMatrix(u,l),b=m&&xe._getStrokePadding(p,_),E=xe.getBounds(e,t,r,u,l,b);if(!m)return E;var T=p/2,S=c.getStrokeJoin(),x=c.getStrokeCap(),M=c.getMiterLimit(),k=new fe(new K(b));function R(U){E=E.include(U)}function C(U){E=E.unite(k.setCenter(U._point.transform(u)))}function N(U,F){F==="round"||U.isSmooth()?C(U):xe._addBevelJoin(U,F,T,M,u,_,R)}function w(U,F){F==="round"?C(U):xe._addSquareCap(U,F,T,u,_,R)}var L=e.length-(t?0:1);if(L>0){for(var B=1;B<L;B++)N(e[B],S);t?N(e[0],S):(w(e[0],x),w(e[e.length-1],x))}return E},_getStrokePadding:function(e,t){if(!t)return[e,e];var r=new D(e,0).transform(t),u=new D(0,e).transform(t),l=r.getAngleInRadians(),c=r.getLength(),m=u.getLength(),p=Math.sin(l),_=Math.cos(l),b=Math.tan(l),E=Math.atan2(m*b,c),T=Math.atan2(m,b*c);return[Math.abs(c*Math.cos(E)*_+m*Math.sin(E)*p),Math.abs(m*Math.sin(T)*_+c*Math.cos(T)*p)]},_addBevelJoin:function(e,t,r,u,l,c,m,p){var _=e.getCurve(),b=_.getPrevious(),E=_.getPoint1().transform(l),T=b.getNormalAtTime(1).multiply(r).transform(c),S=_.getNormalAtTime(0).multiply(r).transform(c),x=T.getDirectedAngle(S);if((x<0||x>=180)&&(T=T.negate(),S=S.negate()),p&&m(E),m(E.add(T)),t==="miter"){var M=new Ae(E.add(T),new D(-T.y,T.x),!0).intersect(new Ae(E.add(S),new D(-S.y,S.x),!0),!0);M&&E.getDistance(M)<=u*r&&m(M)}m(E.add(S))},_addSquareCap:function(e,t,r,u,l,c,m){var p=e._point.transform(u),_=e.getLocation(),b=_.getNormal().multiply(_.getTime()===0?r:-r).transform(l);t==="square"&&(m&&(c(p.subtract(b)),c(p.add(b))),p=p.add(b.rotate(-90))),c(p.add(b)),c(p.subtract(b))},getHandleBounds:function(e,t,r,u,l){var c=r.getStyle(),m=l.stroke&&c.hasStroke(),p,_;if(m){var b=r._getStrokeMatrix(u,l),E=c.getStrokeWidth()/2,T=E;c.getStrokeJoin()==="miter"&&(T=E*c.getMiterLimit()),c.getStrokeCap()==="square"&&(T=Math.max(T,E*Math.SQRT2)),p=xe._getStrokePadding(E,b),_=xe._getStrokePadding(T,b)}for(var S=new Array(6),x=1/0,M=-x,k=x,R=M,C=0,N=e.length;C<N;C++){var w=e[C];w._transformCoordinates(u,S);for(var L=0;L<6;L+=2){var B=L?p:_,U=B?B[0]:0,F=B?B[1]:0,W=S[L],j=S[L+1],J=W-U,re=W+U,Y=j-F,se=j+F;J<x&&(x=J),re>M&&(M=re),Y<k&&(k=Y),se>R&&(R=se)}}return new fe(x,k,M-x,R-k)}}});xe.inject({statics:new function(){var e=.5522847498307936,t=[new Ve([-1,0],[0,e],[0,-e]),new Ve([0,-1],[-e,0],[e,0]),new Ve([1,0],[0,-e],[0,e]),new Ve([0,1],[e,0],[-e,0])];function r(l,c,m){var p=v.getNamed(m),_=new xe(p&&(p.insert==!0?O.INSERT:p.insert==!1?O.NO_INSERT:null));return _._add(l),_._closed=c,_.set(p,O.INSERT)}function u(l,c,m){for(var p=new Array(4),_=0;_<4;_++){var b=t[_];p[_]=new Ve(b._point.multiply(c).add(l),b._handleIn.multiply(c),b._handleOut.multiply(c))}return r(p,!0,m)}return{Line:function(){var l=arguments;return r([new Ve(D.readNamed(l,"from")),new Ve(D.readNamed(l,"to"))],!1,l)},Circle:function(){var l=arguments,c=D.readNamed(l,"center"),m=v.readNamed(l,"radius");return u(c,new K(m),l)},Rectangle:function(){var l=arguments,c=fe.readNamed(l,"rectangle"),m=K.readNamed(l,"radius",0,{readNull:!0}),p=c.getBottomLeft(!0),_=c.getTopLeft(!0),b=c.getTopRight(!0),E=c.getBottomRight(!0),T;if(!m||m.isZero())T=[new Ve(p),new Ve(_),new Ve(b),new Ve(E)];else{m=K.min(m,c.getSize(!0).divide(2));var S=m.width,x=m.height,M=S*e,k=x*e;T=[new Ve(p.add(S,0),null,[-M,0]),new Ve(p.subtract(0,x),[0,k]),new Ve(_.add(0,x),null,[0,-k]),new Ve(_.add(S,0),[-M,0],null),new Ve(b.subtract(S,0),null,[M,0]),new Ve(b.add(0,x),[0,-k],null),new Ve(E.subtract(0,x),null,[0,k]),new Ve(E.subtract(S,0),[M,0])]}return r(T,!0,l)},RoundRectangle:"#Rectangle",Ellipse:function(){var l=arguments,c=Xe._readEllipse(l);return u(c.center,c.radius,l)},Oval:"#Ellipse",Arc:function(){var l=arguments,c=D.readNamed(l,"from"),m=D.readNamed(l,"through"),p=D.readNamed(l,"to"),_=v.getNamed(l),b=new xe(_&&_.insert==!1&&O.NO_INSERT);return b.moveTo(c),b.arcTo(m,p),b.set(_)},RegularPolygon:function(){for(var l=arguments,c=D.readNamed(l,"center"),m=v.readNamed(l,"sides"),p=v.readNamed(l,"radius"),_=360/m,b=m%3===0,E=new D(0,b?-p:p),T=b?-1:.5,S=new Array(m),x=0;x<m;x++)S[x]=new Ve(c.add(E.rotate((x+T)*_)));return r(S,!0,l)},Star:function(){for(var l=arguments,c=D.readNamed(l,"center"),m=v.readNamed(l,"points")*2,p=v.readNamed(l,"radius1"),_=v.readNamed(l,"radius2"),b=360/m,E=new D(0,-1),T=new Array(m),S=0;S<m;S++)T[S]=new Ve(c.add(E.rotate(b*S).multiply(S%2?_:p)));return r(T,!0,l)}}}});var Ie=Me.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||(typeof t=="string"?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function e(t,r){var u=r,l=u[0];l&&typeof l[0]=="number"&&(u=[u]);for(var c=r.length-1;c>=0;c--){var m=u[c];u===r&&!(m instanceof xe)&&(u=v.slice(u)),Array.isArray(m)?u[c]=new xe({segments:m,insert:!1}):m instanceof Ie&&(u.splice.apply(u,[c,1].concat(m.removeChildren())),m.remove())}return e.base.call(this,t,u)},reduce:function e(t){for(var r=this._children,u=r.length-1;u>=0;u--){var l=r[u].reduce(t);l.isEmpty()&&l.remove()}if(!r.length){var l=new xe(O.NO_INSERT);return l.copyAttributes(this),l.insertAbove(this),this.remove(),l}return e.base.call(this)},isClosed:function(){for(var e=this._children,t=0,r=e.length;t<r;t++)if(!e[t]._closed)return!1;return!0},setClosed:function(e){for(var t=this._children,r=0,u=t.length;r<u;r++)t[r].setClosed(e)},getFirstSegment:function(){var e=this.getFirstChild();return e&&e.getFirstSegment()},getLastSegment:function(){var e=this.getLastChild();return e&&e.getLastSegment()},getCurves:function(){for(var e=this._children,t=[],r=0,u=e.length;r<u;r++)v.push(t,e[r].getCurves());return t},getFirstCurve:function(){var e=this.getFirstChild();return e&&e.getFirstCurve()},getLastCurve:function(){var e=this.getLastChild();return e&&e.getLastCurve()},getArea:function(){for(var e=this._children,t=0,r=0,u=e.length;r<u;r++)t+=e[r].getArea();return t},getLength:function(){for(var e=this._children,t=0,r=0,u=e.length;r<u;r++)t+=e[r].getLength();return t},getPathData:function(e,t){for(var r=this._children,u=[],l=0,c=r.length;l<c;l++){var m=r[l],p=m._matrix;u.push(m.getPathData(e&&!p.isIdentity()?e.appended(p):e,t))}return u.join("")},_hitTestChildren:function e(t,r,u){return e.base.call(this,t,r.class===xe||r.type==="path"?r:v.set({},r,{fill:!1}),u)},_draw:function(e,t,r,u){var l=this._children;if(!!l.length){t=t.extend({dontStart:!0,dontFinish:!0}),e.beginPath();for(var c=0,m=l.length;c<m;c++)l[c].draw(e,t,u);if(!t.clip){this._setStyles(e,t,r);var p=this._style;p.hasFill()&&(e.fill(p.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),p.hasStroke()&&e.stroke()}}},_drawSelected:function(e,t,r){for(var u=this._children,l=0,c=u.length;l<c;l++){var m=u[l],p=m._matrix;r[m._id]||m._drawSelected(e,p.isIdentity()?t:t.appended(p))}}},new function(){function e(t,r){var u=t._children;if(r&&!u.length)throw new Error("Use a moveTo() command first");return u[u.length-1]}return v.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(t){this[t]=function(){var r=e(this,!0);r[t].apply(r,arguments)}},{moveTo:function(){var t=e(this),r=t&&t.isEmpty()?t:new xe(O.NO_INSERT);r!==t&&this.addChild(r),r.moveTo.apply(r,arguments)},moveBy:function(){var t=e(this,!0),r=t&&t.getLastSegment(),u=D.read(arguments);this.moveTo(r?u.add(r._point):u)},closePath:function(t){e(this,!0).closePath(t)}})},v.each(["reverse","flatten","simplify","smooth"],function(e){this[e]=function(t){for(var r=this._children,u,l=0,c=r.length;l<c;l++)u=r[l][e](t)||u;return u}},{}));Me.inject(new function(){var e=Math.min,t=Math.max,r=Math.abs,u={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function l(C){return C._children||[C]}function c(C,N){var w=C.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(N){for(var L=l(w),B=0,U=L.length;B<U;B++){var C=L[B];!C._closed&&!C.isEmpty()&&(C.closePath(1e-12),C.getFirstSegment().setHandleIn(0,0),C.getLastSegment().setHandleOut(0,0))}w=w.resolveCrossings().reorient(w.getFillRule()==="nonzero",!0)}return w}function m(C,N,w,L,B){var U=new Ie(O.NO_INSERT);return U.addChildren(C,!0),U=U.reduce({simplify:N}),B&&B.insert==!1||U.insertAbove(L&&w.isSibling(L)&&w.getIndex()<L.getIndex()?L:w),U.copyAttributes(w,!0),U}function p(C){return C.hasOverlap()||C.isCrossing()}function _(C,N,w,L){if(L&&(L.trace==!1||L.stroke)&&/^(subtract|intersect)$/.test(w))return b(C,N,w);var B=c(C,!0),U=N&&C!==N&&c(N,!0),F=u[w];F[w]=!0,U&&(F.subtract||F.exclude)^(U.isClockwise()^B.isClockwise())&&U.reverse();var W=x(yt.expand(B.getIntersections(U,p))),j=l(B),J=U&&l(U),re=[],Y=[],se;function ue(nt){for(var _t=0,ze=nt.length;_t<ze;_t++){var mt=nt[_t];v.push(re,mt._segments),v.push(Y,mt.getCurves()),mt._overlapsOnly=!0}}function de(nt){for(var _t=[],ze=0,mt=nt&&nt.length;ze<mt;ze++)_t.push(Y[nt[ze]]);return _t}if(W.length){ue(j),J&&ue(J);for(var pe=new Array(Y.length),we=0,Be=Y.length;we<Be;we++)pe[we]=Y[we].getValues();for(var $e=oe.findCurveBoundsCollisions(pe,pe,0,!0),Ze={},we=0;we<Y.length;we++){var tt=Y[we],ke=tt._path._id,Ne=Ze[ke]=Ze[ke]||{};Ne[tt.getIndex()]={hor:de($e[we].hor),ver:de($e[we].ver)}}for(var we=0,Be=W.length;we<Be;we++)k(W[we]._segment,B,U,Ze,F);for(var we=0,Be=re.length;we<Be;we++){var Ye=re[we],it=Ye._intersection;Ye._winding||k(Ye,B,U,Ze,F),it&&it._overlap||(Ye._path._overlapsOnly=!1)}se=R(re,F)}else se=S(J?j.concat(J):j.slice(),function(nt){return!!F[nt]});return m(se,!0,C,N,L)}function b(C,N,w){var L=c(C),B=c(N),U=L.getIntersections(B,p),F=w==="subtract",W=w==="divide",j={},J=[];function re(ue){if(!j[ue._id]&&(W||B.contains(ue.getPointAt(ue.getLength()/2))^F))return J.unshift(ue),j[ue._id]=!0}for(var Y=U.length-1;Y>=0;Y--){var se=U[Y].split();se&&(re(se)&&se.getFirstSegment().setHandleIn(0,0),L.getLastSegment().setHandleOut(0,0))}return re(L),m(J,!1,C,N)}function E(C,N){for(var w=C;w;){if(w===N)return;w=w._previous}for(;C._next&&C._next!==N;)C=C._next;if(!C._next){for(;N._previous;)N=N._previous;C._next=N,N._previous=C}}function T(C){for(var N=C.length-1;N>=0;N--)C[N].clearHandles()}function S(C,N,w){var L=C&&C.length;if(L){var B=v.each(C,function($e,Ze){this[$e._id]={container:null,winding:$e.isClockwise()?1:-1,index:Ze}},{}),U=C.slice().sort(function($e,Ze){return r(Ze.getArea())-r($e.getArea())}),F=U[0],W=oe.findItemBoundsCollisions(U,null,ge.GEOMETRIC_EPSILON);w==null&&(w=F.isClockwise());for(var j=0;j<L;j++){var J=U[j],re=B[J._id],Y=0,se=W[j];if(se){for(var ue=null,de=se.length-1;de>=0;de--)if(se[de]<j){ue=ue||J.getInteriorPoint();var pe=U[se[de]];if(pe.contains(ue)){var we=B[pe._id];Y=we.winding,re.winding+=Y,re.container=we.exclude?we.container:pe;break}}}if(N(re.winding)===N(Y))re.exclude=!0,C[re.index]=null;else{var Be=re.container;J.setClockwise(Be?!Be.isClockwise():w)}}}return C}function x(C,N,w){var L=N&&[],B=1e-8,U=1-B,F=!1,W=w||[],j=w&&{},J,re,Y;function se(_t){return _t._path._id+"."+_t._segment1._index}for(var ue=(w&&w.length)-1;ue>=0;ue--){var de=w[ue];de._path&&(j[se(de)]=!0)}for(var ue=C.length-1;ue>=0;ue--){var pe=C[ue],we=pe._time,Be=we,$e=N&&!N(pe),de=pe._curve,Ze;if(de&&(de!==re?(F=!de.hasHandles()||j&&j[se(de)],J=[],Y=null,re=de):Y>=B&&(we/=Y)),$e){J&&J.push(pe);continue}else N&&L.unshift(pe);if(Y=Be,we<B)Ze=de._segment1;else if(we>U)Ze=de._segment2;else{var tt=de.divideAtTime(we,!0);F&&W.push(de,tt),Ze=tt._segment1;for(var ke=J.length-1;ke>=0;ke--){var Ne=J[ke];Ne._time=(Ne._time-we)/(1-we)}}pe._setSegment(Ze);var Ye=Ze._intersection,it=pe._intersection;if(Ye){E(Ye,it);for(var nt=Ye;nt;)E(nt._intersection,Ye),nt=nt._next}else Ze._intersection=it}return w||T(W),L||C}function M(C,N,w,L,B){var U=Array.isArray(N)?N:N[w?"hor":"ver"],F=w?1:0,W=F^1,j=[C.x,C.y],J=j[F],re=j[W],Y=1e-9,se=1e-6,ue=J-Y,de=J+Y,pe=0,we=0,Be=0,$e=0,Ze=!1,tt=!1,ke=1,Ne=[],Ye,it;function nt(Qt){var mi=Qt[W+0],Ai=Qt[W+6];if(!(re<e(mi,Ai)||re>t(mi,Ai))){var vi=Qt[F+0],Ui=Qt[F+2],on=Qt[F+4],Mi=Qt[F+6];if(mi===Ai){(vi<de&&Mi>ue||Mi<de&&vi>ue)&&(Ze=!0);return}var Et=re===mi?0:re===Ai||ue>t(vi,Ui,on,Mi)||de<e(vi,Ui,on,Mi)?1:Oe.solveCubic(Qt,W,re,Ne,0,1)>0?Ne[0]:1,qi=Et===0?vi:Et===1?Mi:Oe.getPoint(Qt,Et)[w?"y":"x"],Ri=mi>Ai?1:-1,Yi=Ye[W]>Ye[W+6]?1:-1,$i=Ye[F+6];return re!==mi?(qi<ue?Be+=Ri:qi>de?$e+=Ri:Ze=!0,qi>J-se&&qi<J+se&&(ke/=2)):(Ri!==Yi?vi<ue?Be+=Ri:vi>de&&($e+=Ri):vi!=$i&&($i<de&&qi>de?($e+=Ri,Ze=!0):$i>ue&&qi<ue&&(Be+=Ri,Ze=!0)),ke/=4),Ye=Qt,!B&&qi>ue&&qi<de&&Oe.getTangent(Qt,Et)[w?"x":"y"]===0&&M(C,N,!w,L,!0)}}function _t(Qt){var mi=Qt[W+0],Ai=Qt[W+2],vi=Qt[W+4],Ui=Qt[W+6];if(re<=t(mi,Ai,vi,Ui)&&re>=e(mi,Ai,vi,Ui)){for(var on=Qt[F+0],Mi=Qt[F+2],Et=Qt[F+4],qi=Qt[F+6],Ri=ue>t(on,Mi,Et,qi)||de<e(on,Mi,Et,qi)?[Qt]:Oe.getMonoCurves(Qt,w),Yi,$i=0,Ir=Ri.length;$i<Ir;$i++)if(Yi=nt(Ri[$i]))return Yi}}for(var ze=0,mt=U.length;ze<mt;ze++){var Rt=U[ze],kt=Rt._path,_i=Rt.getValues(),gi;if((!ze||U[ze-1]._path!==kt)&&(Ye=null,kt._closed||(it=Oe.getValues(kt.getLastCurve().getSegment2(),Rt.getSegment1(),null,!L),it[W]!==it[W+6]&&(Ye=it)),!Ye)){Ye=_i;for(var xi=kt.getLastCurve();xi&&xi!==Rt;){var fi=xi.getValues();if(fi[W]!==fi[W+6]){Ye=fi;break}xi=xi.getPrevious()}}if(gi=_t(_i))return gi;if(ze+1===mt||U[ze+1]._path!==kt){if(it&&(gi=_t(it)))return gi;Ze&&!Be&&!$e&&(Be=$e=kt.isClockwise(L)^w?1:-1),pe+=Be,we+=$e,Be=$e=0,Ze&&(tt=!0,Ze=!1),it=null}}return pe=r(pe),we=r(we),{winding:t(pe,we),windingL:pe,windingR:we,quality:ke,onPath:tt}}function k(C,N,w,L,B){var U=[],F=C,W=0,Y;do{var j=C.getCurve();if(j){var J=j.getLength();U.push({segment:C,curve:j,length:J}),W+=J}C=C.getNext()}while(C&&!C._intersection&&C!==F);for(var re=[.5,.25,.75],Y={winding:0,quality:-1},se=.001,ue=1-se,de=0;de<re.length&&Y.quality<.5;de++)for(var J=W*re[de],pe=0,we=U.length;pe<we;pe++){var Be=U[pe],$e=Be.length;if(J<=$e){var j=Be.curve,Ze=j._path,tt=Ze._parent,ke=tt instanceof Ie?tt:Ze,Ne=ge.clamp(j.getTimeAt(J),se,ue),Ye=j.getPointAtTime(Ne),it=r(j.getTangentAtTime(Ne).y)<Math.SQRT1_2,nt=null;if(B.subtract&&w){var _t=ke===N?w:N,ze=_t._getWinding(Ye,it,!0);if(ke===N&&ze.winding||ke===w&&!ze.winding){if(ze.quality<1)continue;nt={winding:0,quality:1}}}nt=nt||M(Ye,L[Ze._id][j.getIndex()],it,!0),nt.quality>Y.quality&&(Y=nt);break}J-=$e}for(var pe=U.length-1;pe>=0;pe--)U[pe].segment._winding=Y}function R(C,N){var w=[],L;function B(mt){var Rt;return!!(mt&&!mt._visited&&(!N||N[(Rt=mt._winding||{}).winding]&&!(N.unite&&Rt.winding===2&&Rt.windingL&&Rt.windingR)))}function U(mt){if(mt){for(var Rt=0,kt=L.length;Rt<kt;Rt++)if(mt===L[Rt])return!0}return!1}function F(mt){for(var Rt=mt._segments,kt=0,_i=Rt.length;kt<_i;kt++)Rt[kt]._visited=!0}function W(mt,Rt){var kt=mt._intersection,_i=kt,gi=[];Rt&&(L=[mt]);function xi(fi,Qt){for(;fi&&fi!==Qt;){var mi=fi._segment,Ai=mi&&mi._path;if(Ai){var vi=mi.getNext()||Ai.getFirstSegment(),Ui=vi._intersection;mi!==mt&&(U(mi)||U(vi)||vi&&B(mi)&&(B(vi)||Ui&&B(Ui._segment)))&&gi.push(mi),Rt&&L.push(mi)}fi=fi._next}}if(kt){for(xi(kt);kt&&kt._previous;)kt=kt._previous;xi(kt,_i)}return gi}C.sort(function(mt,Rt){var kt=mt._intersection,_i=Rt._intersection,gi=!!(kt&&kt._overlap),xi=!!(_i&&_i._overlap),fi=mt._path,Qt=Rt._path;return gi^xi?gi?1:-1:!kt^!_i?kt?1:-1:fi!==Qt?fi._id-Qt._id:mt._index-Rt._index});for(var j=0,J=C.length;j<J;j++){var re=C[j],Y=B(re),se=null,ue=!1,de=!0,pe=[],we,Be,$e;if(Y&&re._path._overlapsOnly){var Ze=re._path,tt=re._intersection._segment._path;Ze.compare(tt)&&(Ze.getArea()&&w.push(Ze.clone(!1)),F(Ze),F(tt),Y=!1)}for(;Y;){var ke=!se,Ne=W(re,ke),Ye=Ne.shift(),ue=!ke&&(U(re)||U(Ye)),it=!ue&&Ye;if(ke&&(se=new xe(O.NO_INSERT),we=null),ue){(re.isFirst()||re.isLast())&&(de=re._path._closed),re._visited=!0;break}if(it&&we&&(pe.push(we),we=null),we||(it&&Ne.push(re),we={start:se._segments.length,crossings:Ne,visited:Be=[],handleIn:$e}),it&&(re=Ye),!B(re)){se.removeSegments(we.start);for(var nt=0,_t=Be.length;nt<_t;nt++)Be[nt]._visited=!1;Be.length=0;do re=we&&we.crossings.shift(),(!re||!re._path)&&(re=null,we=pe.pop(),we&&(Be=we.visited,$e=we.handleIn));while(we&&!B(re));if(!re)break}var ze=re.getNext();se.add(new Ve(re._point,$e,ze&&re._handleOut)),re._visited=!0,Be.push(re),re=ze||re._path.getFirstSegment(),$e=ze&&ze._handleIn}ue&&(de&&(se.getFirstSegment().setHandleIn($e),se.setClosed(de)),se.getArea()!==0&&w.push(se))}return w}return{_getWinding:function(C,N,w){return M(C,this.getCurves(),N,w)},unite:function(C,N){return _(this,C,"unite",N)},intersect:function(C,N){return _(this,C,"intersect",N)},subtract:function(C,N){return _(this,C,"subtract",N)},exclude:function(C,N){return _(this,C,"exclude",N)},divide:function(C,N){return N&&(N.trace==!1||N.stroke)?b(this,C,"divide"):m([this.subtract(C,N),this.intersect(C,N)],!0,this,C,N)},resolveCrossings:function(){var C=this._children,N=C||[this];function w(we,Be){var $e=we&&we._intersection;return $e&&$e._overlap&&$e._path===Be}var L=!1,B=!1,U=this.getIntersections(null,function(we){return we.hasOverlap()&&(L=!0)||we.isCrossing()&&(B=!0)}),F=L&&B&&[];if(U=yt.expand(U),L)for(var W=x(U,function(we){return we.hasOverlap()},F),j=W.length-1;j>=0;j--){var J=W[j],re=J._path,Y=J._segment,se=Y.getPrevious(),ue=Y.getNext();w(se,re)&&w(ue,re)&&(Y.remove(),se._handleOut._set(0,0),ue._handleIn._set(0,0),se!==Y&&!se.getCurve().hasLength()&&(ue._handleIn.set(se._handleIn),se.remove()))}B&&(x(U,L&&function(we){var Be=we.getCurve(),$e=we.getSegment(),Ze=we._intersection,tt=Ze._curve,ke=Ze._segment;if(Be&&tt&&Be._path&&tt._path)return!0;$e&&($e._intersection=null),ke&&(ke._intersection=null)},F),F&&T(F),N=R(v.each(N,function(we){v.push(this,we._segments)},[])));var de=N.length,pe;return de>1&&C?(N!==C&&this.setChildren(N),pe=this):de===1&&!C&&(N[0]!==this&&this.setSegments(N[0].removeSegments()),pe=this),pe||(pe=new Ie(O.NO_INSERT),pe.addChildren(N),pe=pe.reduce(),pe.copyAttributes(this),this.replaceWith(pe)),pe},reorient:function(C,N){var w=this._children;return w&&w.length?this.setChildren(S(this.removeChildren(),function(L){return!!(C?L:L&1)},N)):N!==a&&this.setClockwise(N),this},getInteriorPoint:function(){var C=this.getBounds(),N=C.getCenter(!0);if(!this.contains(N)){for(var w=this.getCurves(),L=N.y,B=[],U=[],F=0,W=w.length;F<W;F++){var j=w[F].getValues(),J=j[1],re=j[3],Y=j[5],se=j[7];if(L>=e(J,re,Y,se)&&L<=t(J,re,Y,se))for(var ue=Oe.getMonoCurves(j),de=0,pe=ue.length;de<pe;de++){var we=ue[de],Be=we[1],$e=we[7];if(Be!==$e&&(L>=Be&&L<=$e||L>=$e&&L<=Be)){var Ze=L===Be?we[0]:L===$e?we[6]:Oe.solveCubic(we,1,L,U,0,1)===1?Oe.getPoint(we,U[0]).x:(we[0]+we[6])/2;B.push(Ze)}}}B.length>1&&(B.sort(function(tt,ke){return tt-ke}),N.x=(B[0]+B[1])/2)}return N}}});var Ke=v.extend({_class:"PathFlattener",initialize:function(e,t,r,u,l){var c=[],m=[],p=0,_=1/(r||32),b=e._segments,E=b[0],T;function S(R,C){var N=Oe.getValues(R,C,l);c.push(N),x(N,R._index,0,1)}function x(R,C,N,w){if(w-N>_&&!(u&&Oe.isStraight(R))&&!Oe.isFlatEnough(R,t||.25)){var L=Oe.subdivide(R,.5),B=(N+w)/2;x(L[0],C,N,B),x(L[1],C,B,w)}else{var U=R[6]-R[0],F=R[7]-R[1],W=Math.sqrt(U*U+F*F);W>0&&(p+=W,m.push({offset:p,curve:R,index:C,time:w}))}}for(var M=1,k=b.length;M<k;M++)T=b[M],S(E,T),E=T;e._closed&&S(T||E,b[0]),this.curves=c,this.parts=m,this.length=p,this.index=0},_get:function(e){for(var t=this.parts,r=t.length,u,l=this.index;u=l,!(!l||t[--l].offset<e););for(;u<r;u++){var c=t[u];if(c.offset>=e){this.index=u;var m=t[u-1],p=m&&m.index===c.index?m.time:0,_=m?m.offset:0;return{index:c.index,time:p+(c.time-p)*(e-_)/(c.offset-_)}}}return{index:t[r-1].index,time:1}},drawPart:function(e,t,r){for(var u=this._get(t),l=this._get(r),c=u.index,m=l.index;c<=m;c++){var p=Oe.getPart(this.curves[c],c===u.index?u.time:0,c===l.index?l.time:1);c===u.index&&e.moveTo(p[0],p[1]),e.bezierCurveTo.apply(e,p.slice(2))}}},v.each(Oe._evaluateMethods,function(e){this[e+"At"]=function(t){var r=this._get(t);return Oe[e](this.curves[r.index],r.time)}},{})),ct=v.extend({initialize:function(e){for(var t=this.points=[],r=e._segments,u=e._closed,l=0,c,m=r.length;l<m;l++){var p=r[l].point;(!c||!c.equals(p))&&t.push(c=p.clone())}u&&(t.unshift(t[t.length-1]),t.push(t[1])),this.closed=u},fit:function(e){var t=this.points,r=t.length,u=null;return r>0&&(u=[new Ve(t[0])],r>1&&(this.fitCubic(u,e,0,r-1,t[1].subtract(t[0]),t[r-2].subtract(t[r-1])),this.closed&&(u.shift(),u.pop()))),u},fitCubic:function(e,t,r,u,l,c){var m=this.points;if(u-r===1){var p=m[r],_=m[u],b=p.getDistance(_)/3;this.addCurve(e,[p,p.add(l.normalize(b)),_.add(c.normalize(b)),_]);return}for(var E=this.chordLengthParameterize(r,u),T=Math.max(t,t*t),S,x=!0,M=0;M<=4;M++){var k=this.generateBezier(r,u,E,l,c),R=this.findMaxError(r,u,k,E);if(R.error<t&&x){this.addCurve(e,k);return}if(S=R.index,R.error>=T)break;x=this.reparameterize(r,u,E,k),T=R.error}var C=m[S-1].subtract(m[S+1]);this.fitCubic(e,t,r,S,l,C),this.fitCubic(e,t,S,u,C.negate(),c)},addCurve:function(e,t){var r=e[e.length-1];r.setHandleOut(t[1].subtract(t[0])),e.push(new Ve(t[3],t[2].subtract(t[3])))},generateBezier:function(e,t,r,u,l){for(var c=1e-12,m=Math.abs,p=this.points,_=p[e],b=p[t],E=[[0,0],[0,0]],T=[0,0],S=0,x=t-e+1;S<x;S++){var M=r[S],k=1-M,R=3*M*k,C=k*k*k,N=R*k,w=R*M,L=M*M*M,B=u.normalize(N),U=l.normalize(w),F=p[e+S].subtract(_.multiply(C+N)).subtract(b.multiply(w+L));E[0][0]+=B.dot(B),E[0][1]+=B.dot(U),E[1][0]=E[0][1],E[1][1]+=U.dot(U),T[0]+=B.dot(F),T[1]+=U.dot(F)}var W=E[0][0]*E[1][1]-E[1][0]*E[0][1],j,J;if(m(W)>c){var re=E[0][0]*T[1]-E[1][0]*T[0],Y=T[0]*E[1][1]-T[1]*E[0][1];j=Y/W,J=re/W}else{var se=E[0][0]+E[0][1],ue=E[1][0]+E[1][1];j=J=m(se)>c?T[0]/se:m(ue)>c?T[1]/ue:0}var de=b.getDistance(_),pe=c*de,we,Be;if(j<pe||J<pe)j=J=de/3;else{var $e=b.subtract(_);we=u.normalize(j),Be=l.normalize(J),we.dot($e)-Be.dot($e)>de*de&&(j=J=de/3,we=Be=null)}return[_,_.add(we||u.normalize(j)),b.add(Be||l.normalize(J)),b]},reparameterize:function(e,t,r,u){for(var l=e;l<=t;l++)r[l-e]=this.findRoot(u,this.points[l],r[l-e]);for(var l=1,c=r.length;l<c;l++)if(r[l]<=r[l-1])return!1;return!0},findRoot:function(e,t,r){for(var u=[],l=[],c=0;c<=2;c++)u[c]=e[c+1].subtract(e[c]).multiply(3);for(var c=0;c<=1;c++)l[c]=u[c+1].subtract(u[c]).multiply(2);var m=this.evaluate(3,e,r),p=this.evaluate(2,u,r),_=this.evaluate(1,l,r),b=m.subtract(t),E=p.dot(p)+b.dot(_);return ge.isMachineZero(E)?r:r-b.dot(p)/E},evaluate:function(e,t,r){for(var u=t.slice(),l=1;l<=e;l++)for(var c=0;c<=e-l;c++)u[c]=u[c].multiply(1-r).add(u[c+1].multiply(r));return u[0]},chordLengthParameterize:function(e,t){for(var r=[0],u=e+1;u<=t;u++)r[u-e]=r[u-e-1]+this.points[u].getDistance(this.points[u-1]);for(var u=1,l=t-e;u<=l;u++)r[u]/=r[l];return r},findMaxError:function(e,t,r,u){for(var l=Math.floor((t-e+1)/2),c=0,m=e+1;m<t;m++){var p=this.evaluate(3,r,u[m-e]),_=p.subtract(this.points[m]),b=_.x*_.x+_.y*_.y;b>=c&&(c=b,l=m)}return{error:c,index:l}}}),pt=O.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(t){this._content="",this._lines=[];var r=t&&v.isPlainObject(t)&&t.x===a&&t.y===a;this._initialize(r&&t,!r&&D.read(arguments))},_equals:function(e){return this._content===e._content},copyContent:function(e){this.setContent(e._content)},getContent:function(){return this._content},setContent:function(e){this._content=""+e,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),Nt=pt.extend({_class:"PointText",initialize:function(){pt.apply(this,arguments)},getPoint:function(){var e=this._matrix.getTranslation();return new X(e.x,e.y,this,"setPoint")},setPoint:function(){var e=D.read(arguments);this.translate(e.subtract(this._matrix.getTranslation()))},_draw:function(e,t,r){if(!!this._content){this._setStyles(e,t,r);var u=this._lines,l=this._style,c=l.hasFill(),m=l.hasStroke(),p=l.getLeading(),_=e.shadowColor;e.font=l.getFontStyle(),e.textAlign=l.getJustification();for(var b=0,E=u.length;b<E;b++){e.shadowColor=_;var T=u[b];c&&(e.fillText(T,0,0),e.shadowColor="rgba(0,0,0,0)"),m&&e.strokeText(T,0,0),e.translate(0,p)}}},_getBounds:function(e,t){var r=this._style,u=this._lines,l=u.length,c=r.getJustification(),m=r.getLeading(),p=this.getView().getTextWidth(r.getFontStyle(),u),_=0;c!=="left"&&(_-=p/(c==="center"?2:1));var b=new fe(_,l?-.75*m:0,p,l*m);return e?e._transformBounds(b,b):b}}),lt=v.extend(new function(){var e={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},t={},r={transparent:[0,0,0,0]},u;function l(p){var _=p.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||p.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),b="rgb",E;if(_){var T=_[4]?4:3;E=new Array(T);for(var S=0;S<T;S++){var x=_[S+1];E[S]=parseInt(x.length==1?x+x:x,16)/255}}else if(_=p.match(/^(rgb|hsl)a?\((.*)\)$/)){b=_[1],E=_[2].trim().split(/[,\s]+/g);for(var M=b==="hsl",S=0,k=Math.min(E.length,4);S<k;S++){var R=E[S],x=parseFloat(R);if(M)if(S===0){var C=R.match(/([a-z]*)$/)[1];x*={turn:360,rad:180/Math.PI,grad:.9}[C]||1}else S<3&&(x/=100);else S<3&&(x/=/%$/.test(R)?100:255);E[S]=x}}else{var N=r[p];if(!N)if(f){u||(u=gt.getContext(1,1,{willReadFrequently:!0}),u.globalCompositeOperation="copy"),u.fillStyle="rgba(0,0,0,0)",u.fillStyle=p,u.fillRect(0,0,1,1);var w=u.getImageData(0,0,1,1).data;N=r[p]=[w[0]/255,w[1]/255,w[2]/255]}else N=[0,0,0];E=N.slice()}return[b,E]}var c=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],m={"rgb-hsb":function(p,_,b){var E=Math.max(p,_,b),T=Math.min(p,_,b),S=E-T,x=S===0?0:(E==p?(_-b)/S+(_<b?6:0):E==_?(b-p)/S+2:(p-_)/S+4)*60;return[x,E===0?0:S/E,E]},"hsb-rgb":function(p,_,b){p=(p/60%6+6)%6;var T=Math.floor(p),E=p-T,T=c[T],S=[b,b*(1-_),b*(1-_*E),b*(1-_*(1-E))];return[S[T[0]],S[T[1]],S[T[2]]]},"rgb-hsl":function(p,_,b){var E=Math.max(p,_,b),T=Math.min(p,_,b),S=E-T,x=S===0,M=x?0:(E==p?(_-b)/S+(_<b?6:0):E==_?(b-p)/S+2:(p-_)/S+4)*60,k=(E+T)/2,R=x?0:k<.5?S/(E+T):S/(2-E-T);return[M,R,k]},"hsl-rgb":function(p,_,b){if(p=(p/360%1+1)%1,_===0)return[b,b,b];for(var E=[p+1/3,p,p-1/3],T=b<.5?b*(1+_):b+_-b*_,S=2*b-T,x=[],M=0;M<3;M++){var k=E[M];k<0&&(k+=1),k>1&&(k-=1),x[M]=6*k<1?S+(T-S)*6*k:2*k<1?T:3*k<2?S+(T-S)*(2/3-k)*6:S}return x},"rgb-gray":function(p,_,b){return[p*.2989+_*.587+b*.114]},"gray-rgb":function(p){return[p,p,p]},"gray-hsb":function(p){return[0,0,p]},"gray-hsl":function(p){return[0,0,p]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return v.each(e,function(p,_){t[_]=[],v.each(p,function(b,E){var T=v.capitalize(b),S=/^(hue|saturation)$/.test(b),x=t[_][E]=_==="gradient"?b==="gradient"?function(M){var k=this._components[0];return M=De.read(Array.isArray(M)?M:arguments,0,{readNull:!0}),k!==M&&(k&&k._removeOwner(this),M&&M._addOwner(this)),M}:function(){return D.read(arguments,0,{readNull:b==="highlight",clone:!0})}:function(M){return M==null||isNaN(M)?0:+M};this["get"+T]=function(){return this._type===_||S&&/^hs[bl]$/.test(this._type)?this._components[E]:this._convert(_)[E]},this["set"+T]=function(M){this._type!==_&&!(S&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(_),this._properties=e[_],this._type=_),this._components[E]=x.call(this,M),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function p(_){var b=arguments,E=this.__read,T=0,S,x,M,k;Array.isArray(_)&&(b=_,_=b[0]);var R=_!=null&&typeof _;if(R==="string"&&_ in e&&(S=_,_=b[1],Array.isArray(_)?(x=_,M=b[2]):(E&&(T=1),b=v.slice(b,1),R=typeof _)),!x){if(k=R==="number"?b:R==="object"&&_.length!=null?_:null,k){S||(S=k.length>=3?"rgb":"gray");var C=e[S].length;M=k[C],E&&(T+=k===arguments?C+(M!=null?1:0):1),k.length>C&&(k=v.slice(k,0,C))}else if(R==="string"){var N=l(_);S=N[0],x=N[1],x.length===4&&(M=x[3],x.length--)}else if(R==="object")if(_.constructor===p){if(S=_._type,x=_._components.slice(),M=_._alpha,S==="gradient")for(var w=1,L=x.length;w<L;w++){var B=x[w];B&&(x[w]=B.clone())}}else if(_.constructor===De)S="gradient",k=b;else{S="hue"in _?"lightness"in _?"hsl":"hsb":"gradient"in _||"stops"in _||"radial"in _?"gradient":"gray"in _?"gray":"rgb";var U=e[S],F=t[S];this._components=x=[];for(var w=0,L=U.length;w<L;w++){var W=_[U[w]];W==null&&!w&&S==="gradient"&&"stops"in _&&(W={stops:_.stops,radial:_.radial}),W=F[w].call(this,W),W!=null&&(x[w]=W)}M=_.alpha}E&&S&&(T=1)}if(this._type=S||"rgb",!x){this._components=x=[];for(var F=t[this._type],w=0,L=F.length;w<L;w++){var W=F[w].call(this,k&&k[w]);W!=null&&(x[w]=W)}}return this._components=x,this._properties=e[this._type],this._alpha=M,E&&(this.__read=T),this},set:"#initialize",_serialize:function(p,_){var b=this.getComponents();return v.serialize(/^(gray|rgb)$/.test(this._type)?b:[this._type].concat(b),p,!0,_)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(p){var _;return this._type===p?this._components.slice():(_=m[this._type+"-"+p])?_.apply(this,this._components):m["rgb-"+p].apply(this,m[this._type+"-rgb"].apply(this,this._components))},convert:function(p){return new lt(p,this._convert(p),this._alpha)},getType:function(){return this._type},setType:function(p){this._components=this._convert(p),this._properties=e[p],this._type=p},getComponents:function(){var p=this._components.slice();return this._alpha!=null&&p.push(this._alpha),p},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(p){this._alpha=p==null?null:Math.min(Math.max(p,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(p){var _=v.isPlainValue(p,!0)?lt.read(arguments):p;return _===this||_&&this._class===_._class&&this._type===_._type&&this.getAlpha()===_.getAlpha()&&v.equals(this._components,_._components)||!1},toString:function(){for(var p=this._properties,_=[],b=this._type==="gradient",E=le.instance,T=0,S=p.length;T<S;T++){var x=this._components[T];x!=null&&_.push(p[T]+": "+(b?x:E.number(x)))}return this._alpha!=null&&_.push("alpha: "+E.number(this._alpha)),"{ "+_.join(", ")+" }"},toCSS:function(p){var _=this._convert("rgb"),b=p||this._alpha==null?1:this._alpha;function E(T){return Math.round((T<0?0:T>1?1:T)*255)}return _=[E(_[0]),E(_[1]),E(_[2])],b<1&&_.push(b<0?0:b),p?"#"+((1<<24)+(_[0]<<16)+(_[1]<<8)+_[2]).toString(16).slice(1):(_.length==4?"rgba(":"rgb(")+_.join(",")+")"},toCanvasStyle:function(p,_){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var b=this._components,E=b[0],T=E._stops,S=b[1],x=b[2],M=b[3],k=_&&_.inverted(),R;if(k&&(S=k._transformPoint(S),x=k._transformPoint(x),M&&(M=k._transformPoint(M))),E._radial){var C=x.getDistance(S);if(M){var N=M.subtract(S);N.getLength()>C&&(M=S.add(N.normalize(C-.1)))}var w=M||S;R=p.createRadialGradient(w.x,w.y,0,S.x,S.y,C)}else R=p.createLinearGradient(S.x,S.y,x.x,x.y);for(var L=0,B=T.length;L<B;L++){var U=T[L],F=U._offset;R.addColorStop(F==null?L/(B-1):F,U._color.toCanvasStyle())}return this._canvasStyle=R},transform:function(p){if(this._type==="gradient"){for(var _=this._components,b=1,E=_.length;b<E;b++){var T=_[b];p._transformPoint(T,T,!0)}this._changed()}},statics:{_types:e,random:function(){var p=Math.random;return new lt(p(),p(),p())},_setOwner:function(p,_,b){return p&&(p._owner&&_&&p._owner!==_&&(p=p.clone()),!p._owner^!_&&(p._owner=_||null,p._setter=b||null)),p}}})},new function(){var e={add:function(t,r){return t+r},subtract:function(t,r){return t-r},multiply:function(t,r){return t*r},divide:function(t,r){return t/r}};return v.each(e,function(t,r){this[r]=function(u){u=lt.read(arguments);for(var l=this._type,c=this._components,m=u._convert(l),p=0,_=c.length;p<_;p++)m[p]=t(c[p],m[p]);return new lt(l,m,this._alpha!=null?t(this._alpha,u.getAlpha()):null)}},{})}),De=v.extend({_class:"Gradient",initialize:function(t,r){this._id=Z.get(),t&&v.isPlainObject(t)&&(this.set(t),t=r=null),this._stops==null&&this.setStops(t||["white","black"]),this._radial==null&&this.setRadial(typeof r=="string"&&r==="radial"||r||!1)},_serialize:function(e,t){return t.add(this,function(){return v.serialize([this._stops,this._radial],e,!0,t)})},_changed:function(){for(var e=0,t=this._owners&&this._owners.length;e<t;e++)this._owners[e]._changed()},_addOwner:function(e){this._owners||(this._owners=[]),this._owners.push(e)},_removeOwner:function(e){var t=this._owners?this._owners.indexOf(e):-1;t!=-1&&(this._owners.splice(t,1),this._owners.length||(this._owners=a))},clone:function(){for(var e=[],t=0,r=this._stops.length;t<r;t++)e[t]=this._stops[t].clone();return new De(e,this._radial)},getStops:function(){return this._stops},setStops:function(e){if(e.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var t=this._stops;if(t)for(var r=0,u=t.length;r<u;r++)t[r]._owner=a;t=this._stops=Ct.readList(e,0,{clone:!0});for(var r=0,u=t.length;r<u;r++)t[r]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(e){this._radial=e,this._changed()},equals:function(e){if(e===this)return!0;if(e&&this._class===e._class){var t=this._stops,r=e._stops,u=t.length;if(u===r.length){for(var l=0;l<u;l++)if(!t[l].equals(r[l]))return!1;return!0}}return!1}}),Ct=v.extend({_class:"GradientStop",initialize:function(t,r){var u=t,l=r;typeof t=="object"&&r===a&&(Array.isArray(t)&&typeof t[0]!="number"?(u=t[0],l=t[1]):("color"in t||"offset"in t||"rampPoint"in t)&&(u=t.color,l=t.offset||t.rampPoint||0)),this.setColor(u),this.setOffset(l)},clone:function(){return new Ct(this._color.clone(),this._offset)},_serialize:function(e,t){var r=this._color,u=this._offset;return v.serialize(u==null?[r]:[r,u],e,!0,t)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(e){this._offset=e,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){lt._setOwner(this._color,null),this._color=lt._setOwner(lt.read(arguments,0),this,"setColor"),this._changed()},equals:function(e){return e===this||e&&this._class===e._class&&this._color.equals(e._color)&&this._offset==e._offset||!1}}),Dt=v.extend(new function(){var e={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new D,selectedColor:null},t=v.set({},e,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),r=v.set({},t,{fillColor:new lt}),u={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},l={beans:!0},c={_class:"Style",beans:!0,initialize:function(p,_,b){this._values={},this._owner=_,this._project=_&&_._project||b||Ue.project,this._defaults=!_||_ instanceof Pe?t:_ instanceof pt?r:e,p&&this.set(p)}};return v.each(t,function(m,p){var _=/Color$/.test(p),b=p==="shadowOffset",E=v.capitalize(p),T=u[p],S="set"+E,x="get"+E;c[S]=function(M){var k=this._owner,R=k&&k._children,C=R&&R.length>0&&!(k instanceof Ie);if(C)for(var N=0,w=R.length;N<w;N++)R[N]._style[S](M);if((p==="selectedColor"||!C)&&p in this._defaults){var L=this._values[p];L!==M&&(_&&(L&&(lt._setOwner(L,null),L._canvasStyle=null),M&&M.constructor===lt&&(M=lt._setOwner(M,k,C&&S))),this._values[p]=M,k&&k._changed(T||129))}},c[x]=function(M){var k=this._owner,R=k&&k._children,C=R&&R.length>0&&!(k instanceof Ie),N;if(C&&!M)for(var w=0,L=R.length;w<L;w++){var B=R[w]._style[x]();if(!w)N=B;else if(!v.equals(N,B))return a}else if(p in this._defaults){var N=this._values[p];if(N===a)N=this._defaults[p],N&&N.clone&&(N=N.clone());else{var U=_?lt:b?D:null;U&&!(N&&N.constructor===U)&&(this._values[p]=N=U.read([N],0,{readNull:!0,clone:!0}))}}return N&&_&&(N=lt._setOwner(N,k,C&&S)),N},l[x]=function(M){return this._style[x](M)},l[S]=function(M){this._style[S](M)}}),v.each({Font:"FontFamily",WindingRule:"FillRule"},function(m,p){var _="get"+p,b="set"+p;c[_]=l[_]="#get"+m,c[b]=l[b]="#set"+m}),O.inject(l),c},{set:function(e){var t=e instanceof Dt,r=t?e._values:e;if(r){for(var u in r)if(u in this._defaults){var l=r[u];this[u]=l&&t&&l.clone?l.clone():l}}},equals:function(e){function t(r,u,l){var c=r._values,m=u._values,p=u._defaults;for(var _ in c){var b=c[_],E=m[_];if(!(l&&_ in m)&&!v.equals(b,E===a?p[_]:E))return!1}return!0}return e===this||e&&this._class===e._class&&t(this,e)&&t(e,this,!0)||!1},_dispose:function(){var e;e=this.getFillColor(),e&&(e._canvasStyle=null),e=this.getStrokeColor(),e&&(e._canvasStyle=null),e=this.getShadowColor(),e&&(e._canvasStyle=null)},hasFill:function(){var e=this.getFillColor();return!!e&&e.alpha>0},hasStroke:function(){var e=this.getStrokeColor();return!!e&&e.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var e=this.getShadowColor();return!!e&&e.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var e=this.getFontSize();return this.getFontWeight()+" "+e+(/[a-z]/i.test(e+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function e(){var t=e.base.call(this),r=this.getFontSize();return/pt|em|%|px/.test(r)&&(r=this.getView().getPixelSize(r)),t!=null?t:r*1.2}}),dt=new function(){function e(t,r,u,l){for(var c=["","webkit","moz","Moz","ms","o"],m=r[0].toUpperCase()+r.substring(1),p=0;p<6;p++){var _=c[p],b=_?_+m:r;if(b in t){if(u)t[b]=l;else return t[b];break}}}return{getStyles:function(t){var r=t&&t.nodeType!==9?t.ownerDocument:t,u=r&&r.defaultView;return u&&u.getComputedStyle(t,"")},getBounds:function(t,r){var u=t.ownerDocument,l=u.body,c=u.documentElement,m;try{m=t.getBoundingClientRect()}catch(E){m={left:0,top:0,width:0,height:0}}var p=m.left-(c.clientLeft||l.clientLeft||0),_=m.top-(c.clientTop||l.clientTop||0);if(!r){var b=u.defaultView;p+=b.pageXOffset||c.scrollLeft||l.scrollLeft,_+=b.pageYOffset||c.scrollTop||l.scrollTop}return new fe(p,_,m.width,m.height)},getViewportBounds:function(t){var r=t.ownerDocument,u=r.defaultView,l=r.documentElement;return new fe(0,0,u.innerWidth||l.clientWidth,u.innerHeight||l.clientHeight)},getOffset:function(t,r){return dt.getBounds(t,r).getPoint()},getSize:function(t){return dt.getBounds(t,!0).getSize()},isInvisible:function(t){return dt.getSize(t).equals(new K(0,0))},isInView:function(t){return!dt.isInvisible(t)&&dt.getViewportBounds(t).intersects(dt.getBounds(t,!0))},isInserted:function(t){return A.body.contains(t)},getPrefixed:function(t,r){return t&&e(t,r)},setPrefixed:function(t,r,u){if(typeof r=="object")for(var l in r)e(t,l,!0,r[l]);else e(t,r,!0,u)}}},Mt={add:function(e,t){if(e)for(var r in t)for(var u=t[r],l=r.split(/[\s,]+/g),c=0,m=l.length;c<m;c++){var p=l[c],_=e===A&&(p==="touchstart"||p==="touchmove")?{passive:!1}:!1;e.addEventListener(p,u,_)}},remove:function(e,t){if(e)for(var r in t)for(var u=t[r],l=r.split(/[\s,]+/g),c=0,m=l.length;c<m;c++)e.removeEventListener(l[c],u,!1)},getPoint:function(e){var t=e.targetTouches?e.targetTouches.length?e.targetTouches[0]:e.changedTouches[0]:e;return new D(t.pageX||t.clientX+A.documentElement.scrollLeft,t.pageY||t.clientY+A.documentElement.scrollTop)},getTarget:function(e){return e.target||e.srcElement},getRelatedTarget:function(e){return e.relatedTarget||e.toElement},getOffset:function(e,t){return Mt.getPoint(e).subtract(dt.getOffset(t||Mt.getTarget(e)))}};Mt.requestAnimationFrame=new function(){var e=dt.getPrefixed(f,"requestAnimationFrame"),t=!1,r=[],u;function l(){var c=r;r=[];for(var m=0,p=c.length;m<p;m++)c[m]();t=e&&r.length,t&&e(l)}return function(c){r.push(c),e?t||(e(l),t=!0):u||(u=setInterval(l,1e3/60))}};var $t=v.extend(P,{_class:"View",initialize:function e(t,r){function u(T){return r[T]||parseInt(r.getAttribute(T),10)}function l(){var T=dt.getSize(r);return T.isNaN()||T.isZero()?new K(u("width"),u("height")):T}var c;if(f&&r){this._id=r.getAttribute("id"),this._id==null&&r.setAttribute("id",this._id="paper-view-"+e._id++),Mt.add(r,this._viewEvents);var m="none";if(dt.setPrefixed(r.style,{userDrag:m,userSelect:m,touchCallout:m,contentZooming:m,tapHighlightColor:"rgba(0,0,0,0)"}),q.hasAttribute(r,"resize")){var p=this;Mt.add(f,this._windowEvents={resize:function(){p.setViewSize(l())}})}if(c=l(),q.hasAttribute(r,"stats")&&typeof Stats!="undefined"){this._stats=new Stats;var _=this._stats.domElement,b=_.style,E=dt.getOffset(r);b.position="absolute",b.left=E.x+"px",b.top=E.y+"px",A.body.appendChild(_)}}else c=new K(r),r=null;this._project=t,this._scope=t._scope,this._element=r,this._pixelRatio||(this._pixelRatio=f&&f.devicePixelRatio||1),this._setElementSize(c.width,c.height),this._viewSize=c,e._views.push(this),e._viewsById[this._id]=this,(this._matrix=new he)._owner=this,e._focused||(e._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!Ue.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;$t._focused===this&&($t._focused=null),$t._views.splice($t._views.indexOf(this),1),delete $t._viewsById[this._id];var e=this._project;return e._view===this&&(e._view=null),Mt.remove(this._element,this._viewEvents),Mt.remove(f,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:v.each(O._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(e){this[e]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(e){this._autoUpdate=e,e&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var e=this;Mt.requestAnimationFrame(function(){if(e._requested=!1,e._animate){e.requestUpdate();var t=e._element;(!dt.getPrefixed(A,"hidden")||q.getAttribute(t,"keepalive")==="true")&&dt.isInView(t)&&e._handleFrame()}e._autoUpdate&&e.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){Ue=this._scope;var e=Date.now()/1e3,t=this._last?e-this._last:0;this._last=e,this.emit("frame",new v({delta:t,time:this._time+=t,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(e,t){var r=this._frameItems;t?(r[e._id]={item:e,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete r[e._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(e){for(var t in this._frameItems){var r=this._frameItems[t];r.item.emit("frame",new v(e,{time:r.time+=e.delta,count:r.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=a},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var e=this._viewSize;return new ie(e.width,e.height,this,"setViewSize")},setViewSize:function(){var e=K.read(arguments),t=e.subtract(this._viewSize);t.isZero()||(this._setElementSize(e.width,e.height),this._viewSize.set(e),this._changed(),this.emit("resize",{size:e,delta:t}),this._autoUpdate&&this.update())},_setElementSize:function(e,t){var r=this._element;r&&(r.width!==e&&(r.width=e),r.height!==t&&(r.height=t))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new fe(new D,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return dt.isInView(this._element)},isInserted:function(){return dt.isInserted(this._element)},getPixelSize:function(e){var t=this._element,r;if(t){var u=t.parentNode,l=A.createElement("div");l.style.fontSize=e,u.appendChild(l),r=parseFloat(dt.getStyles(l).fontSize),u.removeChild(l)}else r=parseFloat(r);return r},getTextWidth:function(e,t){return 0}},v.each(["rotate","scale","shear","skew"],function(e){var t=e==="rotate";this[e]=function(){var r=arguments,u=(t?v:D).read(r),l=D.read(r,0,{readNull:!0});return this.transform(new he()[e](u,l||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var e=new he;return this.transform(e.translate.apply(e,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var e=D.read(arguments);this.translate(this.getCenter().subtract(e))},getZoom:function(){var e=this._decompose().scaling;return(e.x+e.y)/2},setZoom:function(e){this.transform(new he().scale(e/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(e){var t=this.getRotation();t!=null&&e!=null&&this.rotate(e-t)},getScaling:function(){var e=this._decompose().scaling;return new X(e.x,e.y,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=D.read(arguments,0,{clone:!0,readNull:!0});e&&t&&this.scale(t.x/e.x,t.y/e.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},transform:function(e){this._matrix.append(e)},scrollBy:function(){this.translate(D.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(D.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(D.read(arguments))},getEventPoint:function(e){return this.viewToProject(Mt.getOffset(e,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(e,t){A&&typeof t=="string"&&(t=A.getElementById(t));var r=f?Li:$t;return new r(e,t)}}},new function(){if(!f)return;var e,t,r=!1,u=!1;function l(Y){var se=Mt.getTarget(Y);return se.getAttribute&&$t._viewsById[se.getAttribute("id")]}function c(){var Y=$t._focused;if(!Y||!Y.isVisible()){for(var se=0,ue=$t._views.length;se<ue;se++)if((Y=$t._views[se]).isVisible()){$t._focused=t=Y;break}}}function m(Y,se,ue){Y._handleMouseEvent("mousemove",se,ue)}var p=f.navigator,_,b,E;p.pointerEnabled||p.msPointerEnabled?(_="pointerdown MSPointerDown",b="pointermove MSPointerMove",E="pointerup pointercancel MSPointerUp MSPointerCancel"):(_="touchstart",b="touchmove",E="touchend touchcancel","ontouchstart"in f&&p.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(_+=" mousedown",b+=" mousemove",E+=" mouseup"));var T={},S={mouseout:function(Y){var se=$t._focused,ue=Mt.getRelatedTarget(Y);if(se&&(!ue||ue.nodeName==="HTML")){var de=Mt.getOffset(Y,se._element),pe=de.x,we=Math.abs,Be=we(pe),$e=1<<25,Ze=Be-$e;de.x=we(Ze)<Be?Ze*(pe<0?-1:1):pe,m(se,Y,se.viewToProject(de))}},scroll:c};T[_]=function(Y){var se=$t._focused=l(Y);r||(r=!0,se._handleMouseEvent("mousedown",Y))},S[b]=function(Y){var se=$t._focused;if(!u){var ue=l(Y);ue?se!==ue&&(se&&m(se,Y),e||(e=se),se=$t._focused=t=ue):t&&t===se&&(e&&!e.isInserted()&&(e=null),se=$t._focused=e,e=null,c())}se&&m(se,Y)},S[_]=function(){u=!0},S[E]=function(Y){var se=$t._focused;se&&r&&se._handleMouseEvent("mouseup",Y),u=r=!1},Mt.add(A,S),Mt.add(f,{load:c});var x=!1,M=!1,k={doubleclick:"click",mousedrag:"mousemove"},R=!1,C,N,w,L,B,U,F,W;function j(Y,se,ue,de,pe,we,Be){var $e=!1,Ze;function tt(ke,Ne){if(ke.responds(Ne)){if(Ze||(Ze=new ci(Ne,de,pe,se||ke,we?pe.subtract(we):null)),ke.emit(Ne,Ze)&&(x=!0,Ze.prevented&&(M=!0),Ze.stopped))return $e=!0}else{var Ye=k[Ne];if(Ye)return tt(ke,Ye)}}for(;Y&&Y!==Be&&!tt(Y,ue);)Y=Y._parent;return $e}function J(Y,se,ue,de,pe,we){return Y._project.removeOn(ue),M=x=!1,B&&j(B,null,ue,de,pe,we)||se&&se!==B&&!se.isDescendant(B)&&j(se,null,ue==="mousedrag"?"mousemove":ue,de,pe,we,B)||j(Y,B||se||Y,ue,de,pe,we)}var re={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:T,_handleMouseEvent:function(Y,se,ue){var de=this._itemEvents,pe=de.native[Y],we=Y==="mousemove",Be=this._scope.tool,$e=this;function Ze(_t){return de.virtual[_t]||$e.responds(_t)||Be&&Be.responds(_t)}we&&r&&Ze("mousedrag")&&(Y="mousedrag"),ue||(ue=this.getEventPoint(se));var tt=this.getBounds().contains(ue),ke=pe&&tt&&$e._project.hitTest(ue,{tolerance:0,fill:!0,stroke:!0}),Ne=ke&&ke.item||null,Ye=!1,it={};if(it[Y.substr(5)]=!0,pe&&Ne!==L&&(L&&j(L,null,"mouseleave",se,ue),Ne&&j(Ne,null,"mouseenter",se,ue),L=Ne),R^tt&&(j(this,null,tt?"mouseenter":"mouseleave",se,ue),Ye=!0),(tt||it.drag)&&!ue.equals(N)&&(J(this,Ne,we?Y:"mousemove",se,ue,N),Ye=!0),R=tt,it.down&&tt||it.up&&C){if(J(this,Ne,Y,se,ue,C),it.down){if(W=Ne===U&&Date.now()-F<300,w=U=Ne,!M&&Ne){for(var nt=Ne;nt&&!nt.responds("mousedrag");)nt=nt._parent;nt&&(B=Ne)}C=ue}else it.up&&(!M&&Ne===w&&(F=Date.now(),J(this,Ne,W?"doubleclick":"click",se,ue,C),W=!1),w=B=null);R=!1,Ye=!0}N=ue,Ye&&Be&&(x=Be._handleMouseEvent(Y,se,ue,it)||x),se.cancelable!==!1&&(x&&!it.move||it.down&&Ze("mouseup"))&&se.preventDefault()},_handleKeyEvent:function(Y,se,ue,de){var pe=this._scope,we=pe.tool,Be;function $e(Ze){Ze.responds(Y)&&(Ue=pe,Ze.emit(Y,Be=Be||new St(Y,se,ue,de)))}this.isVisible()&&($e(this),we&&we.responds(Y)&&$e(we))},_countItemEvent:function(Y,se){var ue=this._itemEvents,de=ue.native,pe=ue.virtual;for(var we in re)de[we]=(de[we]||0)+(re[we][Y]||0)*se;pe[Y]=(pe[Y]||0)+se},statics:{updateFocus:c,_resetState:function(){r=u=x=R=!1,e=t=C=N=w=L=B=U=F=W=null}}}}),Li=$t.extend({_class:"CanvasView",initialize:function(t,r){if(!(r instanceof f.HTMLCanvasElement)){var u=K.read(arguments,1);if(u.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+v.slice(arguments,1));r=gt.getCanvas(u)}var l=this._context=r.getContext("2d");if(l.save(),this._pixelRatio=1,!/^off|false$/.test(q.getAttribute(r,"hidpi"))){var c=f.devicePixelRatio||1,m=dt.getPrefixed(l,"backingStorePixelRatio")||1;this._pixelRatio=c/m}$t.call(this,t,r),this._needsUpdate=!0},remove:function e(){return this._context.restore(),e.base.call(this)},_setElementSize:function e(t,r){var u=this._pixelRatio;if(e.base.call(this,t*u,r*u),u!==1){var l=this._element,c=this._context;if(!q.hasAttribute(l,"resize")){var m=l.style;m.width=t+"px",m.height=r+"px"}c.restore(),c.save(),c.scale(u,u)}},getContext:function(){return this._context},getPixelSize:function e(t){var r=Ue.agent,u;if(r&&r.firefox)u=e.base.call(this,t);else{var l=this._context,c=l.font;l.font=t+" serif",u=parseFloat(l.font),l.font=c}return u},getTextWidth:function(e,t){var r=this._context,u=r.font,l=0;r.font=e;for(var c=0,m=t.length;c<m;c++)l=Math.max(l,r.measureText(t[c]).width);return r.font=u,l},update:function(){if(!this._needsUpdate)return!1;var e=this._project,t=this._context,r=this._viewSize;return t.clearRect(0,0,r.width+1,r.height+1),e&&e.draw(t,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),ot=v.extend({_class:"Event",initialize:function(t){this.event=t,this.type=t&&t.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return Kt.modifiers}}),St=ot.extend({_class:"KeyEvent",initialize:function(t,r,u,l){this.type=t,this.event=r,this.key=u,this.character=l},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),Kt=new function(){var e={"	":"tab"," ":"space","\b":"backspace","\x7F":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},t={tab:"	",space:" ",enter:"\r"},r={},u={},l,c,m=new v({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var b=Ue&&Ue.agent;return b&&b.mac?this.meta:this.control}}});function p(b){var E=b.key||b.keyIdentifier;return E=/^U\+/.test(E)?String.fromCharCode(parseInt(E.substr(2),16)):/^Arrow[A-Z]/.test(E)?E.substr(5):E==="Unidentified"||E===a?String.fromCharCode(b.keyCode):E,e[E]||(E.length>1?v.hyphenate(E):E.toLowerCase())}function _(b,E,T,S){var x=$t._focused,M;if(r[E]=b,b?u[E]=T:delete u[E],E.length>1&&(M=v.camelize(E))in m){m[M]=b;var k=Ue&&Ue.agent;if(M==="meta"&&k&&k.mac)if(b)l={};else{for(var R in l)R in u&&_(!1,R,l[R],S);l=null}}else b&&l&&(l[E]=T);x&&x._handleKeyEvent(b?"keydown":"keyup",S,E,T)}return Mt.add(A,{keydown:function(b){var E=p(b),T=Ue&&Ue.agent;E.length>1||T&&T.chrome&&(b.altKey||T.mac&&b.metaKey||!T.mac&&b.ctrlKey)?_(!0,E,t[E]||(E.length>1?"":E),b):c=E},keypress:function(b){if(c){var E=p(b),T=b.charCode,S=T>=32?String.fromCharCode(T):E.length>1?"":E;E!==c&&(E=S.toLowerCase()),_(!0,E,S,b),c=null}},keyup:function(b){var E=p(b);E in u&&_(!1,E,u[E],b)}}),Mt.add(f,{blur:function(b){for(var E in u)_(!1,E,u[E],b)}}),{modifiers:m,isDown:function(b){return!!r[b]}}},ci=ot.extend({_class:"MouseEvent",initialize:function(t,r,u,l,c){this.type=t,this.event=r,this.point=u,this.target=l,this.delta=c},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),wi=ot.extend({_class:"ToolEvent",_item:null,initialize:function(t,r,u){this.tool=t,this.type=r,this.event=u},_choosePoint:function(e,t){return e||(t?t.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(e){this._point=e},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(e){this._lastPoint=e},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(e){this._downPoint=e},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(e){this._middlePoint=e},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(e){this._delta=e},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(e){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=e},getItem:function(){if(!this._item){var e=this.tool._scope.project.hitTest(this.getPoint());if(e){for(var t=e.item,r=t._parent;/^(Group|CompoundPath)$/.test(r._class);)t=r,r=r._parent;this._item=t}}return this._item},setItem:function(e){this._item=e},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),an=ae.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(t){ae.call(this),this._moveCount=-1,this._downCount=-1,this.set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(e){this._minDistance=e,e!=null&&this._maxDistance!=null&&e>this._maxDistance&&(this._maxDistance=e)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(e){this._maxDistance=e,this._minDistance!=null&&e!=null&&e<this._minDistance&&(this._minDistance=e)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(e){this._minDistance=this._maxDistance=e},_handleMouseEvent:function(e,t,r,u){Ue=this._scope,u.drag&&!this.responds(e)&&(e="mousemove");var l=u.move||u.drag,c=this.responds(e),m=this.minDistance,p=this.maxDistance,_=!1,b=this;function E(S,x){var M=r,k=l?b._point:b._downPoint||M;if(l){if(b._moveCount>=0&&M.equals(k))return!1;if(k&&(S!=null||x!=null)){var R=M.subtract(k),C=R.getLength();if(C<(S||0))return!1;x&&(M=k.add(R.normalize(Math.min(C,x))))}b._moveCount++}return b._point=M,b._lastPoint=k||M,u.down&&(b._moveCount=-1,b._downPoint=M,b._downCount++),!0}function T(){c&&(_=b.emit(e,new wi(b,e,t))||_)}if(u.down)E(),T();else if(u.up)E(null,p),T();else if(c)for(;E(m,p);)T();return _}}),mn=v.extend(P,{_class:"Tween",statics:{easings:new v({linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+2*(2-e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}})},initialize:function e(t,r,u,l,c,m){this.object=t;var p=typeof c,_=p==="function";this.type=_?p:p==="string"?c:"linear",this.easing=_?c:e.easings[this.type],this.duration=l,this.running=!1,this._then=null,this._startTime=null;var b=r||u;this._keys=b?Object.keys(b):[],this._parsedKeys=this._parseKeys(this._keys),this._from=b&&this._getState(r),this._to=b&&this._getState(u),m!==!1&&this.start()},then:function(e){return this._then=e,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(e){if(this.running){e>=1&&(e=1,this.running=!1);for(var t=this.easing(e),r=this._keys,u=function(E){return typeof E=="function"?E(t,e):E},l=0,c=r&&r.length;l<c;l++){var m=r[l],p=u(this._from[m]),_=u(this._to[m]),b=p&&_&&p.__add&&_.__add?_.__subtract(p).__multiply(t).__add(p):(_-p)*t+p;this._setProperty(this._parsedKeys[m],b)}this.responds("update")&&this.emit("update",new v({progress:e,factor:t})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(e){var t=this._startTime,r=t?(e-t)/this.duration:0;t||(this._startTime=e),this.update(r)},_getState:function(e){for(var t=this._keys,r={},u=0,l=t.length;u<l;u++){var c=t[u],m=this._parsedKeys[c],p=this._getProperty(m),_;if(e){var b=this._resolveValue(p,e[c]);this._setProperty(m,b),_=this._getProperty(m),_=_&&_.clone?_.clone():_,this._setProperty(m,p)}else _=p&&p.clone?p.clone():p;r[c]=_}return r},_resolveValue:function(e,t){if(t){if(Array.isArray(t)&&t.length===2){var r=t[0];return r&&r.match&&r.match(/^[+\-\*\/]=/)?this._calculate(e,r[0],t[1]):t}else if(typeof t=="string"){var u=t.match(/^[+\-*/]=(.*)/);if(u){var l=JSON.parse(u[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(e,t[0],l)}}}return t},_calculate:function(e,t,r){return Ue.PaperScript.calculateBinary(e,t,r)},_parseKeys:function(e){for(var t={},r=0,u=e.length;r<u;r++){var l=e[r],c=l.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");t[l]=c.split("/")}return t},_getProperty:function(e,t){for(var r=this.object,u=0,l=e.length-(t||0);u<l&&r;u++)r=r[e[u]];return r},_setProperty:function(e,t){var r=this._getProperty(e,1);r&&(r[e[e.length-1]]=t)}}),li={request:function(e){var t=new d.XMLHttpRequest;return t.open((e.method||"get").toUpperCase(),e.url,v.pick(e.async,!0)),e.mimeType&&t.overrideMimeType(e.mimeType),t.onload=function(){var r=t.status;r===0||r===200?e.onLoad&&e.onLoad.call(t,t.responseText):t.onerror()},t.onerror=function(){var r=t.status,u='Could not load "'+e.url+'" (Status: '+r+")";if(e.onError)e.onError(u,r);else throw new Error(u)},t.send(null)}},gt=v.exports.CanvasProvider={canvases:[],getCanvas:function(e,t,r){if(!f)return null;var u,l=!0;typeof e=="object"&&(t=e.height,e=e.width),this.canvases.length?u=this.canvases.pop():(u=A.createElement("canvas"),l=!1);var c=u.getContext("2d",r||{});if(!c)throw new Error("Canvas "+u+" is unable to provide a 2D context.");return u.width===e&&u.height===t?l&&c.clearRect(0,0,e+1,t+1):(u.width=e,u.height=t),c.save(),u},getContext:function(e,t,r){var u=this.getCanvas(e,t,r);return u?u.getContext("2d",r||{}):null},release:function(e){var t=e&&e.canvas?e.canvas:e;t&&t.getContext&&(t.getContext("2d").restore(),this.canvases.push(t))}},Ni=new function(){var e=Math.min,t=Math.max,r=Math.abs,u,l,c,m,p,_,b,E,T,S,x;function M(B,U,F){return .2989*B+.587*U+.114*F}function k(B,U,F,J){var j=J-M(B,U,F);T=B+j,S=U+j,x=F+j;var J=M(T,S,x),re=e(T,S,x),Y=t(T,S,x);if(re<0){var se=J-re;T=J+(T-J)*J/se,S=J+(S-J)*J/se,x=J+(x-J)*J/se}if(Y>255){var ue=255-J,de=Y-J;T=J+(T-J)*ue/de,S=J+(S-J)*ue/de,x=J+(x-J)*ue/de}}function R(B,U,F){return t(B,U,F)-e(B,U,F)}function C(B,U,F,W){var j=[B,U,F],J=t(B,U,F),re=e(B,U,F),Y;re=re===B?0:re===U?1:2,J=J===B?0:J===U?1:2,Y=e(re,J)===0?t(re,J)===1?2:1:0,j[J]>j[re]?(j[Y]=(j[Y]-j[re])*W/(j[J]-j[re]),j[J]=W):j[Y]=j[J]=0,j[re]=0,T=j[0],S=j[1],x=j[2]}var N={multiply:function(){T=p*u/255,S=_*l/255,x=b*c/255},screen:function(){T=p+u-p*u/255,S=_+l-_*l/255,x=b+c-b*c/255},overlay:function(){T=p<128?2*p*u/255:255-2*(255-p)*(255-u)/255,S=_<128?2*_*l/255:255-2*(255-_)*(255-l)/255,x=b<128?2*b*c/255:255-2*(255-b)*(255-c)/255},"soft-light":function(){var B=u*p/255;T=B+p*(255-(255-p)*(255-u)/255-B)/255,B=l*_/255,S=B+_*(255-(255-_)*(255-l)/255-B)/255,B=c*b/255,x=B+b*(255-(255-b)*(255-c)/255-B)/255},"hard-light":function(){T=u<128?2*u*p/255:255-2*(255-u)*(255-p)/255,S=l<128?2*l*_/255:255-2*(255-l)*(255-_)/255,x=c<128?2*c*b/255:255-2*(255-c)*(255-b)/255},"color-dodge":function(){T=p===0?0:u===255?255:e(255,255*p/(255-u)),S=_===0?0:l===255?255:e(255,255*_/(255-l)),x=b===0?0:c===255?255:e(255,255*b/(255-c))},"color-burn":function(){T=p===255?255:u===0?0:t(0,255-(255-p)*255/u),S=_===255?255:l===0?0:t(0,255-(255-_)*255/l),x=b===255?255:c===0?0:t(0,255-(255-b)*255/c)},darken:function(){T=p<u?p:u,S=_<l?_:l,x=b<c?b:c},lighten:function(){T=p>u?p:u,S=_>l?_:l,x=b>c?b:c},difference:function(){T=p-u,T<0&&(T=-T),S=_-l,S<0&&(S=-S),x=b-c,x<0&&(x=-x)},exclusion:function(){T=p+u*(255-p-p)/255,S=_+l*(255-_-_)/255,x=b+c*(255-b-b)/255},hue:function(){C(u,l,c,R(p,_,b)),k(T,S,x,M(p,_,b))},saturation:function(){C(p,_,b,R(u,l,c)),k(T,S,x,M(p,_,b))},luminosity:function(){k(p,_,b,M(u,l,c))},color:function(){k(u,l,c,M(p,_,b))},add:function(){T=e(p+u,255),S=e(_+l,255),x=e(b+c,255)},subtract:function(){T=t(p-u,0),S=t(_-l,0),x=t(b-c,0)},average:function(){T=(p+u)/2,S=(_+l)/2,x=(b+c)/2},negation:function(){T=255-r(255-u-p),S=255-r(255-l-_),x=255-r(255-c-b)}},w=this.nativeModes=v.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(B){this[B]=!0},{}),L=gt.getContext(1,1,{willReadFrequently:!0});L&&(v.each(N,function(B,U){var F=U==="darken",W=!1;L.save();try{L.fillStyle=F?"#300":"#a00",L.fillRect(0,0,1,1),L.globalCompositeOperation=U,L.globalCompositeOperation===U&&(L.fillStyle=F?"#a00":"#300",L.fillRect(0,0,1,1),W=L.getImageData(0,0,1,1).data[0]!==F?170:51)}catch(j){}L.restore(),w[U]=W}),gt.release(L)),this.process=function(B,U,F,W,j){var J=U.canvas,re=B==="normal";if(re||w[B])F.save(),F.setTransform(1,0,0,1,0,0),F.globalAlpha=W,re||(F.globalCompositeOperation=B),F.drawImage(J,j.x,j.y),F.restore();else{var Y=N[B];if(!Y)return;for(var se=F.getImageData(j.x,j.y,J.width,J.height),ue=se.data,de=U.getImageData(0,0,J.width,J.height).data,pe=0,we=ue.length;pe<we;pe+=4){u=de[pe],p=ue[pe],l=de[pe+1],_=ue[pe+1],c=de[pe+2],b=ue[pe+2],m=de[pe+3],E=ue[pe+3],Y();var Be=m*W/255,$e=1-Be;ue[pe]=Be*T+$e*p,ue[pe+1]=Be*S+$e*_,ue[pe+2]=Be*x+$e*b,ue[pe+3]=m*W+$e*E}F.putImageData(se,j.x,j.y)}}},ft=new function(){var e="http://www.w3.org/2000/svg",t="http://www.w3.org/2000/xmlns",r="http://www.w3.org/1999/xlink",u={href:r,xlink:t,xmlns:t+"/","xmlns:xlink":t+"/"};function l(p,_,b){return m(A.createElementNS(e,p),_,b)}function c(p,_){var b=u[_],E=b?p.getAttributeNS(b,_):p.getAttribute(_);return E==="null"?null:E}function m(p,_,b){for(var E in _){var T=_[E],S=u[E];typeof T=="number"&&b&&(T=b.number(T)),S?p.setAttributeNS(S,E,T):p.setAttribute(E,T)}return p}return{svg:e,xmlns:t,xlink:r,create:l,get:c,set:m}},Ht=v.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(e,t){return!t&&(e instanceof Me||e instanceof Xe||e instanceof pt)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(e,t){var r=v.capitalize(t),u=e[2];this[t]={type:e[1],property:t,attribute:e[0],toSVG:u,fromSVG:u&&v.each(u,function(l,c){this[l]=c},{}),exportFilter:e[3],get:"get"+r,set:"set"+r}},{});new function(){var e;function t(N,w,L){var B=new v,U=N.getTranslation();if(w){var F;N.isInvertible()?(N=N._shiftless(),F=N._inverseTransform(U),U=null):F=new D,B[L?"cx":"x"]=F.x,B[L?"cy":"y"]=F.y}if(!N.isIdentity()){var W=N.decompose();if(W){var j=[],J=W.rotation,re=W.scaling,Y=W.skewing;U&&!U.isZero()&&j.push("translate("+e.point(U)+")"),J&&j.push("rotate("+e.number(J)+")"),(!ge.isZero(re.x-1)||!ge.isZero(re.y-1))&&j.push("scale("+e.point(re)+")"),Y.x&&j.push("skewX("+e.number(Y.x)+")"),Y.y&&j.push("skewY("+e.number(Y.y)+")"),B.transform=j.join(" ")}else B.transform="matrix("+N.getValues().join(",")+")"}return B}function r(N,w){for(var L=t(N._matrix),B=N._children,U=ft.create("g",L,e),F=0,W=B.length;F<W;F++){var j=B[F],J=R(j,w);if(J)if(j.isClipMask()){var re=ft.create("clipPath");re.appendChild(J),M(j,re,"clip"),ft.set(U,{"clip-path":"url(#"+re.id+")"})}else U.appendChild(J)}return U}function u(N,w){var L=t(N._matrix,!0),B=N.getSize(),U=N.getImage();return L.x-=B.width/2,L.y-=B.height/2,L.width=B.width,L.height=B.height,L.href=w.embedImages==!1&&U&&U.src||N.toDataURL(),ft.create("image",L,e)}function l(N,w){var L=w.matchShapes;if(L){var B=N.toShape(!1);if(B)return c(B)}var U=N._segments,F=U.length,W,j=t(N._matrix);if(L&&F>=2&&!N.hasHandles())if(F>2){W=N._closed?"polygon":"polyline";for(var J=[],re=0;re<F;re++)J.push(e.point(U[re]._point));j.points=J.join(" ")}else{W="line";var Y=U[0]._point,se=U[1]._point;j.set({x1:Y.x,y1:Y.y,x2:se.x,y2:se.y})}else W="path",j.d=N.getPathData(null,w.precision);return ft.create(W,j,e)}function c(N){var w=N._type,L=N._radius,B=t(N._matrix,!0,w!=="rectangle");if(w==="rectangle"){w="rect";var U=N._size,F=U.width,W=U.height;B.x-=F/2,B.y-=W/2,B.width=F,B.height=W,L.isZero()&&(L=null)}return L&&(w==="circle"?B.r=L:(B.rx=L.width,B.ry=L.height)),ft.create(w,B,e)}function m(N,w){var L=t(N._matrix),B=N.getPathData(null,w.precision);return B&&(L.d=B),ft.create("path",L,e)}function p(N,w){var L=t(N._matrix,!0),B=N._definition,U=x(B,"symbol"),F=B._item,W=F.getStrokeBounds();return U||(U=ft.create("symbol",{viewBox:e.rectangle(W)}),U.appendChild(R(F,w)),M(B,U,"symbol")),L.href="#"+U.id,L.x+=W.x,L.y+=W.y,L.width=W.width,L.height=W.height,L.overflow="visible",ft.create("use",L,e)}function _(N){var w=x(N,"color");if(!w){var L=N.getGradient(),B=L._radial,U=N.getOrigin(),F=N.getDestination(),W;if(B){W={cx:U.x,cy:U.y,r:U.getDistance(F)};var j=N.getHighlight();j&&(W.fx=j.x,W.fy=j.y)}else W={x1:U.x,y1:U.y,x2:F.x,y2:F.y};W.gradientUnits="userSpaceOnUse",w=ft.create((B?"radial":"linear")+"Gradient",W,e);for(var J=L._stops,re=0,Y=J.length;re<Y;re++){var se=J[re],ue=se._color,de=ue.getAlpha(),pe=se._offset;W={offset:pe==null?re/(Y-1):pe},ue&&(W["stop-color"]=ue.toCSS(!0)),de<1&&(W["stop-opacity"]=de),w.appendChild(ft.create("stop",W,e))}M(N,w,"color")}return"url(#"+w.id+")"}function b(N){var w=ft.create("text",t(N._matrix,!0),e);return w.textContent=N._content,w}var E={Group:r,Layer:r,Raster:u,Path:l,Shape:c,CompoundPath:m,SymbolItem:p,PointText:b};function T(N,w,L){var B={},U=!L&&N.getParent(),F=[];return N._name!=null&&(B.id=N._name),v.each(Ht,function(W){var j=W.get,J=W.type,re=N[j]();if(W.exportFilter?W.exportFilter(N,re):!U||!v.equals(U[j](),re)){if(J==="color"&&re!=null){var Y=re.getAlpha();Y<1&&(B[W.attribute+"-opacity"]=Y)}J==="style"?F.push(W.attribute+": "+re):B[W.attribute]=re==null?"none":J==="color"?re.gradient?_(re):re.toCSS(!0):J==="array"?re.join(","):J==="lookup"?W.toSVG[re]:re}}),F.length&&(B.style=F.join(";")),B.opacity===1&&delete B.opacity,N._visible||(B.visibility="hidden"),ft.set(w,B,e)}var S;function x(N,w){return S||(S={ids:{},svgs:{}}),N&&S.svgs[w+"-"+(N._id||N.__id||(N.__id=Z.get("svg")))]}function M(N,w,L){S||x();var B=S.ids[L]=(S.ids[L]||0)+1;w.id=L+"-"+B,S.svgs[L+"-"+(N._id||N.__id)]=w}function k(N,w){var L=N,B=null;if(S){L=N.nodeName.toLowerCase()==="svg"&&N;for(var U in S.svgs)B||(L||(L=ft.create("svg"),L.appendChild(N)),B=L.insertBefore(ft.create("defs"),L.firstChild)),B.appendChild(S.svgs[U]);S=null}return w.asString?new d.XMLSerializer().serializeToString(L):L}function R(N,w,L){var B=E[N._class],U=B&&B(N,w);if(U){var F=w.onExport;F&&(U=F(N,U,w)||U);var W=JSON.stringify(N._data);W&&W!=="{}"&&W!=="null"&&U.setAttribute("data-paper-data",W)}return U&&T(N,U,L)}function C(N){return N||(N={}),e=new le(N.precision),N}O.inject({exportSVG:function(N){return N=C(N),k(R(this,N,!0),N)}}),Ee.inject({exportSVG:function(N){N=C(N);var w=this._children,L=this.getView(),B=v.pick(N.bounds,"view"),U=N.matrix||B==="view"&&L._matrix,F=U&&he.read([U]),W=B==="view"?new fe([0,0],L.getViewSize()):B==="content"?O._getBounds(w,F,{stroke:!0}).rect:fe.read([B],0,{readNull:!0}),j={version:"1.1",xmlns:ft.svg,"xmlns:xlink":ft.xlink};W&&(j.width=W.width,j.height=W.height,(W.x||W.x===0||W.y||W.y===0)&&(j.viewBox=e.rectangle(W)));var J=ft.create("svg",j,e),re=J;F&&!F.isIdentity()&&(re=J.appendChild(ft.create("g",t(F),e)));for(var Y=0,se=w.length;Y<se;Y++)re.appendChild(R(w[Y],N,!0));return k(J,N)}})},new function(){var e={},t;function r(w,L,B,U,F,W){var j=ft.get(w,L)||W,J=j==null?U?null:B?"":0:B?j:parseFloat(j);return/%\s*$/.test(j)?J/100*(F?1:t[/x|^width/.test(L)?"width":"height"]):J}function u(w,L,B,U,F,W,j){return L=r(w,L||"x",!1,U,F,W),B=r(w,B||"y",!1,U,F,j),U&&(L==null||B==null)?null:new D(L,B)}function l(w,L,B,U,F){return L=r(w,L||"width",!1,U,F),B=r(w,B||"height",!1,U,F),U&&(L==null||B==null)?null:new K(L,B)}function c(w,L,B){return w==="none"?null:L==="number"?parseFloat(w):L==="array"?w?w.split(/[\s,]+/g).map(parseFloat):[]:L==="color"?R(w)||w:L==="lookup"?B[w]:w}function m(w,L,B,U){var F=w.childNodes,W=L==="clippath",j=L==="defs",J=new Pe,re=J._project,Y=re._currentStyle,se=[];if(!W&&!j&&(J=k(J,w,U),re._currentStyle=J._style.clone()),U)for(var ue=w.querySelectorAll("defs"),de=0,pe=ue.length;de<pe;de++)C(ue[de],B,!1);for(var de=0,pe=F.length;de<pe;de++){var we=F[de],Be;we.nodeType===1&&!/^defs$/i.test(we.nodeName)&&(Be=C(we,B,!1))&&!(Be instanceof Ge)&&se.push(Be)}return J.addChildren(se),W&&(J=k(J.reduce(),w,U)),re._currentStyle=Y,(W||j)&&(J.remove(),J=null),J}function p(w,L){for(var B=w.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),U=[],F=0,W=B.length;F<W;F+=2)U.push(new D(parseFloat(B[F]),parseFloat(B[F+1])));var j=new xe(U);return L==="polygon"&&j.closePath(),j}function _(w){return Me.create(w.getAttribute("d"))}function b(w,L){var B=(r(w,"href",!0)||"").substring(1),U=L==="radialgradient",F;if(B)F=e[B].getGradient(),F._radial^U&&(F=F.clone(),F._radial=U);else{for(var W=w.childNodes,j=[],J=0,re=W.length;J<re;J++){var Y=W[J];Y.nodeType===1&&j.push(k(new Ct,Y))}F=new De(j,U)}var se,ue,de,pe=r(w,"gradientUnits",!0)!=="userSpaceOnUse";U?(se=u(w,"cx","cy",!1,pe,"50%","50%"),ue=se.add(r(w,"r",!1,!1,pe,"50%"),0),de=u(w,"fx","fy",!0,pe)):(se=u(w,"x1","y1",!1,pe,"0%","0%"),ue=u(w,"x2","y2",!1,pe,"100%","0%"));var we=k(new lt(F,se,ue,de),w);return we._scaleToBounds=pe,null}var E={"#document":function(w,L,B,U){for(var F=w.childNodes,W=0,j=F.length;W<j;W++){var J=F[W];if(J.nodeType===1)return C(J,B,U)}},g:m,svg:m,clippath:m,polygon:p,polyline:p,path:_,lineargradient:b,radialgradient:b,image:function(w){var L=new ht(r(w,"href",!0));return L.on("load",function(){var B=l(w);this.setSize(B);var U=u(w).add(B.divide(2));this._matrix.append(new he().translate(U))}),L},symbol:function(w,L,B,U){return new Ge(m(w,L,B,U),!0)},defs:m,use:function(w){var L=(r(w,"href",!0)||"").substring(1),B=e[L],U=u(w);return B?B instanceof Ge?B.place(U):B.clone().translate(U):null},circle:function(w){return new Xe.Circle(u(w,"cx","cy"),r(w,"r"))},ellipse:function(w){return new Xe.Ellipse({center:u(w,"cx","cy"),radius:l(w,"rx","ry")})},rect:function(w){return new Xe.Rectangle(new fe(u(w),l(w)),l(w,"rx","ry"))},line:function(w){return new xe.Line(u(w,"x1","y1"),u(w,"x2","y2"))},text:function(w){var L=new Nt(u(w).add(u(w,"dx","dy")));return L.setContent(w.textContent.trim()||""),L},switch:m};function T(w,L,B,U){if(w.transform){for(var F=(U.getAttribute(B)||"").split(/\)\s*/g),W=new he,j=0,J=F.length;j<J;j++){var re=F[j];if(!re)break;for(var Y=re.split(/\(\s*/),se=Y[0],ue=Y[1].split(/[\s,]+/g),de=0,pe=ue.length;de<pe;de++)ue[de]=parseFloat(ue[de]);switch(se){case"matrix":W.append(new he(ue[0],ue[1],ue[2],ue[3],ue[4],ue[5]));break;case"rotate":W.rotate(ue[0],ue[1]||0,ue[2]||0);break;case"translate":W.translate(ue[0],ue[1]||0);break;case"scale":W.scale(ue);break;case"skewX":W.skew(ue[0],0);break;case"skewY":W.skew(0,ue[0]);break}}w.transform(W)}}function S(w,L,B){var U=B==="fill-opacity"?"getFillColor":"getStrokeColor",F=w[U]&&w[U]();F&&F.setAlpha(parseFloat(L))}var x=v.set(v.each(Ht,function(w){this[w.attribute]=function(L,B){if(L[w.set]&&(L[w.set](c(B,w.type,w.fromSVG)),w.type==="color")){var U=L[w.get]();if(U&&U._scaleToBounds){var F=L.getBounds();U.transform(new he().translate(F.getPoint()).scale(F.getSize()))}}}},{}),{id:function(w,L){e[L]=w,w.setName&&w.setName(L)},"clip-path":function(w,L){var B=R(L);if(B)if(B=B.clone(),B.setClipMask(!0),w instanceof Pe)w.insertChild(0,B);else return new Pe(B,w)},gradientTransform:T,transform:T,"fill-opacity":S,"stroke-opacity":S,visibility:function(w,L){w.setVisible&&w.setVisible(L==="visible")},display:function(w,L){w.setVisible&&w.setVisible(L!==null)},"stop-color":function(w,L){w.setColor&&w.setColor(L)},"stop-opacity":function(w,L){w._color&&w._color.setAlpha(parseFloat(L))},offset:function(w,L){if(w.setOffset){var B=L.match(/(.*)%$/);w.setOffset(B?B[1]/100:parseFloat(L))}},viewBox:function(w,L,B,U,F){var W=new fe(c(L,"array")),j=l(U,null,null,!0),J,re;if(w instanceof Pe){var Y=j?j.divide(W.getSize()):1,re=new he().scale(Y).translate(W.getPoint().negate());J=w}else w instanceof Ge&&(j&&W.setSize(j),J=w._item);if(J){if(M(U,"overflow",F)!=="visible"){var se=new Xe.Rectangle(W);se.setClipMask(!0),J.addChild(se)}re&&J.transform(re)}}});function M(w,L,B){var U=w.attributes[L],F=U&&U.value;if(!F&&w.style){var W=v.camelize(L);F=w.style[W],!F&&B.node[W]!==B.parent[W]&&(F=B.node[W])}return F?F==="none"?null:F:a}function k(w,L,B){var U=L.parentNode,F={node:dt.getStyles(L)||{},parent:!B&&!/^defs$/i.test(U.tagName)&&dt.getStyles(U)||{}};return v.each(x,function(W,j){var J=M(L,j,F);w=J!==a&&W(w,J,j,L,F)||w}),w}function R(w){var L=w&&w.match(/\((?:["'#]*)([^"')]+)/),B=L&&L[1],U=B&&e[f?B.replace(f.location.href.split("#")[0]+"#",""):B];return U&&U._scaleToBounds&&(U=U.clone(),U._scaleToBounds=!0),U}function C(w,L,B){var U=w.nodeName.toLowerCase(),F=U!=="#document",W=A.body,j,J,re;B&&F&&(t=Ue.getView().getSize(),t=l(w,null,null,!0)||t,j=ft.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),J=w.parentNode,re=w.nextSibling,j.appendChild(w),W.appendChild(j));var Y=Ue.settings,se=Y.applyMatrix,ue=Y.insertItems;Y.applyMatrix=!1,Y.insertItems=!1;var de=E[U],pe=de&&de(w,U,L,B)||null;if(Y.insertItems=ue,Y.applyMatrix=se,pe){F&&!(pe instanceof Pe)&&(pe=k(pe,w,B));var we=L.onImport,Be=F&&w.getAttribute("data-paper-data");we&&(pe=we(w,pe,L)||pe),L.expandShapes&&pe instanceof Xe&&(pe.remove(),pe=pe.toPath()),Be&&(pe._data=JSON.parse(Be))}return j&&(W.removeChild(j),J&&(re?J.insertBefore(w,re):J.appendChild(w))),B&&(e={},pe&&v.pick(L.applyMatrix,se)&&pe.matrix.apply(!0,!0)),pe}function N(w,L,B){if(!w)return null;L=typeof L=="function"?{onLoad:L}:L||{};var U=Ue,F=null;function W(Y){try{var se=typeof Y=="object"?Y:new d.DOMParser().parseFromString(Y.trim(),"image/svg+xml");if(!se.nodeName)throw se=null,new Error("Unsupported SVG source: "+w);Ue=U,F=C(se,L,!0),(!L||L.insert!==!1)&&B._insertItem(a,F);var ue=L.onLoad;ue&&ue(F,Y)}catch(de){j(de)}}function j(Y,se){var ue=L.onError;if(ue)ue(Y,se);else throw new Error(Y)}if(typeof w=="string"&&!/^[\s\S]*</.test(w)){var J=A.getElementById(w);J?W(J):li.request({url:w,async:!0,onLoad:W,onError:j})}else if(typeof File!="undefined"&&w instanceof File){var re=new FileReader;return re.onload=function(){W(re.result)},re.onerror=function(){j(re.error)},re.readAsText(w)}else W(w);return F}O.inject({importSVG:function(w,L){return N(w,L,this)}}),Ee.inject({importSVG:function(w,L){return this.activate(),N(w,L,this)}})},v.exports.PaperScript=function(){var e=this,t=e.acorn;if(!t&&typeof Xb!="undefined")try{t=ey()}catch(k){}if(!t){var r,u;t=r=u={},function(k,R){if(typeof r=="object"&&typeof u=="object")return R(r);if(typeof a=="function"&&a.amd)return a(["exports"],R);R(k.acorn||(k.acorn={}))}(this,function(k){k.version="0.5.0";var R,C,N,w;k.parse=function($,te){return C=String($),N=C.length,B(te),sa(),Au(R.program)};var L=k.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function B($){R=$||{};for(var te in L)Object.prototype.hasOwnProperty.call(R,te)||(R[te]=L[te]);w=R.sourceFile||null}var U=k.getLineInfo=function($,te){for(var be=1,Te=0;;){sr.lastIndex=Te;var et=sr.exec($);if(et&&et.index<te)++be,Te=et.index+et[0].length;else break}return{line:be,column:te-Te}};k.tokenize=function($,te){C=String($),N=C.length,B(te),sa();var be={};function Te(et){return Be=j,ar(et),be.start=W,be.end=j,be.startLoc=J,be.endLoc=re,be.type=Y,be.value=se,be}return Te.jumpTo=function(et,Tt){if(F=et,R.locations){de=1,pe=sr.lastIndex=0;for(var Bt;(Bt=sr.exec(C))&&Bt.index<et;)++de,pe=Bt.index+Bt[0].length}ue=Tt,Pr()},Te};var F,W,j,J,re,Y,se,ue,de,pe,we,Be,$e,Ze,tt,ke;function Ne($,te){var be=U(C,$);te+=" ("+be.line+":"+be.column+")";var Te=new SyntaxError(te);throw Te.pos=$,Te.loc=be,Te.raisedAt=F,Te}var Ye=[],it={type:"num"},nt={type:"regexp"},_t={type:"string"},ze={type:"name"},mt={type:"eof"},Rt={keyword:"break"},kt={keyword:"case",beforeExpr:!0},_i={keyword:"catch"},gi={keyword:"continue"},xi={keyword:"debugger"},fi={keyword:"default"},Qt={keyword:"do",isLoop:!0},mi={keyword:"else",beforeExpr:!0},Ai={keyword:"finally"},vi={keyword:"for",isLoop:!0},Ui={keyword:"function"},on={keyword:"if"},Mi={keyword:"return",beforeExpr:!0},Et={keyword:"switch"},qi={keyword:"throw",beforeExpr:!0},Ri={keyword:"try"},Yi={keyword:"var"},$i={keyword:"while",isLoop:!0},Ir={keyword:"with"},Yr={keyword:"new",beforeExpr:!0},jr={keyword:"this"},s={keyword:"null",atomValue:null},g={keyword:"true",atomValue:!0},I={keyword:"false",atomValue:!1},V={keyword:"in",binop:7,beforeExpr:!0},ee={break:Rt,case:kt,catch:_i,continue:gi,debugger:xi,default:fi,do:Qt,else:mi,finally:Ai,for:vi,function:Ui,if:on,return:Mi,switch:Et,throw:qi,try:Ri,var:Yi,while:$i,with:Ir,null:s,true:g,false:I,new:Yr,in:V,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:jr,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},ye={type:"[",beforeExpr:!0},Se={type:"]"},He={type:"{",beforeExpr:!0},je={type:"}"},bt={type:"(",beforeExpr:!0},At={type:")"},ri={type:",",beforeExpr:!0},Ti={type:";",beforeExpr:!0},un={type:":",beforeExpr:!0},Cn={type:"."},qn={type:"?",beforeExpr:!0},vn={binop:10,beforeExpr:!0},Sn={isAssign:!0,beforeExpr:!0},rr={isAssign:!0,beforeExpr:!0},pu={postfix:!0,prefix:!0,isUpdate:!0},Ja={prefix:!0,beforeExpr:!0},xs={binop:1,beforeExpr:!0},eo={binop:2,beforeExpr:!0},gu={binop:3,beforeExpr:!0},mu={binop:4,beforeExpr:!0},vu={binop:5,beforeExpr:!0},_u={binop:6,beforeExpr:!0},hi={binop:7,beforeExpr:!0},oi={binop:8,beforeExpr:!0},bu={binop:9,prefix:!0,beforeExpr:!0},yu={binop:10,beforeExpr:!0};k.tokTypes={bracketL:ye,bracketR:Se,braceL:He,braceR:je,parenL:bt,parenR:At,comma:ri,semi:Ti,colon:un,dot:Cn,question:qn,slash:vn,eq:Sn,name:ze,eof:mt,num:it,regexp:nt,string:_t};for(var to in ee)k.tokTypes["_"+to]=ee[to];function Xr($){$=$.split(" ");var te="",be=[];e:for(var Te=0;Te<$.length;++Te){for(var et=0;et<be.length;++et)if(be[et][0].length==$[Te].length){be[et].push($[Te]);continue e}be.push([$[Te]])}function Tt(zt){if(zt.length==1)return te+="return str === "+JSON.stringify(zt[0])+";";te+="switch(str){";for(var Xi=0;Xi<zt.length;++Xi)te+="case "+JSON.stringify(zt[Xi])+":";te+="return true}return false;"}if(be.length>3){be.sort(function(zt,Xi){return Xi.length-zt.length}),te+="switch(str.length){";for(var Te=0;Te<be.length;++Te){var Bt=be[Te];te+="case "+Bt[0].length+":",Tt(Bt)}te+="}"}else Tt($);return new Function("str",te)}var wu=Xr("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),xu=Xr("class enum extends super const export import"),ia=Xr("implements interface let package private protected public static yield"),Cs=Xr("eval arguments"),Bi=Xr("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),na=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Hn="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",io="\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u0620-\u0649\u0672-\u06D3\u06E7-\u06E8\u06FB-\u06FC\u0730-\u074A\u0800-\u0814\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0840-\u0857\u08E4-\u08FE\u0900-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09D7\u09DF-\u09E0\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5F-\u0B60\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C01-\u0C03\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62-\u0C63\u0C66-\u0C6F\u0C82\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2-\u0CE3\u0CE6-\u0CEF\u0D02\u0D03\u0D46-\u0D48\u0D57\u0D62-\u0D63\u0D66-\u0D6F\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E34-\u0E3A\u0E40-\u0E45\u0E50-\u0E59\u0EB4-\u0EB9\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F41-\u0F47\u0F71-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1029\u1040-\u1049\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u170E-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17B2\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1920-\u192B\u1930-\u193B\u1951-\u196D\u19B0-\u19C0\u19C8-\u19C9\u19D0-\u19D9\u1A00-\u1A15\u1A20-\u1A53\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1B46-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C00-\u1C22\u1C40-\u1C49\u1C5B-\u1C7D\u1CD0-\u1CD2\u1D00-\u1DBE\u1E01-\u1F15\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2D81-\u2D96\u2DE0-\u2DFF\u3021-\u3028\u3099\u309A\uA640-\uA66D\uA674-\uA67D\uA69F\uA6F0-\uA6F1\uA7F8-\uA800\uA806\uA80B\uA823-\uA827\uA880-\uA881\uA8B4-\uA8C4\uA8D0-\uA8D9\uA8F3-\uA8F7\uA900-\uA909\uA926-\uA92D\uA930-\uA945\uA980-\uA983\uA9B3-\uA9C0\uAA00-\uAA27\uAA40-\uAA41\uAA4C-\uAA4D\uAA50-\uAA59\uAA7B\uAAE0-\uAAE9\uAAF2-\uAAF3\uABC0-\uABE1\uABEC\uABED\uABF0-\uABF9\uFB20-\uFB28\uFE00-\uFE0F\uFE20-\uFE26\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",Ss=new RegExp("["+Hn+"]"),ln=new RegExp("["+Hn+io+"]"),Qr=/[\n\r\u2028\u2029]/,sr=/\r\n|[\n\r\u2028\u2029]/g,Jr=k.isIdentifierStart=function($){return $<65?$===36:$<91?!0:$<97?$===95:$<123?!0:$>=170&&Ss.test(String.fromCharCode($))},ra=k.isIdentifierChar=function($){return $<48?$===36:$<58?!0:$<65?!1:$<91?!0:$<97?$===95:$<123?!0:$>=170&&ln.test(String.fromCharCode($))};function Wn(){this.line=de,this.column=F-pe}function sa(){de=1,F=pe=0,ue=!0,Pr()}function ti($,te){j=F,R.locations&&(re=new Wn),Y=$,Pr(),se=te,ue=$.beforeExpr}function Cu(){var $=R.onComment&&R.locations&&new Wn,te=F,be=C.indexOf("*/",F+=2);if(be===-1&&Ne(F-2,"Unterminated comment"),F=be+2,R.locations){sr.lastIndex=te;for(var Te;(Te=sr.exec(C))&&Te.index<F;)++de,pe=Te.index+Te[0].length}R.onComment&&R.onComment(!0,C.slice(te+2,be),te,F,$,R.locations&&new Wn)}function ji(){for(var $=F,te=R.onComment&&R.locations&&new Wn,be=C.charCodeAt(F+=2);F<N&&be!==10&&be!==13&&be!==8232&&be!==8233;)++F,be=C.charCodeAt(F);R.onComment&&R.onComment(!1,C.slice($+2,F),$,F,te,R.locations&&new Wn)}function Pr(){for(;F<N;){var $=C.charCodeAt(F);if($===32)++F;else if($===13){++F;var te=C.charCodeAt(F);te===10&&++F,R.locations&&(++de,pe=F)}else if($===10||$===8232||$===8233)++F,R.locations&&(++de,pe=F);else if($>8&&$<14)++F;else if($===47){var te=C.charCodeAt(F+1);if(te===42)Cu();else if(te===47)ji();else break}else if($===160)++F;else if($>=5760&&na.test(String.fromCharCode($)))++F;else break}}function no(){var $=C.charCodeAt(F+1);return $>=48&&$<=57?or(!0):(++F,ti(Cn))}function Gn(){var $=C.charCodeAt(F+1);return ue?(++F,ro()):$===61?Oi(rr,2):Oi(vn,1)}function Es(){var $=C.charCodeAt(F+1);return $===61?Oi(rr,2):Oi(yu,1)}function aa($){var te=C.charCodeAt(F+1);return te===$?Oi($===124?xs:eo,2):te===61?Oi(rr,2):Oi($===124?gu:vu,1)}function di(){var $=C.charCodeAt(F+1);return $===61?Oi(rr,2):Oi(mu,1)}function $n($){var te=C.charCodeAt(F+1);return te===$?te==45&&C.charCodeAt(F+2)==62&&Qr.test(C.slice(Be,F))?(F+=3,ji(),Pr(),ar()):Oi(pu,2):te===61?Oi(rr,2):Oi(bu,1)}function oa($){var te=C.charCodeAt(F+1),be=1;return te===$?(be=$===62&&C.charCodeAt(F+2)===62?3:2,C.charCodeAt(F+be)===61?Oi(rr,be+1):Oi(oi,be)):te==33&&$==60&&C.charCodeAt(F+2)==45&&C.charCodeAt(F+3)==45?(F+=4,ji(),Pr(),ar()):(te===61&&(be=C.charCodeAt(F+2)===61?3:2),Oi(hi,be))}function Su($){var te=C.charCodeAt(F+1);return te===61?Oi(_u,C.charCodeAt(F+2)===61?3:2):Oi($===61?Sn:Ja,1)}function ua($){switch($){case 46:return no();case 40:return++F,ti(bt);case 41:return++F,ti(At);case 59:return++F,ti(Ti);case 44:return++F,ti(ri);case 91:return++F,ti(ye);case 93:return++F,ti(Se);case 123:return++F,ti(He);case 125:return++F,ti(je);case 58:return++F,ti(un);case 63:return++F,ti(qn);case 48:var te=C.charCodeAt(F+1);if(te===120||te===88)return As();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return or(!1);case 34:case 39:return Eu($);case 47:return Gn();case 37:case 42:return Es();case 124:case 38:return aa($);case 94:return di();case 43:case 45:return $n($);case 60:case 62:return oa($);case 61:case 33:return Su($);case 126:return Oi(Ja,1)}return!1}function ar($){if($?F=W+1:W=F,R.locations&&(J=new Wn),$)return ro();if(F>=N)return ti(mt);var te=C.charCodeAt(F);if(Jr(te)||te===92)return ks();var be=ua(te);if(be===!1){var Te=String.fromCharCode(te);if(Te==="\\"||Ss.test(Te))return ks();Ne(F,"Unexpected character '"+Te+"'")}return be}function Oi($,te){var be=C.slice(F,F+te);F+=te,ti($,be)}function ro(){for(var et="",$,te,be=F;;){F>=N&&Ne(be,"Unterminated regular expression");var Te=C.charAt(F);if(Qr.test(Te)&&Ne(be,"Unterminated regular expression"),$)$=!1;else{if(Te==="[")te=!0;else if(Te==="]"&&te)te=!1;else if(Te==="/"&&!te)break;$=Te==="\\"}++F}var et=C.slice(be,F);++F;var Tt=Ts();Tt&&!/^[gmsiy]*$/.test(Tt)&&Ne(be,"Invalid regexp flag");try{var Bt=new RegExp(et,Tt)}catch(zt){zt instanceof SyntaxError&&Ne(be,zt.message),Ne(zt)}return ti(nt,Bt)}function Lr($,te){for(var be=F,Te=0,et=0,Tt=te==null?1/0:te;et<Tt;++et){var Bt=C.charCodeAt(F),zt;if(Bt>=97?zt=Bt-97+10:Bt>=65?zt=Bt-65+10:Bt>=48&&Bt<=57?zt=Bt-48:zt=1/0,zt>=$)break;++F,Te=Te*$+zt}return F===be||te!=null&&F-be!==te?null:Te}function As(){F+=2;var $=Lr(16);return $==null&&Ne(W+2,"Expected hexadecimal number"),Jr(C.charCodeAt(F))&&Ne(F,"Identifier directly after number"),ti(it,$)}function or($){var te=F,be=!1,Te=C.charCodeAt(F)===48;!$&&Lr(10)===null&&Ne(te,"Invalid number"),C.charCodeAt(F)===46&&(++F,Lr(10),be=!0);var et=C.charCodeAt(F);(et===69||et===101)&&(et=C.charCodeAt(++F),(et===43||et===45)&&++F,Lr(10)===null&&Ne(te,"Invalid number"),be=!0),Jr(C.charCodeAt(F))&&Ne(F,"Identifier directly after number");var Tt=C.slice(te,F),Bt;return be?Bt=parseFloat(Tt):!Te||Tt.length===1?Bt=parseInt(Tt,10):/[89]/.test(Tt)||ke?Ne(te,"Invalid number"):Bt=parseInt(Tt,8),ti(it,Bt)}function Eu($){F++;for(var te="";;){F>=N&&Ne(W,"Unterminated string constant");var be=C.charCodeAt(F);if(be===$)return++F,ti(_t,te);if(be===92){be=C.charCodeAt(++F);var Te=/^[0-7]+/.exec(C.slice(F,F+3));for(Te&&(Te=Te[0]);Te&&parseInt(Te,8)>255;)Te=Te.slice(0,-1);if(Te==="0"&&(Te=null),++F,Te)ke&&Ne(F-2,"Octal literal in strict mode"),te+=String.fromCharCode(parseInt(Te,8)),F+=Te.length-1;else switch(be){case 110:te+=`
`;break;case 114:te+="\r";break;case 120:te+=String.fromCharCode(es(2));break;case 117:te+=String.fromCharCode(es(4));break;case 85:te+=String.fromCharCode(es(8));break;case 116:te+="	";break;case 98:te+="\b";break;case 118:te+="\v";break;case 102:te+="\f";break;case 48:te+="\0";break;case 13:C.charCodeAt(F)===10&&++F;case 10:R.locations&&(pe=F,++de);break;default:te+=String.fromCharCode(be);break}}else(be===13||be===10||be===8232||be===8233)&&Ne(W,"Unterminated string constant"),te+=String.fromCharCode(be),++F}}function es($){var te=Lr(16,$);return te===null&&Ne(W,"Bad character escape sequence"),te}var ur;function Ts(){ur=!1;for(var $,te=!0,be=F;;){var Te=C.charCodeAt(F);if(ra(Te))ur&&($+=C.charAt(F)),++F;else if(Te===92){ur||($=C.slice(be,F)),ur=!0,C.charCodeAt(++F)!=117&&Ne(F,"Expecting Unicode escape sequence \\uXXXX"),++F;var et=es(4),Tt=String.fromCharCode(et);Tt||Ne(F-1,"Invalid Unicode escape"),(te?Jr(et):ra(et))||Ne(F-4,"Invalid Unicode escape"),$+=Tt}else break;te=!1}return ur?$:C.slice(be,F)}function ks(){var $=Ts(),te=ze;return!ur&&Bi($)&&(te=ee[$]),ti(te,$)}function Yt(){we=W,Be=j,$e=re,ar()}function la($){if(ke=$,F=W,R.locations)for(;F<pe;)pe=C.lastIndexOf(`
`,pe-2)+1,--de;Pr(),ar()}function Is(){this.type=null,this.start=W,this.end=null}function Ps(){this.start=J,this.end=null,w!==null&&(this.source=w)}function Fi(){var $=new Is;return R.locations&&($.loc=new Ps),R.directSourceFile&&($.sourceFile=R.directSourceFile),R.ranges&&($.range=[W,0]),$}function On($){var te=new Is;return te.start=$.start,R.locations&&(te.loc=new Ps,te.loc.start=$.loc.start),R.ranges&&(te.range=[$.range[0],0]),te}function wt($,te){return $.type=te,$.end=Be,R.locations&&($.loc.end=$e),R.ranges&&($.range[1]=Be),$}function ts($){return R.ecmaVersion>=5&&$.type==="ExpressionStatement"&&$.expression.type==="Literal"&&$.expression.value==="use strict"}function si($){if(Y===$)return Yt(),!0}function is(){return!R.strictSemicolons&&(Y===mt||Y===je||Qr.test(C.slice(Be,W)))}function Kn(){!si(Ti)&&!is()&&Mn()}function Ci($){Y===$?Yt():Mn()}function Mn(){Ne(W,"Unexpected token")}function Ls($){$.type!=="Identifier"&&$.type!=="MemberExpression"&&Ne($.start,"Assigning to rvalue"),ke&&$.type==="Identifier"&&Cs($.name)&&Ne($.start,"Assigning to "+$.name+" in strict mode")}function Au($){we=Be=F,R.locations&&($e=new Wn),Ze=ke=null,tt=[],ar();var te=$||Fi(),be=!0;for($||(te.body=[]);Y!==mt;){var Te=_n();te.body.push(Te),be&&ts(Te)&&la(!0),be=!1}return wt(te,"Program")}var ha={kind:"loop"},Nr={kind:"switch"};function _n(){(Y===vn||Y===rr&&se=="/=")&&ar(!0);var $=Y,te=Fi();switch($){case Rt:case gi:Yt();var be=$===Rt;si(Ti)||is()?te.label=null:Y!==ze?Mn():(te.label=Ce(),Kn());for(var Te=0;Te<tt.length;++Te){var et=tt[Te];if((te.label==null||et.name===te.label.name)&&(et.kind!=null&&(be||et.kind==="loop")||te.label&&be))break}return Te===tt.length&&Ne(te.start,"Unsyntactic "+$.keyword),wt(te,be?"BreakStatement":"ContinueStatement");case xi:return Yt(),Kn(),wt(te,"DebuggerStatement");case Qt:return Yt(),tt.push(ha),te.body=_n(),tt.pop(),Ci($i),te.test=ns(),Kn(),wt(te,"DoWhileStatement");case vi:if(Yt(),tt.push(ha),Ci(bt),Y===Ti)return Ns(te,null);if(Y===Yi){var Tt=Fi();return Yt(),rs(Tt,!0),wt(Tt,"VariableDeclaration"),Tt.declarations.length===1&&si(V)?Rn(te,Tt):Ns(te,Tt)}var Tt=Hi(!1,!0);return si(V)?(Ls(Tt),Rn(te,Tt)):Ns(te,Tt);case Ui:return Yt(),me(te,!0);case on:return Yt(),te.test=ns(),te.consequent=_n(),te.alternate=si(mi)?_n():null,wt(te,"IfStatement");case Mi:return!Ze&&!R.allowReturnOutsideFunction&&Ne(W,"'return' outside of function"),Yt(),si(Ti)||is()?te.argument=null:(te.argument=Hi(),Kn()),wt(te,"ReturnStatement");case Et:Yt(),te.discriminant=ns(),te.cases=[],Ci(He),tt.push(Nr);for(var Bt,zt;Y!=je;)if(Y===kt||Y===fi){var Xi=Y===kt;Bt&&wt(Bt,"SwitchCase"),te.cases.push(Bt=Fi()),Bt.consequent=[],Yt(),Xi?Bt.test=Hi():(zt&&Ne(we,"Multiple default clauses"),zt=!0,Bt.test=null),Ci(un)}else Bt||Mn(),Bt.consequent.push(_n());return Bt&&wt(Bt,"SwitchCase"),Yt(),tt.pop(),wt(te,"SwitchStatement");case qi:return Yt(),Qr.test(C.slice(Be,W))&&Ne(Be,"Illegal newline after throw"),te.argument=Hi(),Kn(),wt(te,"ThrowStatement");case Ri:if(Yt(),te.block=lr(),te.handler=null,Y===_i){var cr=Fi();Yt(),Ci(bt),cr.param=Ce(),ke&&Cs(cr.param.name)&&Ne(cr.param.start,"Binding "+cr.param.name+" in strict mode"),Ci(At),cr.guard=null,cr.body=lr(),te.handler=wt(cr,"CatchClause")}return te.guardedHandlers=Ye,te.finalizer=si(Ai)?lr():null,!te.handler&&!te.finalizer&&Ne(te.start,"Missing catch or finally clause"),wt(te,"TryStatement");case Yi:return Yt(),rs(te),Kn(),wt(te,"VariableDeclaration");case $i:return Yt(),te.test=ns(),tt.push(ha),te.body=_n(),tt.pop(),wt(te,"WhileStatement");case Ir:return ke&&Ne(W,"'with' in strict mode"),Yt(),te.object=ns(),te.body=_n(),wt(te,"WithStatement");case He:return lr();case Ti:return Yt(),wt(te,"EmptyStatement");default:var Zn=se,fr=Hi();if($===ze&&fr.type==="Identifier"&&si(un)){for(var Te=0;Te<tt.length;++Te)tt[Te].name===Zn&&Ne(fr.start,"Label '"+Zn+"' is already declared");var Ms=Y.isLoop?"loop":Y===Et?"switch":null;return tt.push({name:Zn,kind:Ms}),te.body=_n(),tt.pop(),te.label=fr,wt(te,"LabeledStatement")}else return te.expression=fr,Kn(),wt(te,"ExpressionStatement")}}function ns(){Ci(bt);var $=Hi();return Ci(At),$}function lr($){var te=Fi(),be=!0,Te=!1,et;for(te.body=[],Ci(He);!si(je);){var Tt=_n();te.body.push(Tt),be&&$&&ts(Tt)&&(et=Te,la(Te=!0)),be=!1}return Te&&!et&&la(!1),wt(te,"BlockStatement")}function Ns($,te){return $.init=te,Ci(Ti),$.test=Y===Ti?null:Hi(),Ci(Ti),$.update=Y===At?null:Hi(),Ci(At),$.body=_n(),tt.pop(),wt($,"ForStatement")}function Rn($,te){return $.left=te,$.right=Hi(),Ci(At),$.body=_n(),tt.pop(),wt($,"ForInStatement")}function rs($,te){for($.declarations=[],$.kind="var";;){var be=Fi();if(be.id=Ce(),ke&&Cs(be.id.name)&&Ne(be.id.start,"Binding "+be.id.name+" in strict mode"),be.init=si(Sn)?Hi(!0,te):null,$.declarations.push(wt(be,"VariableDeclarator")),!si(ri))break}return $}function Hi($,te){var be=ca(te);if(!$&&Y===ri){var Te=On(be);for(Te.expressions=[be];si(ri);)Te.expressions.push(ca(te));return wt(Te,"SequenceExpression")}return be}function ca($){var te=Tu($);if(Y.isAssign){var be=On(te);return be.operator=se,be.left=te,Yt(),be.right=ca($),Ls(te),wt(be,"AssignmentExpression")}return te}function Tu($){var te=Or($);if(si(qn)){var be=On(te);return be.test=te,be.consequent=Hi(!0),Ci(un),be.alternate=Hi(!0,$),wt(be,"ConditionalExpression")}return te}function Or($){return tn(Os(),-1,$)}function tn($,te,be){var Te=Y.binop;if(Te!=null&&(!be||Y!==V)&&Te>te){var et=On($);et.left=$,et.operator=se;var Tt=Y;Yt(),et.right=tn(Os(),Te,be);var Bt=wt(et,Tt===xs||Tt===eo?"LogicalExpression":"BinaryExpression");return tn(Bt,te,be)}return $}function Os(){if(Y.prefix){var $=Fi(),te=Y.isUpdate;return $.operator=se,$.prefix=!0,ue=!0,Yt(),$.argument=Os(),te?Ls($.argument):ke&&$.operator==="delete"&&$.argument.type==="Identifier"&&Ne($.start,"Deleting local variable in strict mode"),wt($,te?"UpdateExpression":"UnaryExpression")}for(var be=ku();Y.postfix&&!is();){var $=On(be);$.operator=se,$.prefix=!1,$.argument=be,Ls(be),Yt(),be=wt($,"UpdateExpression")}return be}function ku(){return ss(fa())}function ss($,te){if(si(Cn)){var be=On($);return be.object=$,be.property=Ce(!0),be.computed=!1,ss(wt(be,"MemberExpression"),te)}else if(si(ye)){var be=On($);return be.object=$,be.property=Hi(),be.computed=!0,Ci(Se),ss(wt(be,"MemberExpression"),te)}else if(!te&&si(bt)){var be=On($);return be.callee=$,be.arguments=Le(At,!1),ss(wt(be,"CallExpression"),te)}else return $}function fa(){switch(Y){case jr:var Te=Fi();return Yt(),wt(Te,"ThisExpression");case ze:return Ce();case it:case _t:case nt:var Te=Fi();return Te.value=se,Te.raw=C.slice(W,j),Yt(),wt(Te,"Literal");case s:case g:case I:var Te=Fi();return Te.value=Y.atomValue,Te.raw=Y.keyword,Yt(),wt(Te,"Literal");case bt:var $=J,te=W;Yt();var be=Hi();return be.start=te,be.end=j,R.locations&&(be.loc.start=$,be.loc.end=re),R.ranges&&(be.range=[te,j]),Ci(At),be;case ye:var Te=Fi();return Yt(),Te.elements=Le(Se,!0,!0),wt(Te,"ArrayExpression");case He:return Pu();case Ui:var Te=Fi();return Yt(),me(Te,!1);case Yr:return Iu();default:Mn()}}function Iu(){var $=Fi();return Yt(),$.callee=ss(fa(),!0),si(bt)?$.arguments=Le(At,!1):$.arguments=Ye,wt($,"NewExpression")}function Pu(){var $=Fi(),te=!0,be=!1;for($.properties=[],Yt();!si(je);){if(te)te=!1;else if(Ci(ri),R.allowTrailingCommas&&si(je))break;var Te={key:hr()},et=!1,Tt;if(si(un)?(Te.value=Hi(!0),Tt=Te.kind="init"):R.ecmaVersion>=5&&Te.key.type==="Identifier"&&(Te.key.name==="get"||Te.key.name==="set")?(et=be=!0,Tt=Te.kind=Te.key.name,Te.key=hr(),Y!==bt&&Mn(),Te.value=me(Fi(),!1)):Mn(),Te.key.type==="Identifier"&&(ke||be))for(var Bt=0;Bt<$.properties.length;++Bt){var zt=$.properties[Bt];if(zt.key.name===Te.key.name){var Xi=Tt==zt.kind||et&&zt.kind==="init"||Tt==="init"&&(zt.kind==="get"||zt.kind==="set");Xi&&!ke&&Tt==="init"&&zt.kind==="init"&&(Xi=!1),Xi&&Ne(Te.key.start,"Redefinition of property")}}$.properties.push(Te)}return wt($,"ObjectExpression")}function hr(){return Y===it||Y===_t?fa():Ce(!0)}function me($,te){Y===ze?$.id=Ce():te?Mn():$.id=null,$.params=[];var be=!0;for(Ci(bt);!si(At);)be?be=!1:Ci(ri),$.params.push(Ce());var Te=Ze,et=tt;if(Ze=!0,tt=[],$.body=lr(!0),Ze=Te,tt=et,ke||$.body.body.length&&ts($.body.body[0]))for(var Tt=$.id?-1:0;Tt<$.params.length;++Tt){var Bt=Tt<0?$.id:$.params[Tt];if((ia(Bt.name)||Cs(Bt.name))&&Ne(Bt.start,"Defining '"+Bt.name+"' in strict mode"),Tt>=0)for(var zt=0;zt<Tt;++zt)Bt.name===$.params[zt].name&&Ne(Bt.start,"Argument name clash in strict mode")}return wt($,te?"FunctionDeclaration":"FunctionExpression")}function Le($,te,be){for(var Te=[],et=!0;!si($);){if(et)et=!1;else if(Ci(ri),te&&R.allowTrailingCommas&&si($))break;be&&Y===ri?Te.push(null):Te.push(Hi(!0))}return Te}function Ce($){var te=Fi();return $&&R.forbidReserved=="everywhere"&&($=!1),Y===ze?(!$&&(R.forbidReserved&&(R.ecmaVersion===3?wu:xu)(se)||ke&&ia(se))&&C.slice(W,j).indexOf("\\")==-1&&Ne(W,"The keyword '"+se+"' is reserved"),te.name=se):$&&Y.keyword?te.name=Y.keyword:Mn(),ue=!1,Yt(),wt(te,"Identifier")}}),t.version||(t=null)}function l(k,R){return(e.acorn||t).parse(k,R)}var c={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},m={"-":"__negate","+":"__self"},p=v.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(k){this["__"+k]="#"+k},{__self:function(){return this}});D.inject(p),K.inject(p),lt.inject(p);function _(k,R,C){var N=c[R];if(k&&k[N]){var w=k[N](C);return R==="!="?!w:w}switch(R){case"+":return k+C;case"-":return k-C;case"*":return k*C;case"/":return k/C;case"%":return k%C;case"==":return k==C;case"!=":return k!=C}}function b(k,R){var C=m[k];if(R&&R[C])return R[C]();switch(k){case"+":return+R;case"-":return-R}}function E(k,R){if(!k)return"";R=R||{};var C=[];function N(ke){for(var Ne=0,Ye=C.length;Ne<Ye;Ne++){var it=C[Ne];if(it[0]>=ke)break;ke+=it[1]}return ke}function w(ke){return k.substring(N(ke.range[0]),N(ke.range[1]))}function L(ke,Ne){return k.substring(N(ke.range[1]),N(Ne.range[0]))}function B(ke,Ne){for(var Ye=N(ke.range[0]),it=N(ke.range[1]),nt=0,_t=C.length-1;_t>=0;_t--)if(Ye>C[_t][0]){nt=_t+1;break}C.splice(nt,0,[Ye,Ne.length-it+Ye]),k=k.substring(0,Ye)+Ne+k.substring(it)}function U(ke,Ne){switch(ke.type){case"UnaryExpression":if(ke.operator in m&&ke.argument.type!=="Literal"){var Ye=w(ke.argument);B(ke,'$__("'+ke.operator+'", '+Ye+")")}break;case"BinaryExpression":if(ke.operator in c&&ke.left.type!=="Literal"){var it=w(ke.left),nt=w(ke.right),_t=L(ke.left,ke.right),ze=ke.operator;B(ke,"__$__("+it+","+_t.replace(new RegExp("\\"+ze),'"'+ze+'"')+", "+nt+")")}break;case"UpdateExpression":case"AssignmentExpression":var mt=Ne&&Ne.type;if(!(mt==="ForStatement"||mt==="BinaryExpression"&&/^[=!<>]/.test(Ne.operator)||mt==="MemberExpression"&&Ne.computed)){if(ke.type==="UpdateExpression"){var Ye=w(ke.argument),Rt="__$__("+Ye+', "'+ke.operator[0]+'", 1)',kt=Ye+" = "+Rt;ke.prefix?kt="("+kt+")":(mt==="AssignmentExpression"||mt==="VariableDeclarator"||mt==="BinaryExpression")&&(w(Ne.left||Ne.id)===Ye&&(kt=Rt),kt=Ye+"; "+kt),B(ke,kt)}else if(/^.=$/.test(ke.operator)&&ke.left.type!=="Literal"){var it=w(ke.left),nt=w(ke.right),Rt=it+" = __$__("+it+', "'+ke.operator[0]+'", '+nt+")";B(ke,/^\(.*\)$/.test(w(ke))?"("+Rt+")":Rt)}}break}}function F(ke){switch(ke.type){case"ExportDefaultDeclaration":B({range:[ke.start,ke.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var Ne=ke.declaration,Ye=ke.specifiers;if(Ne){var it=Ne.declarations;it&&(it.forEach(function(_t){B(_t,"module.exports."+w(_t))}),B({range:[ke.start,Ne.start+Ne.kind.length]},""))}else if(Ye){var nt=Ye.map(function(_t){var ze=w(_t);return"module.exports."+ze+" = "+ze+"; "}).join("");nt&&B(ke,nt)}break}}function W(ke,Ne,Ye){if(ke){for(var it in ke)if(it!=="range"&&it!=="loc"){var nt=ke[it];if(Array.isArray(nt))for(var _t=0,ze=nt.length;_t<ze;_t++)W(nt[_t],ke,Ye);else nt&&typeof nt=="object"&&W(nt,ke,Ye)}Ye.operatorOverloading!==!1&&U(ke,Ne),Ye.moduleExports!==!1&&F(ke)}}function j(ke){var Ne="",Ye="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ke=(Math.abs(ke)<<1)+(ke<0?1:0);ke||!Ne;){var it=ke&31;ke>>=5,ke&&(it|=32),Ne+=Ye[it]}return Ne}var J=R.url||"",re=R.sourceMaps,Y=R.paperFeatures||{},se=R.source||k,ue=R.offset||0,de=Ue.agent,pe=de.versionNumber,we=!1,Be=/\r\n|\n|\r/mg,$e;if(re&&(de.chrome&&pe>=30||de.webkit&&pe>=537.76||de.firefox&&pe>=23||de.node)){if(de.node)ue-=2;else if(f&&J&&!f.location.href.indexOf(J)){var Ze=A.getElementsByTagName("html")[0].innerHTML;ue=Ze.substr(0,Ze.indexOf(k)+1).match(Be).length+1}we=ue>0&&!(de.chrome&&pe>=36||de.safari&&pe>=600||de.firefox&&pe>=40||de.node);var tt=["AA"+j(we?0:ue)+"A"];tt.length=(k.match(Be)||[]).length+1+(we?ue:0),$e={version:3,file:J,names:[],mappings:tt.join(";AACA"),sourceRoot:"",sources:[J],sourcesContent:[se]}}return(Y.operatorOverloading!==!1||Y.moduleExports!==!1)&&W(l(k,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,Y),$e&&(we&&(k=new Array(ue+1).join(`
`)+k),/^(inline|both)$/.test(re)&&(k+=`
//# sourceMappingURL=data:application/json;base64,`+d.btoa(unescape(encodeURIComponent(JSON.stringify($e))))),k+=`
//# sourceURL=`+(J||"paperscript")),{url:J,source:se,code:k,map:$e}}function T(k,R,C){Ue=R;var N=R.getView(),w=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(k)&&!/\bnew\s+Tool\b/.test(k)?new an:null,L=w?w._events:[],B=["onFrame","onResize"].concat(L),U=[],F=[],W,j=typeof k=="object"?k:E(k,C);k=j.code;function J(pe,we){for(var Be in pe)(we||!/^_/.test(Be))&&new RegExp("([\\b\\s\\W]|^)"+Be.replace(/\$/g,"\\$")+"\\b").test(k)&&(U.push(Be),F.push(pe[Be]))}J({__$__:_,$__:b,paper:R,tool:w},!0),J(R),k="var module = { exports: {} }; "+k;var ue=v.each(B,function(pe){new RegExp("\\s+"+pe+"\\b").test(k)&&(U.push(pe),this.push("module.exports."+pe+" = "+pe+";"))},[]).join(`
`);ue&&(k+=`
`+ue),k+=`
return module.exports;`;var re=Ue.agent;if(A&&(re.chrome||re.firefox&&re.versionNumber<40)){var Y=A.createElement("script"),se=A.head||A.getElementsByTagName("head")[0];re.firefox&&(k=`
`+k),Y.appendChild(A.createTextNode("document.__paperscript__ = function("+U+") {"+k+`
}`)),se.appendChild(Y),W=A.__paperscript__,delete A.__paperscript__,se.removeChild(Y)}else W=Function(U,k);var ue=W&&W.apply(R,F),de=ue||{};return v.each(L,function(pe){var we=de[pe];we&&(w[pe]=we)}),N&&(de.onResize&&N.setOnResize(de.onResize),N.emit("resize",{size:N.size,delta:new D}),de.onFrame&&N.setOnFrame(de.onFrame),N.requestUpdate()),ue}function S(k){if(/^text\/(?:x-|)paperscript$/.test(k.type)&&q.getAttribute(k,"ignore")!=="true"){var R=q.getAttribute(k,"canvas"),C=A.getElementById(R),N=k.src||k.getAttribute("data-src"),w=q.hasAttribute(k,"async"),L="data-paper-scope";if(!C)throw new Error('Unable to find canvas with id "'+R+'"');var B=q.get(C.getAttribute(L))||new q().setup(C);return C.setAttribute(L,B._id),N?li.request({url:N,async:w,mimeType:"text/plain",onLoad:function(U){T(U,B,N)}}):T(k.innerHTML,B,k.baseURI),k.setAttribute("data-paper-ignore","true"),B}}function x(){v.each(A&&A.getElementsByTagName("script"),S)}function M(k){return k?S(k):x()}return f&&(A.readyState==="complete"?setTimeout(x):Mt.add(f,{load:x})),{compile:E,execute:T,load:M,parse:l,calculateBinary:_,calculateUnary:b}}.call(this);var Ue=new(q.inject(v.exports,{Base:v,Numerical:ge,Key:Kt,DomEvent:Mt,DomElement:dt,document:A,window:f,Symbol:Ge,PlacedSymbol:We}));return Ue.agent.node&&Af(Ue),typeof a=="function"&&a.amd?a("paper",Ue):o&&(o.exports=Ue),Ue}).call(Vr,typeof self=="object"?self:null)})(Pd);(function(o){o.exports=Pd.exports})(ut);var Gl={exports:{}};(function(o,d){(function(a,f){var A="1.0.32",v="",P="?",q="function",ae="undefined",oe="object",le="string",ge="major",Z="model",D="name",X="type",K="vendor",ie="version",fe="architecture",ve="console",he="mobile",Ae="tablet",Ee="smarttv",O="wearable",Pe="embedded",Je=350,Xe="Amazon",ht="Apple",We="ASUS",Ge="BlackBerry",Qe="Browser",Ve="Chrome",xt="Edge",Oe="Firefox",yt="Google",Me="Huawei",xe="LG",Ie="Microsoft",Ke="Motorola",ct="Opera",pt="Samsung",Nt="Sharp",lt="Sony",De="Xiaomi",Ct="Zebra",Dt="Facebook",dt=function(ft,Ht){var Ue={};for(var e in ft)Ht[e]&&Ht[e].length%2===0?Ue[e]=Ht[e].concat(ft[e]):Ue[e]=ft[e];return Ue},Mt=function(ft){for(var Ht={},Ue=0;Ue<ft.length;Ue++)Ht[ft[Ue].toUpperCase()]=ft[Ue];return Ht},$t=function(ft,Ht){return typeof ft===le?Li(Ht).indexOf(Li(ft))!==-1:!1},Li=function(ft){return ft.toLowerCase()},ot=function(ft){return typeof ft===le?ft.replace(/[^\d\.]/g,v).split(".")[0]:f},St=function(ft,Ht){if(typeof ft===le)return ft=ft.replace(/^\s\s*/,v).replace(/\s\s*$/,v),typeof Ht===ae?ft:ft.substring(0,Je)},Kt=function(ft,Ht){for(var Ue=0,e,t,r,u,l,c;Ue<Ht.length&&!l;){var m=Ht[Ue],p=Ht[Ue+1];for(e=t=0;e<m.length&&!l;)if(l=m[e++].exec(ft),l)for(r=0;r<p.length;r++)c=l[++t],u=p[r],typeof u===oe&&u.length>0?u.length===2?typeof u[1]==q?this[u[0]]=u[1].call(this,c):this[u[0]]=u[1]:u.length===3?typeof u[1]===q&&!(u[1].exec&&u[1].test)?this[u[0]]=c?u[1].call(this,c,u[2]):f:this[u[0]]=c?c.replace(u[1],u[2]):f:u.length===4&&(this[u[0]]=c?u[3].call(this,c.replace(u[1],u[2])):f):this[u]=c||f;Ue+=2}},ci=function(ft,Ht){for(var Ue in Ht)if(typeof Ht[Ue]===oe&&Ht[Ue].length>0){for(var e=0;e<Ht[Ue].length;e++)if($t(Ht[Ue][e],ft))return Ue===P?f:Ue}else if($t(Ht[Ue],ft))return Ue===P?f:Ue;return ft},wi={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},an={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},mn={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[ie,[D,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[ie,[D,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[D,ie],[/opios[\/ ]+([\w\.]+)/i],[ie,[D,ct+" Mini"]],[/\bopr\/([\w\.]+)/i],[ie,[D,ct]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[D,ie],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[ie,[D,"UC"+Qe]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[ie,[D,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[ie,[D,"WeChat"]],[/konqueror\/([\w\.]+)/i],[ie,[D,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[ie,[D,"IE"]],[/yabrowser\/([\w\.]+)/i],[ie,[D,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[D,/(.+)/,"$1 Secure "+Qe],ie],[/\bfocus\/([\w\.]+)/i],[ie,[D,Oe+" Focus"]],[/\bopt\/([\w\.]+)/i],[ie,[D,ct+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[ie,[D,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[ie,[D,"Dolphin"]],[/coast\/([\w\.]+)/i],[ie,[D,ct+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[ie,[D,"MIUI "+Qe]],[/fxios\/([-\w\.]+)/i],[ie,[D,Oe]],[/\bqihu|(qi?ho?o?|360)browser/i],[[D,"360 "+Qe]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[D,/(.+)/,"$1 "+Qe],ie],[/(comodo_dragon)\/([\w\.]+)/i],[[D,/_/g," "],ie],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[D,ie],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[D],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[D,Dt],ie],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[D,ie],[/\bgsa\/([\w\.]+) .*safari\//i],[ie,[D,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[ie,[D,Ve+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[D,Ve+" WebView"],ie],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[ie,[D,"Android "+Qe]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[D,ie],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[ie,[D,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[ie,D],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[D,[ie,ci,wi]],[/(webkit|khtml)\/([\w\.]+)/i],[D,ie],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[D,"Netscape"],ie],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[ie,[D,Oe+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[D,ie]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[fe,"amd64"]],[/(ia32(?=;))/i],[[fe,Li]],[/((?:i[346]|x)86)[;\)]/i],[[fe,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[fe,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[fe,"armhf"]],[/windows (ce|mobile); ppc;/i],[[fe,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[fe,/ower/,v,Li]],[/(sun4\w)[;\)]/i],[[fe,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[fe,Li]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[Z,[K,pt],[X,Ae]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[Z,[K,pt],[X,he]],[/\((ip(?:hone|od)[\w ]*);/i],[Z,[K,ht],[X,he]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[Z,[K,ht],[X,Ae]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[Z,[K,Me],[X,Ae]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[Z,[K,Me],[X,he]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[Z,/_/g," "],[K,De],[X,he]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[Z,/_/g," "],[K,De],[X,Ae]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[Z,[K,"OPPO"],[X,he]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[Z,[K,"Vivo"],[X,he]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[Z,[K,"Realme"],[X,he]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[Z,[K,Ke],[X,he]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[Z,[K,Ke],[X,Ae]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[Z,[K,xe],[X,Ae]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[Z,[K,xe],[X,he]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[Z,[K,"Lenovo"],[X,Ae]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[Z,/_/g," "],[K,"Nokia"],[X,he]],[/(pixel c)\b/i],[Z,[K,yt],[X,Ae]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[Z,[K,yt],[X,he]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[Z,[K,lt],[X,he]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[Z,"Xperia Tablet"],[K,lt],[X,Ae]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[Z,[K,"OnePlus"],[X,he]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[Z,[K,Xe],[X,Ae]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[Z,/(.+)/g,"Fire Phone $1"],[K,Xe],[X,he]],[/(playbook);[-\w\),; ]+(rim)/i],[Z,K,[X,Ae]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[Z,[K,Ge],[X,he]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[Z,[K,We],[X,Ae]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[Z,[K,We],[X,he]],[/(nexus 9)/i],[Z,[K,"HTC"],[X,Ae]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[K,[Z,/_/g," "],[X,he]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[Z,[K,"Acer"],[X,Ae]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[Z,[K,"Meizu"],[X,he]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[Z,[K,Nt],[X,he]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[K,Z,[X,he]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[K,Z,[X,Ae]],[/(surface duo)/i],[Z,[K,Ie],[X,Ae]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[Z,[K,"Fairphone"],[X,he]],[/(u304aa)/i],[Z,[K,"AT&T"],[X,he]],[/\bsie-(\w*)/i],[Z,[K,"Siemens"],[X,he]],[/\b(rct\w+) b/i],[Z,[K,"RCA"],[X,Ae]],[/\b(venue[\d ]{2,7}) b/i],[Z,[K,"Dell"],[X,Ae]],[/\b(q(?:mv|ta)\w+) b/i],[Z,[K,"Verizon"],[X,Ae]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[Z,[K,"Barnes & Noble"],[X,Ae]],[/\b(tm\d{3}\w+) b/i],[Z,[K,"NuVision"],[X,Ae]],[/\b(k88) b/i],[Z,[K,"ZTE"],[X,Ae]],[/\b(nx\d{3}j) b/i],[Z,[K,"ZTE"],[X,he]],[/\b(gen\d{3}) b.+49h/i],[Z,[K,"Swiss"],[X,he]],[/\b(zur\d{3}) b/i],[Z,[K,"Swiss"],[X,Ae]],[/\b((zeki)?tb.*\b) b/i],[Z,[K,"Zeki"],[X,Ae]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[K,"Dragon Touch"],Z,[X,Ae]],[/\b(ns-?\w{0,9}) b/i],[Z,[K,"Insignia"],[X,Ae]],[/\b((nxa|next)-?\w{0,9}) b/i],[Z,[K,"NextBook"],[X,Ae]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[K,"Voice"],Z,[X,he]],[/\b(lvtel\-)?(v1[12]) b/i],[[K,"LvTel"],Z,[X,he]],[/\b(ph-1) /i],[Z,[K,"Essential"],[X,he]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[Z,[K,"Envizen"],[X,Ae]],[/\b(trio[-\w\. ]+) b/i],[Z,[K,"MachSpeed"],[X,Ae]],[/\btu_(1491) b/i],[Z,[K,"Rotor"],[X,Ae]],[/(shield[\w ]+) b/i],[Z,[K,"Nvidia"],[X,Ae]],[/(sprint) (\w+)/i],[K,Z,[X,he]],[/(kin\.[onetw]{3})/i],[[Z,/\./g," "],[K,Ie],[X,he]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[Z,[K,Ct],[X,Ae]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[Z,[K,Ct],[X,he]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[K,Z,[X,ve]],[/droid.+; (shield) bui/i],[Z,[K,"Nvidia"],[X,ve]],[/(playstation [345portablevi]+)/i],[Z,[K,lt],[X,ve]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[Z,[K,Ie],[X,ve]],[/smart-tv.+(samsung)/i],[K,[X,Ee]],[/hbbtv.+maple;(\d+)/i],[[Z,/^/,"SmartTV"],[K,pt],[X,Ee]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[K,xe],[X,Ee]],[/(apple) ?tv/i],[K,[Z,ht+" TV"],[X,Ee]],[/crkey/i],[[Z,Ve+"cast"],[K,yt],[X,Ee]],[/droid.+aft(\w)( bui|\))/i],[Z,[K,Xe],[X,Ee]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[Z,[K,Nt],[X,Ee]],[/(bravia[\w ]+)( bui|\))/i],[Z,[K,lt],[X,Ee]],[/(mitv-\w{5}) bui/i],[Z,[K,De],[X,Ee]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[K,St],[Z,St],[X,Ee]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[X,Ee]],[/((pebble))app/i],[K,Z,[X,O]],[/droid.+; (glass) \d/i],[Z,[K,yt],[X,O]],[/droid.+; (wt63?0{2,3})\)/i],[Z,[K,Ct],[X,O]],[/(quest( 2)?)/i],[Z,[K,Dt],[X,O]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[K,[X,Pe]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[Z,[X,he]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[Z,[X,Ae]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[X,Ae]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[X,he]],[/(android[-\w\. ]{0,9});.+buil/i],[Z,[K,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[ie,[D,xt+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[ie,[D,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[D,ie],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[ie,D]],os:[[/microsoft (windows) (vista|xp)/i],[D,ie],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[D,[ie,ci,an]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[D,"Windows"],[ie,ci,an]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[ie,/_/g,"."],[D,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[D,"Mac OS"],[ie,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[ie,D],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[D,ie],[/\(bb(10);/i],[ie,[D,Ge]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[ie,[D,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[ie,[D,Oe+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[ie,[D,"webOS"]],[/crkey\/([\d\.]+)/i],[ie,[D,Ve+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[D,"Chromium OS"],ie],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[D,ie],[/(sunos) ?([\w\.\d]*)/i],[[D,"Solaris"],ie],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[D,ie]]},li=function(ft,Ht){if(typeof ft===oe&&(Ht=ft,ft=f),!(this instanceof li))return new li(ft,Ht).getResult();var Ue=ft||(typeof a!==ae&&a.navigator&&a.navigator.userAgent?a.navigator.userAgent:v),e=Ht?dt(mn,Ht):mn;return this.getBrowser=function(){var t={};return t[D]=f,t[ie]=f,Kt.call(t,Ue,e.browser),t.major=ot(t.version),t},this.getCPU=function(){var t={};return t[fe]=f,Kt.call(t,Ue,e.cpu),t},this.getDevice=function(){var t={};return t[K]=f,t[Z]=f,t[X]=f,Kt.call(t,Ue,e.device),t},this.getEngine=function(){var t={};return t[D]=f,t[ie]=f,Kt.call(t,Ue,e.engine),t},this.getOS=function(){var t={};return t[D]=f,t[ie]=f,Kt.call(t,Ue,e.os),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ue},this.setUA=function(t){return Ue=typeof t===le&&t.length>Je?St(t,Je):t,this},this.setUA(Ue),this};li.VERSION=A,li.BROWSER=Mt([D,ie,ge]),li.CPU=Mt([fe]),li.DEVICE=Mt([Z,K,X,ve,he,Ee,Ae,O,Pe]),li.ENGINE=li.OS=Mt([D,ie]),o.exports&&(d=o.exports=li),d.UAParser=li;var gt=typeof a!==ae&&(a.jQuery||a.Zepto);if(gt&&!gt.ua){var Ni=new li;gt.ua=Ni.getResult(),gt.ua.get=function(){return Ni.getUA()},gt.ua.set=function(ft){Ni.setUA(ft);var Ht=Ni.getResult();for(var Ue in Ht)gt.ua[Ue]=Ht[Ue]}}})(typeof window=="object"?window:Vr)})(Gl,Gl.exports);var $l={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(o,d){(function(){var a,f="4.17.21",A=200,v="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",P="Expected a function",q="Invalid `variable` option passed into `_.template`",ae="__lodash_hash_undefined__",oe=500,le="__lodash_placeholder__",ge=1,Z=2,D=4,X=1,K=2,ie=1,fe=2,ve=4,he=8,Ae=16,Ee=32,O=64,Pe=128,Je=256,Xe=512,ht=30,We="...",Ge=800,Qe=16,Ve=1,xt=2,Oe=3,yt=1/0,Me=9007199254740991,xe=17976931348623157e292,Ie=0/0,Ke=4294967295,ct=Ke-1,pt=Ke>>>1,Nt=[["ary",Pe],["bind",ie],["bindKey",fe],["curry",he],["curryRight",Ae],["flip",Xe],["partial",Ee],["partialRight",O],["rearg",Je]],lt="[object Arguments]",De="[object Array]",Ct="[object AsyncFunction]",Dt="[object Boolean]",dt="[object Date]",Mt="[object DOMException]",$t="[object Error]",Li="[object Function]",ot="[object GeneratorFunction]",St="[object Map]",Kt="[object Number]",ci="[object Null]",wi="[object Object]",an="[object Promise]",mn="[object Proxy]",li="[object RegExp]",gt="[object Set]",Ni="[object String]",ft="[object Symbol]",Ht="[object Undefined]",Ue="[object WeakMap]",e="[object WeakSet]",t="[object ArrayBuffer]",r="[object DataView]",u="[object Float32Array]",l="[object Float64Array]",c="[object Int8Array]",m="[object Int16Array]",p="[object Int32Array]",_="[object Uint8Array]",b="[object Uint8ClampedArray]",E="[object Uint16Array]",T="[object Uint32Array]",S=/\b__p \+= '';/g,x=/\b(__p \+=) '' \+/g,M=/(__e\(.*?\)|\b__t\)) \+\n'';/g,k=/&(?:amp|lt|gt|quot|#39);/g,R=/[&<>"']/g,C=RegExp(k.source),N=RegExp(R.source),w=/<%-([\s\S]+?)%>/g,L=/<%([\s\S]+?)%>/g,B=/<%=([\s\S]+?)%>/g,U=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,F=/^\w*$/,W=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,j=/[\\^$.*+?()[\]{}|]/g,J=RegExp(j.source),re=/^\s+/,Y=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,de=/,? & /,pe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,we=/[()=,{}\[\]\/\s]/,Be=/\\(\\)?/g,$e=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ze=/\w*$/,tt=/^[-+]0x[0-9a-f]+$/i,ke=/^0b[01]+$/i,Ne=/^\[object .+?Constructor\]$/,Ye=/^0o[0-7]+$/i,it=/^(?:0|[1-9]\d*)$/,nt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_t=/($^)/,ze=/['\n\r\u2028\u2029\\]/g,mt="\\ud800-\\udfff",Rt="\\u0300-\\u036f",kt="\\ufe20-\\ufe2f",_i="\\u20d0-\\u20ff",gi=Rt+kt+_i,xi="\\u2700-\\u27bf",fi="a-z\\xdf-\\xf6\\xf8-\\xff",Qt="\\xac\\xb1\\xd7\\xf7",mi="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ai="\\u2000-\\u206f",vi=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ui="A-Z\\xc0-\\xd6\\xd8-\\xde",on="\\ufe0e\\ufe0f",Mi=Qt+mi+Ai+vi,Et="['\u2019]",qi="["+mt+"]",Ri="["+Mi+"]",Yi="["+gi+"]",$i="\\d+",Ir="["+xi+"]",Yr="["+fi+"]",jr="[^"+mt+Mi+$i+xi+fi+Ui+"]",s="\\ud83c[\\udffb-\\udfff]",g="(?:"+Yi+"|"+s+")",I="[^"+mt+"]",V="(?:\\ud83c[\\udde6-\\uddff]){2}",ee="[\\ud800-\\udbff][\\udc00-\\udfff]",ye="["+Ui+"]",Se="\\u200d",He="(?:"+Yr+"|"+jr+")",je="(?:"+ye+"|"+jr+")",bt="(?:"+Et+"(?:d|ll|m|re|s|t|ve))?",At="(?:"+Et+"(?:D|LL|M|RE|S|T|VE))?",ri=g+"?",Ti="["+on+"]?",un="(?:"+Se+"(?:"+[I,V,ee].join("|")+")"+Ti+ri+")*",Cn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",qn="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",vn=Ti+ri+un,Sn="(?:"+[Ir,V,ee].join("|")+")"+vn,rr="(?:"+[I+Yi+"?",Yi,V,ee,qi].join("|")+")",pu=RegExp(Et,"g"),Ja=RegExp(Yi,"g"),xs=RegExp(s+"(?="+s+")|"+rr+vn,"g"),eo=RegExp([ye+"?"+Yr+"+"+bt+"(?="+[Ri,ye,"$"].join("|")+")",je+"+"+At+"(?="+[Ri,ye+He,"$"].join("|")+")",ye+"?"+He+"+"+bt,ye+"+"+At,qn,Cn,$i,Sn].join("|"),"g"),gu=RegExp("["+Se+mt+gi+on+"]"),mu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,vu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_u=-1,hi={};hi[u]=hi[l]=hi[c]=hi[m]=hi[p]=hi[_]=hi[b]=hi[E]=hi[T]=!0,hi[lt]=hi[De]=hi[t]=hi[Dt]=hi[r]=hi[dt]=hi[$t]=hi[Li]=hi[St]=hi[Kt]=hi[wi]=hi[li]=hi[gt]=hi[Ni]=hi[Ue]=!1;var oi={};oi[lt]=oi[De]=oi[t]=oi[r]=oi[Dt]=oi[dt]=oi[u]=oi[l]=oi[c]=oi[m]=oi[p]=oi[St]=oi[Kt]=oi[wi]=oi[li]=oi[gt]=oi[Ni]=oi[ft]=oi[_]=oi[b]=oi[E]=oi[T]=!0,oi[$t]=oi[Li]=oi[Ue]=!1;var bu={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},yu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},to={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Xr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},wu=parseFloat,xu=parseInt,ia=typeof Vr=="object"&&Vr&&Vr.Object===Object&&Vr,Cs=typeof self=="object"&&self&&self.Object===Object&&self,Bi=ia||Cs||Function("return this")(),na=d&&!d.nodeType&&d,Hn=na&&!0&&o&&!o.nodeType&&o,io=Hn&&Hn.exports===na,Ss=io&&ia.process,ln=function(){try{var me=Hn&&Hn.require&&Hn.require("util").types;return me||Ss&&Ss.binding&&Ss.binding("util")}catch(Le){}}(),Qr=ln&&ln.isArrayBuffer,sr=ln&&ln.isDate,Jr=ln&&ln.isMap,ra=ln&&ln.isRegExp,Wn=ln&&ln.isSet,sa=ln&&ln.isTypedArray;function ti(me,Le,Ce){switch(Ce.length){case 0:return me.call(Le);case 1:return me.call(Le,Ce[0]);case 2:return me.call(Le,Ce[0],Ce[1]);case 3:return me.call(Le,Ce[0],Ce[1],Ce[2])}return me.apply(Le,Ce)}function Cu(me,Le,Ce,$){for(var te=-1,be=me==null?0:me.length;++te<be;){var Te=me[te];Le($,Te,Ce(Te),me)}return $}function ji(me,Le){for(var Ce=-1,$=me==null?0:me.length;++Ce<$&&Le(me[Ce],Ce,me)!==!1;);return me}function Pr(me,Le){for(var Ce=me==null?0:me.length;Ce--&&Le(me[Ce],Ce,me)!==!1;);return me}function no(me,Le){for(var Ce=-1,$=me==null?0:me.length;++Ce<$;)if(!Le(me[Ce],Ce,me))return!1;return!0}function Gn(me,Le){for(var Ce=-1,$=me==null?0:me.length,te=0,be=[];++Ce<$;){var Te=me[Ce];Le(Te,Ce,me)&&(be[te++]=Te)}return be}function Es(me,Le){var Ce=me==null?0:me.length;return!!Ce&&or(me,Le,0)>-1}function aa(me,Le,Ce){for(var $=-1,te=me==null?0:me.length;++$<te;)if(Ce(Le,me[$]))return!0;return!1}function di(me,Le){for(var Ce=-1,$=me==null?0:me.length,te=Array($);++Ce<$;)te[Ce]=Le(me[Ce],Ce,me);return te}function $n(me,Le){for(var Ce=-1,$=Le.length,te=me.length;++Ce<$;)me[te+Ce]=Le[Ce];return me}function oa(me,Le,Ce,$){var te=-1,be=me==null?0:me.length;for($&&be&&(Ce=me[++te]);++te<be;)Ce=Le(Ce,me[te],te,me);return Ce}function Su(me,Le,Ce,$){var te=me==null?0:me.length;for($&&te&&(Ce=me[--te]);te--;)Ce=Le(Ce,me[te],te,me);return Ce}function ua(me,Le){for(var Ce=-1,$=me==null?0:me.length;++Ce<$;)if(Le(me[Ce],Ce,me))return!0;return!1}var ar=Ts("length");function Oi(me){return me.split("")}function ro(me){return me.match(pe)||[]}function Lr(me,Le,Ce){var $;return Ce(me,function(te,be,Te){if(Le(te,be,Te))return $=be,!1}),$}function As(me,Le,Ce,$){for(var te=me.length,be=Ce+($?1:-1);$?be--:++be<te;)if(Le(me[be],be,me))return be;return-1}function or(me,Le,Ce){return Le===Le?ca(me,Le,Ce):As(me,es,Ce)}function Eu(me,Le,Ce,$){for(var te=Ce-1,be=me.length;++te<be;)if($(me[te],Le))return te;return-1}function es(me){return me!==me}function ur(me,Le){var Ce=me==null?0:me.length;return Ce?Is(me,Le)/Ce:Ie}function Ts(me){return function(Le){return Le==null?a:Le[me]}}function ks(me){return function(Le){return me==null?a:me[Le]}}function Yt(me,Le,Ce,$,te){return te(me,function(be,Te,et){Ce=$?($=!1,be):Le(Ce,be,Te,et)}),Ce}function la(me,Le){var Ce=me.length;for(me.sort(Le);Ce--;)me[Ce]=me[Ce].value;return me}function Is(me,Le){for(var Ce,$=-1,te=me.length;++$<te;){var be=Le(me[$]);be!==a&&(Ce=Ce===a?be:Ce+be)}return Ce}function Ps(me,Le){for(var Ce=-1,$=Array(me);++Ce<me;)$[Ce]=Le(Ce);return $}function Fi(me,Le){return di(Le,function(Ce){return[Ce,me[Ce]]})}function On(me){return me&&me.slice(0,Os(me)+1).replace(re,"")}function wt(me){return function(Le){return me(Le)}}function ts(me,Le){return di(Le,function(Ce){return me[Ce]})}function si(me,Le){return me.has(Le)}function is(me,Le){for(var Ce=-1,$=me.length;++Ce<$&&or(Le,me[Ce],0)>-1;);return Ce}function Kn(me,Le){for(var Ce=me.length;Ce--&&or(Le,me[Ce],0)>-1;);return Ce}function Ci(me,Le){for(var Ce=me.length,$=0;Ce--;)me[Ce]===Le&&++$;return $}var Mn=ks(bu),Ls=ks(yu);function Au(me){return"\\"+Xr[me]}function ha(me,Le){return me==null?a:me[Le]}function Nr(me){return gu.test(me)}function _n(me){return mu.test(me)}function ns(me){for(var Le,Ce=[];!(Le=me.next()).done;)Ce.push(Le.value);return Ce}function lr(me){var Le=-1,Ce=Array(me.size);return me.forEach(function($,te){Ce[++Le]=[te,$]}),Ce}function Ns(me,Le){return function(Ce){return me(Le(Ce))}}function Rn(me,Le){for(var Ce=-1,$=me.length,te=0,be=[];++Ce<$;){var Te=me[Ce];(Te===Le||Te===le)&&(me[Ce]=le,be[te++]=Ce)}return be}function rs(me){var Le=-1,Ce=Array(me.size);return me.forEach(function($){Ce[++Le]=$}),Ce}function Hi(me){var Le=-1,Ce=Array(me.size);return me.forEach(function($){Ce[++Le]=[$,$]}),Ce}function ca(me,Le,Ce){for(var $=Ce-1,te=me.length;++$<te;)if(me[$]===Le)return $;return-1}function Tu(me,Le,Ce){for(var $=Ce+1;$--;)if(me[$]===Le)return $;return $}function Or(me){return Nr(me)?ss(me):ar(me)}function tn(me){return Nr(me)?fa(me):Oi(me)}function Os(me){for(var Le=me.length;Le--&&Y.test(me.charAt(Le)););return Le}var ku=ks(to);function ss(me){for(var Le=xs.lastIndex=0;xs.test(me);)++Le;return Le}function fa(me){return me.match(xs)||[]}function Iu(me){return me.match(eo)||[]}var Pu=function me(Le){Le=Le==null?Bi:hr.defaults(Bi.Object(),Le,hr.pick(Bi,vu));var Ce=Le.Array,$=Le.Date,te=Le.Error,be=Le.Function,Te=Le.Math,et=Le.Object,Tt=Le.RegExp,Bt=Le.String,zt=Le.TypeError,Xi=Ce.prototype,cr=be.prototype,Zn=et.prototype,fr=Le["__core-js_shared__"],Ms=cr.toString,ai=Zn.hasOwnProperty,Ld=0,fh=function(){var i=/[^.]+$/.exec(fr&&fr.keys&&fr.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),so=Zn.toString,Nd=Ms.call(et),Od=Bi._,Md=Tt("^"+Ms.call(ai).replace(j,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ao=io?Le.Buffer:a,Mr=Le.Symbol,oo=Le.Uint8Array,dh=ao?ao.allocUnsafe:a,uo=Ns(et.getPrototypeOf,et),ph=et.create,gh=Zn.propertyIsEnumerable,lo=Xi.splice,mh=Mr?Mr.isConcatSpreadable:a,da=Mr?Mr.iterator:a,as=Mr?Mr.toStringTag:a,ho=function(){try{var i=cs(et,"defineProperty");return i({},"",{}),i}catch(n){}}(),Rd=Le.clearTimeout!==Bi.clearTimeout&&Le.clearTimeout,Bd=$&&$.now!==Bi.Date.now&&$.now,Fd=Le.setTimeout!==Bi.setTimeout&&Le.setTimeout,co=Te.ceil,fo=Te.floor,Lu=et.getOwnPropertySymbols,Dd=ao?ao.isBuffer:a,vh=Le.isFinite,zd=Xi.join,Vd=Ns(et.keys,et),Di=Te.max,Qi=Te.min,Ud=$.now,qd=Le.parseInt,_h=Te.random,Hd=Xi.reverse,Nu=cs(Le,"DataView"),pa=cs(Le,"Map"),Ou=cs(Le,"Promise"),Rs=cs(Le,"Set"),ga=cs(Le,"WeakMap"),ma=cs(et,"create"),po=ga&&new ga,Bs={},Wd=fs(Nu),Gd=fs(pa),$d=fs(Ou),Kd=fs(Rs),Zd=fs(ga),go=Mr?Mr.prototype:a,va=go?go.valueOf:a,bh=go?go.toString:a;function H(i){if(Si(i)&&!Vt(i)&&!(i instanceof jt)){if(i instanceof En)return i;if(ai.call(i,"__wrapped__"))return yc(i)}return new En(i)}var Fs=function(){function i(){}return function(n){if(!bi(n))return{};if(ph)return ph(n);i.prototype=n;var h=new i;return i.prototype=a,h}}();function mo(){}function En(i,n){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=a}H.templateSettings={escape:w,evaluate:L,interpolate:B,variable:"",imports:{_:H}},H.prototype=mo.prototype,H.prototype.constructor=H,En.prototype=Fs(mo.prototype),En.prototype.constructor=En;function jt(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ke,this.__views__=[]}function Yd(){var i=new jt(this.__wrapped__);return i.__actions__=hn(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=hn(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=hn(this.__views__),i}function jd(){if(this.__filtered__){var i=new jt(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function Xd(){var i=this.__wrapped__.value(),n=this.__dir__,h=Vt(i),y=n<0,z=h?i.length:0,G=lg(0,z,this.__views__),ne=G.start,ce=G.end,_e=ce-ne,Re=y?ce:ne-1,Fe=this.__iteratees__,qe=Fe.length,st=0,vt=Qi(_e,this.__takeCount__);if(!h||!y&&z==_e&&vt==_e)return Hh(i,this.__actions__);var Pt=[];e:for(;_e--&&st<vt;){Re+=n;for(var Wt=-1,Lt=i[Re];++Wt<qe;){var Zt=Fe[Wt],Xt=Zt.iteratee,wn=Zt.type,sn=Xt(Lt);if(wn==xt)Lt=sn;else if(!sn){if(wn==Ve)continue e;break e}}Pt[st++]=Lt}return Pt}jt.prototype=Fs(mo.prototype),jt.prototype.constructor=jt;function os(i){var n=-1,h=i==null?0:i.length;for(this.clear();++n<h;){var y=i[n];this.set(y[0],y[1])}}function Qd(){this.__data__=ma?ma(null):{},this.size=0}function Jd(i){var n=this.has(i)&&delete this.__data__[i];return this.size-=n?1:0,n}function ep(i){var n=this.__data__;if(ma){var h=n[i];return h===ae?a:h}return ai.call(n,i)?n[i]:a}function tp(i){var n=this.__data__;return ma?n[i]!==a:ai.call(n,i)}function ip(i,n){var h=this.__data__;return this.size+=this.has(i)?0:1,h[i]=ma&&n===a?ae:n,this}os.prototype.clear=Qd,os.prototype.delete=Jd,os.prototype.get=ep,os.prototype.has=tp,os.prototype.set=ip;function dr(i){var n=-1,h=i==null?0:i.length;for(this.clear();++n<h;){var y=i[n];this.set(y[0],y[1])}}function np(){this.__data__=[],this.size=0}function rp(i){var n=this.__data__,h=vo(n,i);if(h<0)return!1;var y=n.length-1;return h==y?n.pop():lo.call(n,h,1),--this.size,!0}function sp(i){var n=this.__data__,h=vo(n,i);return h<0?a:n[h][1]}function ap(i){return vo(this.__data__,i)>-1}function op(i,n){var h=this.__data__,y=vo(h,i);return y<0?(++this.size,h.push([i,n])):h[y][1]=n,this}dr.prototype.clear=np,dr.prototype.delete=rp,dr.prototype.get=sp,dr.prototype.has=ap,dr.prototype.set=op;function pr(i){var n=-1,h=i==null?0:i.length;for(this.clear();++n<h;){var y=i[n];this.set(y[0],y[1])}}function up(){this.size=0,this.__data__={hash:new os,map:new(pa||dr),string:new os}}function lp(i){var n=Io(this,i).delete(i);return this.size-=n?1:0,n}function hp(i){return Io(this,i).get(i)}function cp(i){return Io(this,i).has(i)}function fp(i,n){var h=Io(this,i),y=h.size;return h.set(i,n),this.size+=h.size==y?0:1,this}pr.prototype.clear=up,pr.prototype.delete=lp,pr.prototype.get=hp,pr.prototype.has=cp,pr.prototype.set=fp;function us(i){var n=-1,h=i==null?0:i.length;for(this.__data__=new pr;++n<h;)this.add(i[n])}function dp(i){return this.__data__.set(i,ae),this}function pp(i){return this.__data__.has(i)}us.prototype.add=us.prototype.push=dp,us.prototype.has=pp;function Bn(i){var n=this.__data__=new dr(i);this.size=n.size}function gp(){this.__data__=new dr,this.size=0}function mp(i){var n=this.__data__,h=n.delete(i);return this.size=n.size,h}function vp(i){return this.__data__.get(i)}function _p(i){return this.__data__.has(i)}function bp(i,n){var h=this.__data__;if(h instanceof dr){var y=h.__data__;if(!pa||y.length<A-1)return y.push([i,n]),this.size=++h.size,this;h=this.__data__=new pr(y)}return h.set(i,n),this.size=h.size,this}Bn.prototype.clear=gp,Bn.prototype.delete=mp,Bn.prototype.get=vp,Bn.prototype.has=_p,Bn.prototype.set=bp;function yh(i,n){var h=Vt(i),y=!h&&ds(i),z=!h&&!y&&zr(i),G=!h&&!y&&!z&&Us(i),ne=h||y||z||G,ce=ne?Ps(i.length,Bt):[],_e=ce.length;for(var Re in i)(n||ai.call(i,Re))&&!(ne&&(Re=="length"||z&&(Re=="offset"||Re=="parent")||G&&(Re=="buffer"||Re=="byteLength"||Re=="byteOffset")||_r(Re,_e)))&&ce.push(Re);return ce}function wh(i){var n=i.length;return n?i[Wu(0,n-1)]:a}function yp(i,n){return Po(hn(i),ls(n,0,i.length))}function wp(i){return Po(hn(i))}function Mu(i,n,h){(h!==a&&!Fn(i[n],h)||h===a&&!(n in i))&&gr(i,n,h)}function _a(i,n,h){var y=i[n];(!(ai.call(i,n)&&Fn(y,h))||h===a&&!(n in i))&&gr(i,n,h)}function vo(i,n){for(var h=i.length;h--;)if(Fn(i[h][0],n))return h;return-1}function xp(i,n,h,y){return Rr(i,function(z,G,ne){n(y,z,h(z),ne)}),y}function xh(i,n){return i&&jn(n,Wi(n),i)}function Cp(i,n){return i&&jn(n,fn(n),i)}function gr(i,n,h){n=="__proto__"&&ho?ho(i,n,{configurable:!0,enumerable:!0,value:h,writable:!0}):i[n]=h}function Ru(i,n){for(var h=-1,y=n.length,z=Ce(y),G=i==null;++h<y;)z[h]=G?a:gl(i,n[h]);return z}function ls(i,n,h){return i===i&&(h!==a&&(i=i<=h?i:h),n!==a&&(i=i>=n?i:n)),i}function An(i,n,h,y,z,G){var ne,ce=n&ge,_e=n&Z,Re=n&D;if(h&&(ne=z?h(i,y,z,G):h(i)),ne!==a)return ne;if(!bi(i))return i;var Fe=Vt(i);if(Fe){if(ne=cg(i),!ce)return hn(i,ne)}else{var qe=Ji(i),st=qe==Li||qe==ot;if(zr(i))return $h(i,ce);if(qe==wi||qe==lt||st&&!z){if(ne=_e||st?{}:cc(i),!ce)return _e?eg(i,Cp(ne,i)):Jp(i,xh(ne,i))}else{if(!oi[qe])return z?i:{};ne=fg(i,qe,ce)}}G||(G=new Bn);var vt=G.get(i);if(vt)return vt;G.set(i,ne),Vc(i)?i.forEach(function(Lt){ne.add(An(Lt,n,h,Lt,i,G))}):Dc(i)&&i.forEach(function(Lt,Zt){ne.set(Zt,An(Lt,n,h,Zt,i,G))});var Pt=Re?_e?tl:el:_e?fn:Wi,Wt=Fe?a:Pt(i);return ji(Wt||i,function(Lt,Zt){Wt&&(Zt=Lt,Lt=i[Zt]),_a(ne,Zt,An(Lt,n,h,Zt,i,G))}),ne}function Sp(i){var n=Wi(i);return function(h){return Ch(h,i,n)}}function Ch(i,n,h){var y=h.length;if(i==null)return!y;for(i=et(i);y--;){var z=h[y],G=n[z],ne=i[z];if(ne===a&&!(z in i)||!G(ne))return!1}return!0}function Sh(i,n,h){if(typeof i!="function")throw new zt(P);return Ea(function(){i.apply(a,h)},n)}function ba(i,n,h,y){var z=-1,G=Es,ne=!0,ce=i.length,_e=[],Re=n.length;if(!ce)return _e;h&&(n=di(n,wt(h))),y?(G=aa,ne=!1):n.length>=A&&(G=si,ne=!1,n=new us(n));e:for(;++z<ce;){var Fe=i[z],qe=h==null?Fe:h(Fe);if(Fe=y||Fe!==0?Fe:0,ne&&qe===qe){for(var st=Re;st--;)if(n[st]===qe)continue e;_e.push(Fe)}else G(n,qe,y)||_e.push(Fe)}return _e}var Rr=Xh(Yn),Eh=Xh(Fu,!0);function Ep(i,n){var h=!0;return Rr(i,function(y,z,G){return h=!!n(y,z,G),h}),h}function _o(i,n,h){for(var y=-1,z=i.length;++y<z;){var G=i[y],ne=n(G);if(ne!=null&&(ce===a?ne===ne&&!yn(ne):h(ne,ce)))var ce=ne,_e=G}return _e}function Ap(i,n,h,y){var z=i.length;for(h=Ut(h),h<0&&(h=-h>z?0:z+h),y=y===a||y>z?z:Ut(y),y<0&&(y+=z),y=h>y?0:qc(y);h<y;)i[h++]=n;return i}function Ah(i,n){var h=[];return Rr(i,function(y,z,G){n(y,z,G)&&h.push(y)}),h}function Ki(i,n,h,y,z){var G=-1,ne=i.length;for(h||(h=pg),z||(z=[]);++G<ne;){var ce=i[G];n>0&&h(ce)?n>1?Ki(ce,n-1,h,y,z):$n(z,ce):y||(z[z.length]=ce)}return z}var Bu=Qh(),Th=Qh(!0);function Yn(i,n){return i&&Bu(i,n,Wi)}function Fu(i,n){return i&&Th(i,n,Wi)}function bo(i,n){return Gn(n,function(h){return br(i[h])})}function hs(i,n){n=Fr(n,i);for(var h=0,y=n.length;i!=null&&h<y;)i=i[Xn(n[h++])];return h&&h==y?i:a}function kh(i,n,h){var y=n(i);return Vt(i)?y:$n(y,h(i))}function nn(i){return i==null?i===a?Ht:ci:as&&as in et(i)?ug(i):wg(i)}function Du(i,n){return i>n}function Tp(i,n){return i!=null&&ai.call(i,n)}function kp(i,n){return i!=null&&n in et(i)}function Ip(i,n,h){return i>=Qi(n,h)&&i<Di(n,h)}function zu(i,n,h){for(var y=h?aa:Es,z=i[0].length,G=i.length,ne=G,ce=Ce(G),_e=1/0,Re=[];ne--;){var Fe=i[ne];ne&&n&&(Fe=di(Fe,wt(n))),_e=Qi(Fe.length,_e),ce[ne]=!h&&(n||z>=120&&Fe.length>=120)?new us(ne&&Fe):a}Fe=i[0];var qe=-1,st=ce[0];e:for(;++qe<z&&Re.length<_e;){var vt=Fe[qe],Pt=n?n(vt):vt;if(vt=h||vt!==0?vt:0,!(st?si(st,Pt):y(Re,Pt,h))){for(ne=G;--ne;){var Wt=ce[ne];if(!(Wt?si(Wt,Pt):y(i[ne],Pt,h)))continue e}st&&st.push(Pt),Re.push(vt)}}return Re}function Pp(i,n,h,y){return Yn(i,function(z,G,ne){n(y,h(z),G,ne)}),y}function ya(i,n,h){n=Fr(n,i),i=gc(i,n);var y=i==null?i:i[Xn(kn(n))];return y==null?a:ti(y,i,h)}function Ih(i){return Si(i)&&nn(i)==lt}function Lp(i){return Si(i)&&nn(i)==t}function Np(i){return Si(i)&&nn(i)==dt}function wa(i,n,h,y,z){return i===n?!0:i==null||n==null||!Si(i)&&!Si(n)?i!==i&&n!==n:Op(i,n,h,y,wa,z)}function Op(i,n,h,y,z,G){var ne=Vt(i),ce=Vt(n),_e=ne?De:Ji(i),Re=ce?De:Ji(n);_e=_e==lt?wi:_e,Re=Re==lt?wi:Re;var Fe=_e==wi,qe=Re==wi,st=_e==Re;if(st&&zr(i)){if(!zr(n))return!1;ne=!0,Fe=!1}if(st&&!Fe)return G||(G=new Bn),ne||Us(i)?uc(i,n,h,y,z,G):ag(i,n,_e,h,y,z,G);if(!(h&X)){var vt=Fe&&ai.call(i,"__wrapped__"),Pt=qe&&ai.call(n,"__wrapped__");if(vt||Pt){var Wt=vt?i.value():i,Lt=Pt?n.value():n;return G||(G=new Bn),z(Wt,Lt,h,y,G)}}return st?(G||(G=new Bn),og(i,n,h,y,z,G)):!1}function Mp(i){return Si(i)&&Ji(i)==St}function Vu(i,n,h,y){var z=h.length,G=z,ne=!y;if(i==null)return!G;for(i=et(i);z--;){var ce=h[z];if(ne&&ce[2]?ce[1]!==i[ce[0]]:!(ce[0]in i))return!1}for(;++z<G;){ce=h[z];var _e=ce[0],Re=i[_e],Fe=ce[1];if(ne&&ce[2]){if(Re===a&&!(_e in i))return!1}else{var qe=new Bn;if(y)var st=y(Re,Fe,_e,i,n,qe);if(!(st===a?wa(Fe,Re,X|K,y,qe):st))return!1}}return!0}function Ph(i){if(!bi(i)||mg(i))return!1;var n=br(i)?Md:Ne;return n.test(fs(i))}function Rp(i){return Si(i)&&nn(i)==li}function Bp(i){return Si(i)&&Ji(i)==gt}function Fp(i){return Si(i)&&Bo(i.length)&&!!hi[nn(i)]}function Lh(i){return typeof i=="function"?i:i==null?dn:typeof i=="object"?Vt(i)?Mh(i[0],i[1]):Oh(i):Jc(i)}function Uu(i){if(!Sa(i))return Vd(i);var n=[];for(var h in et(i))ai.call(i,h)&&h!="constructor"&&n.push(h);return n}function Dp(i){if(!bi(i))return yg(i);var n=Sa(i),h=[];for(var y in i)y=="constructor"&&(n||!ai.call(i,y))||h.push(y);return h}function qu(i,n){return i<n}function Nh(i,n){var h=-1,y=cn(i)?Ce(i.length):[];return Rr(i,function(z,G,ne){y[++h]=n(z,G,ne)}),y}function Oh(i){var n=nl(i);return n.length==1&&n[0][2]?dc(n[0][0],n[0][1]):function(h){return h===i||Vu(h,i,n)}}function Mh(i,n){return sl(i)&&fc(n)?dc(Xn(i),n):function(h){var y=gl(h,i);return y===a&&y===n?ml(h,i):wa(n,y,X|K)}}function yo(i,n,h,y,z){i!==n&&Bu(n,function(G,ne){if(z||(z=new Bn),bi(G))zp(i,n,ne,h,yo,y,z);else{var ce=y?y(ol(i,ne),G,ne+"",i,n,z):a;ce===a&&(ce=G),Mu(i,ne,ce)}},fn)}function zp(i,n,h,y,z,G,ne){var ce=ol(i,h),_e=ol(n,h),Re=ne.get(_e);if(Re){Mu(i,h,Re);return}var Fe=G?G(ce,_e,h+"",i,n,ne):a,qe=Fe===a;if(qe){var st=Vt(_e),vt=!st&&zr(_e),Pt=!st&&!vt&&Us(_e);Fe=_e,st||vt||Pt?Vt(ce)?Fe=ce:ki(ce)?Fe=hn(ce):vt?(qe=!1,Fe=$h(_e,!0)):Pt?(qe=!1,Fe=Kh(_e,!0)):Fe=[]:Aa(_e)||ds(_e)?(Fe=ce,ds(ce)?Fe=Hc(ce):(!bi(ce)||br(ce))&&(Fe=cc(_e))):qe=!1}qe&&(ne.set(_e,Fe),z(Fe,_e,y,G,ne),ne.delete(_e)),Mu(i,h,Fe)}function Rh(i,n){var h=i.length;if(!!h)return n+=n<0?h:0,_r(n,h)?i[n]:a}function Bh(i,n,h){n.length?n=di(n,function(G){return Vt(G)?function(ne){return hs(ne,G.length===1?G[0]:G)}:G}):n=[dn];var y=-1;n=di(n,wt(It()));var z=Nh(i,function(G,ne,ce){var _e=di(n,function(Re){return Re(G)});return{criteria:_e,index:++y,value:G}});return la(z,function(G,ne){return Qp(G,ne,h)})}function Vp(i,n){return Fh(i,n,function(h,y){return ml(i,y)})}function Fh(i,n,h){for(var y=-1,z=n.length,G={};++y<z;){var ne=n[y],ce=hs(i,ne);h(ce,ne)&&xa(G,Fr(ne,i),ce)}return G}function Up(i){return function(n){return hs(n,i)}}function Hu(i,n,h,y){var z=y?Eu:or,G=-1,ne=n.length,ce=i;for(i===n&&(n=hn(n)),h&&(ce=di(i,wt(h)));++G<ne;)for(var _e=0,Re=n[G],Fe=h?h(Re):Re;(_e=z(ce,Fe,_e,y))>-1;)ce!==i&&lo.call(ce,_e,1),lo.call(i,_e,1);return i}function Dh(i,n){for(var h=i?n.length:0,y=h-1;h--;){var z=n[h];if(h==y||z!==G){var G=z;_r(z)?lo.call(i,z,1):Ku(i,z)}}return i}function Wu(i,n){return i+fo(_h()*(n-i+1))}function qp(i,n,h,y){for(var z=-1,G=Di(co((n-i)/(h||1)),0),ne=Ce(G);G--;)ne[y?G:++z]=i,i+=h;return ne}function Gu(i,n){var h="";if(!i||n<1||n>Me)return h;do n%2&&(h+=i),n=fo(n/2),n&&(i+=i);while(n);return h}function Gt(i,n){return ul(pc(i,n,dn),i+"")}function Hp(i){return wh(qs(i))}function Wp(i,n){var h=qs(i);return Po(h,ls(n,0,h.length))}function xa(i,n,h,y){if(!bi(i))return i;n=Fr(n,i);for(var z=-1,G=n.length,ne=G-1,ce=i;ce!=null&&++z<G;){var _e=Xn(n[z]),Re=h;if(_e==="__proto__"||_e==="constructor"||_e==="prototype")return i;if(z!=ne){var Fe=ce[_e];Re=y?y(Fe,_e,ce):a,Re===a&&(Re=bi(Fe)?Fe:_r(n[z+1])?[]:{})}_a(ce,_e,Re),ce=ce[_e]}return i}var zh=po?function(i,n){return po.set(i,n),i}:dn,Gp=ho?function(i,n){return ho(i,"toString",{configurable:!0,enumerable:!1,value:_l(n),writable:!0})}:dn;function $p(i){return Po(qs(i))}function Tn(i,n,h){var y=-1,z=i.length;n<0&&(n=-n>z?0:z+n),h=h>z?z:h,h<0&&(h+=z),z=n>h?0:h-n>>>0,n>>>=0;for(var G=Ce(z);++y<z;)G[y]=i[y+n];return G}function Kp(i,n){var h;return Rr(i,function(y,z,G){return h=n(y,z,G),!h}),!!h}function wo(i,n,h){var y=0,z=i==null?y:i.length;if(typeof n=="number"&&n===n&&z<=pt){for(;y<z;){var G=y+z>>>1,ne=i[G];ne!==null&&!yn(ne)&&(h?ne<=n:ne<n)?y=G+1:z=G}return z}return $u(i,n,dn,h)}function $u(i,n,h,y){var z=0,G=i==null?0:i.length;if(G===0)return 0;n=h(n);for(var ne=n!==n,ce=n===null,_e=yn(n),Re=n===a;z<G;){var Fe=fo((z+G)/2),qe=h(i[Fe]),st=qe!==a,vt=qe===null,Pt=qe===qe,Wt=yn(qe);if(ne)var Lt=y||Pt;else Re?Lt=Pt&&(y||st):ce?Lt=Pt&&st&&(y||!vt):_e?Lt=Pt&&st&&!vt&&(y||!Wt):vt||Wt?Lt=!1:Lt=y?qe<=n:qe<n;Lt?z=Fe+1:G=Fe}return Qi(G,ct)}function Vh(i,n){for(var h=-1,y=i.length,z=0,G=[];++h<y;){var ne=i[h],ce=n?n(ne):ne;if(!h||!Fn(ce,_e)){var _e=ce;G[z++]=ne===0?0:ne}}return G}function Uh(i){return typeof i=="number"?i:yn(i)?Ie:+i}function bn(i){if(typeof i=="string")return i;if(Vt(i))return di(i,bn)+"";if(yn(i))return bh?bh.call(i):"";var n=i+"";return n=="0"&&1/i==-yt?"-0":n}function Br(i,n,h){var y=-1,z=Es,G=i.length,ne=!0,ce=[],_e=ce;if(h)ne=!1,z=aa;else if(G>=A){var Re=n?null:rg(i);if(Re)return rs(Re);ne=!1,z=si,_e=new us}else _e=n?[]:ce;e:for(;++y<G;){var Fe=i[y],qe=n?n(Fe):Fe;if(Fe=h||Fe!==0?Fe:0,ne&&qe===qe){for(var st=_e.length;st--;)if(_e[st]===qe)continue e;n&&_e.push(qe),ce.push(Fe)}else z(_e,qe,h)||(_e!==ce&&_e.push(qe),ce.push(Fe))}return ce}function Ku(i,n){return n=Fr(n,i),i=gc(i,n),i==null||delete i[Xn(kn(n))]}function qh(i,n,h,y){return xa(i,n,h(hs(i,n)),y)}function xo(i,n,h,y){for(var z=i.length,G=y?z:-1;(y?G--:++G<z)&&n(i[G],G,i););return h?Tn(i,y?0:G,y?G+1:z):Tn(i,y?G+1:0,y?z:G)}function Hh(i,n){var h=i;return h instanceof jt&&(h=h.value()),oa(n,function(y,z){return z.func.apply(z.thisArg,$n([y],z.args))},h)}function Zu(i,n,h){var y=i.length;if(y<2)return y?Br(i[0]):[];for(var z=-1,G=Ce(y);++z<y;)for(var ne=i[z],ce=-1;++ce<y;)ce!=z&&(G[z]=ba(G[z]||ne,i[ce],n,h));return Br(Ki(G,1),n,h)}function Wh(i,n,h){for(var y=-1,z=i.length,G=n.length,ne={};++y<z;){var ce=y<G?n[y]:a;h(ne,i[y],ce)}return ne}function Yu(i){return ki(i)?i:[]}function ju(i){return typeof i=="function"?i:dn}function Fr(i,n){return Vt(i)?i:sl(i,n)?[i]:bc(ni(i))}var Zp=Gt;function Dr(i,n,h){var y=i.length;return h=h===a?y:h,!n&&h>=y?i:Tn(i,n,h)}var Gh=Rd||function(i){return Bi.clearTimeout(i)};function $h(i,n){if(n)return i.slice();var h=i.length,y=dh?dh(h):new i.constructor(h);return i.copy(y),y}function Xu(i){var n=new i.constructor(i.byteLength);return new oo(n).set(new oo(i)),n}function Yp(i,n){var h=n?Xu(i.buffer):i.buffer;return new i.constructor(h,i.byteOffset,i.byteLength)}function jp(i){var n=new i.constructor(i.source,Ze.exec(i));return n.lastIndex=i.lastIndex,n}function Xp(i){return va?et(va.call(i)):{}}function Kh(i,n){var h=n?Xu(i.buffer):i.buffer;return new i.constructor(h,i.byteOffset,i.length)}function Zh(i,n){if(i!==n){var h=i!==a,y=i===null,z=i===i,G=yn(i),ne=n!==a,ce=n===null,_e=n===n,Re=yn(n);if(!ce&&!Re&&!G&&i>n||G&&ne&&_e&&!ce&&!Re||y&&ne&&_e||!h&&_e||!z)return 1;if(!y&&!G&&!Re&&i<n||Re&&h&&z&&!y&&!G||ce&&h&&z||!ne&&z||!_e)return-1}return 0}function Qp(i,n,h){for(var y=-1,z=i.criteria,G=n.criteria,ne=z.length,ce=h.length;++y<ne;){var _e=Zh(z[y],G[y]);if(_e){if(y>=ce)return _e;var Re=h[y];return _e*(Re=="desc"?-1:1)}}return i.index-n.index}function Yh(i,n,h,y){for(var z=-1,G=i.length,ne=h.length,ce=-1,_e=n.length,Re=Di(G-ne,0),Fe=Ce(_e+Re),qe=!y;++ce<_e;)Fe[ce]=n[ce];for(;++z<ne;)(qe||z<G)&&(Fe[h[z]]=i[z]);for(;Re--;)Fe[ce++]=i[z++];return Fe}function jh(i,n,h,y){for(var z=-1,G=i.length,ne=-1,ce=h.length,_e=-1,Re=n.length,Fe=Di(G-ce,0),qe=Ce(Fe+Re),st=!y;++z<Fe;)qe[z]=i[z];for(var vt=z;++_e<Re;)qe[vt+_e]=n[_e];for(;++ne<ce;)(st||z<G)&&(qe[vt+h[ne]]=i[z++]);return qe}function hn(i,n){var h=-1,y=i.length;for(n||(n=Ce(y));++h<y;)n[h]=i[h];return n}function jn(i,n,h,y){var z=!h;h||(h={});for(var G=-1,ne=n.length;++G<ne;){var ce=n[G],_e=y?y(h[ce],i[ce],ce,h,i):a;_e===a&&(_e=i[ce]),z?gr(h,ce,_e):_a(h,ce,_e)}return h}function Jp(i,n){return jn(i,rl(i),n)}function eg(i,n){return jn(i,lc(i),n)}function Co(i,n){return function(h,y){var z=Vt(h)?Cu:xp,G=n?n():{};return z(h,i,It(y,2),G)}}function Ds(i){return Gt(function(n,h){var y=-1,z=h.length,G=z>1?h[z-1]:a,ne=z>2?h[2]:a;for(G=i.length>3&&typeof G=="function"?(z--,G):a,ne&&rn(h[0],h[1],ne)&&(G=z<3?a:G,z=1),n=et(n);++y<z;){var ce=h[y];ce&&i(n,ce,y,G)}return n})}function Xh(i,n){return function(h,y){if(h==null)return h;if(!cn(h))return i(h,y);for(var z=h.length,G=n?z:-1,ne=et(h);(n?G--:++G<z)&&y(ne[G],G,ne)!==!1;);return h}}function Qh(i){return function(n,h,y){for(var z=-1,G=et(n),ne=y(n),ce=ne.length;ce--;){var _e=ne[i?ce:++z];if(h(G[_e],_e,G)===!1)break}return n}}function tg(i,n,h){var y=n&ie,z=Ca(i);function G(){var ne=this&&this!==Bi&&this instanceof G?z:i;return ne.apply(y?h:this,arguments)}return G}function Jh(i){return function(n){n=ni(n);var h=Nr(n)?tn(n):a,y=h?h[0]:n.charAt(0),z=h?Dr(h,1).join(""):n.slice(1);return y[i]()+z}}function zs(i){return function(n){return oa(Xc(jc(n).replace(pu,"")),i,"")}}function Ca(i){return function(){var n=arguments;switch(n.length){case 0:return new i;case 1:return new i(n[0]);case 2:return new i(n[0],n[1]);case 3:return new i(n[0],n[1],n[2]);case 4:return new i(n[0],n[1],n[2],n[3]);case 5:return new i(n[0],n[1],n[2],n[3],n[4]);case 6:return new i(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new i(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var h=Fs(i.prototype),y=i.apply(h,n);return bi(y)?y:h}}function ig(i,n,h){var y=Ca(i);function z(){for(var G=arguments.length,ne=Ce(G),ce=G,_e=Vs(z);ce--;)ne[ce]=arguments[ce];var Re=G<3&&ne[0]!==_e&&ne[G-1]!==_e?[]:Rn(ne,_e);if(G-=Re.length,G<h)return rc(i,n,So,z.placeholder,a,ne,Re,a,a,h-G);var Fe=this&&this!==Bi&&this instanceof z?y:i;return ti(Fe,this,ne)}return z}function ec(i){return function(n,h,y){var z=et(n);if(!cn(n)){var G=It(h,3);n=Wi(n),h=function(ce){return G(z[ce],ce,z)}}var ne=i(n,h,y);return ne>-1?z[G?n[ne]:ne]:a}}function tc(i){return vr(function(n){var h=n.length,y=h,z=En.prototype.thru;for(i&&n.reverse();y--;){var G=n[y];if(typeof G!="function")throw new zt(P);if(z&&!ne&&ko(G)=="wrapper")var ne=new En([],!0)}for(y=ne?y:h;++y<h;){G=n[y];var ce=ko(G),_e=ce=="wrapper"?il(G):a;_e&&al(_e[0])&&_e[1]==(Pe|he|Ee|Je)&&!_e[4].length&&_e[9]==1?ne=ne[ko(_e[0])].apply(ne,_e[3]):ne=G.length==1&&al(G)?ne[ce]():ne.thru(G)}return function(){var Re=arguments,Fe=Re[0];if(ne&&Re.length==1&&Vt(Fe))return ne.plant(Fe).value();for(var qe=0,st=h?n[qe].apply(this,Re):Fe;++qe<h;)st=n[qe].call(this,st);return st}})}function So(i,n,h,y,z,G,ne,ce,_e,Re){var Fe=n&Pe,qe=n&ie,st=n&fe,vt=n&(he|Ae),Pt=n&Xe,Wt=st?a:Ca(i);function Lt(){for(var Zt=arguments.length,Xt=Ce(Zt),wn=Zt;wn--;)Xt[wn]=arguments[wn];if(vt)var sn=Vs(Lt),xn=Ci(Xt,sn);if(y&&(Xt=Yh(Xt,y,z,vt)),G&&(Xt=jh(Xt,G,ne,vt)),Zt-=xn,vt&&Zt<Re){var Ii=Rn(Xt,sn);return rc(i,n,So,Lt.placeholder,h,Xt,Ii,ce,_e,Re-Zt)}var Dn=qe?h:this,wr=st?Dn[i]:i;return Zt=Xt.length,ce?Xt=xg(Xt,ce):Pt&&Zt>1&&Xt.reverse(),Fe&&_e<Zt&&(Xt.length=_e),this&&this!==Bi&&this instanceof Lt&&(wr=Wt||Ca(wr)),wr.apply(Dn,Xt)}return Lt}function ic(i,n){return function(h,y){return Pp(h,i,n(y),{})}}function Eo(i,n){return function(h,y){var z;if(h===a&&y===a)return n;if(h!==a&&(z=h),y!==a){if(z===a)return y;typeof h=="string"||typeof y=="string"?(h=bn(h),y=bn(y)):(h=Uh(h),y=Uh(y)),z=i(h,y)}return z}}function Qu(i){return vr(function(n){return n=di(n,wt(It())),Gt(function(h){var y=this;return i(n,function(z){return ti(z,y,h)})})})}function Ao(i,n){n=n===a?" ":bn(n);var h=n.length;if(h<2)return h?Gu(n,i):n;var y=Gu(n,co(i/Or(n)));return Nr(n)?Dr(tn(y),0,i).join(""):y.slice(0,i)}function ng(i,n,h,y){var z=n&ie,G=Ca(i);function ne(){for(var ce=-1,_e=arguments.length,Re=-1,Fe=y.length,qe=Ce(Fe+_e),st=this&&this!==Bi&&this instanceof ne?G:i;++Re<Fe;)qe[Re]=y[Re];for(;_e--;)qe[Re++]=arguments[++ce];return ti(st,z?h:this,qe)}return ne}function nc(i){return function(n,h,y){return y&&typeof y!="number"&&rn(n,h,y)&&(h=y=a),n=yr(n),h===a?(h=n,n=0):h=yr(h),y=y===a?n<h?1:-1:yr(y),qp(n,h,y,i)}}function To(i){return function(n,h){return typeof n=="string"&&typeof h=="string"||(n=In(n),h=In(h)),i(n,h)}}function rc(i,n,h,y,z,G,ne,ce,_e,Re){var Fe=n&he,qe=Fe?ne:a,st=Fe?a:ne,vt=Fe?G:a,Pt=Fe?a:G;n|=Fe?Ee:O,n&=~(Fe?O:Ee),n&ve||(n&=~(ie|fe));var Wt=[i,n,z,vt,qe,Pt,st,ce,_e,Re],Lt=h.apply(a,Wt);return al(i)&&mc(Lt,Wt),Lt.placeholder=y,vc(Lt,i,n)}function Ju(i){var n=Te[i];return function(h,y){if(h=In(h),y=y==null?0:Qi(Ut(y),292),y&&vh(h)){var z=(ni(h)+"e").split("e"),G=n(z[0]+"e"+(+z[1]+y));return z=(ni(G)+"e").split("e"),+(z[0]+"e"+(+z[1]-y))}return n(h)}}var rg=Rs&&1/rs(new Rs([,-0]))[1]==yt?function(i){return new Rs(i)}:wl;function sc(i){return function(n){var h=Ji(n);return h==St?lr(n):h==gt?Hi(n):Fi(n,i(n))}}function mr(i,n,h,y,z,G,ne,ce){var _e=n&fe;if(!_e&&typeof i!="function")throw new zt(P);var Re=y?y.length:0;if(Re||(n&=~(Ee|O),y=z=a),ne=ne===a?ne:Di(Ut(ne),0),ce=ce===a?ce:Ut(ce),Re-=z?z.length:0,n&O){var Fe=y,qe=z;y=z=a}var st=_e?a:il(i),vt=[i,n,h,y,z,Fe,qe,G,ne,ce];if(st&&bg(vt,st),i=vt[0],n=vt[1],h=vt[2],y=vt[3],z=vt[4],ce=vt[9]=vt[9]===a?_e?0:i.length:Di(vt[9]-Re,0),!ce&&n&(he|Ae)&&(n&=~(he|Ae)),!n||n==ie)var Pt=tg(i,n,h);else n==he||n==Ae?Pt=ig(i,n,ce):(n==Ee||n==(ie|Ee))&&!z.length?Pt=ng(i,n,h,y):Pt=So.apply(a,vt);var Wt=st?zh:mc;return vc(Wt(Pt,vt),i,n)}function ac(i,n,h,y){return i===a||Fn(i,Zn[h])&&!ai.call(y,h)?n:i}function oc(i,n,h,y,z,G){return bi(i)&&bi(n)&&(G.set(n,i),yo(i,n,a,oc,G),G.delete(n)),i}function sg(i){return Aa(i)?a:i}function uc(i,n,h,y,z,G){var ne=h&X,ce=i.length,_e=n.length;if(ce!=_e&&!(ne&&_e>ce))return!1;var Re=G.get(i),Fe=G.get(n);if(Re&&Fe)return Re==n&&Fe==i;var qe=-1,st=!0,vt=h&K?new us:a;for(G.set(i,n),G.set(n,i);++qe<ce;){var Pt=i[qe],Wt=n[qe];if(y)var Lt=ne?y(Wt,Pt,qe,n,i,G):y(Pt,Wt,qe,i,n,G);if(Lt!==a){if(Lt)continue;st=!1;break}if(vt){if(!ua(n,function(Zt,Xt){if(!si(vt,Xt)&&(Pt===Zt||z(Pt,Zt,h,y,G)))return vt.push(Xt)})){st=!1;break}}else if(!(Pt===Wt||z(Pt,Wt,h,y,G))){st=!1;break}}return G.delete(i),G.delete(n),st}function ag(i,n,h,y,z,G,ne){switch(h){case r:if(i.byteLength!=n.byteLength||i.byteOffset!=n.byteOffset)return!1;i=i.buffer,n=n.buffer;case t:return!(i.byteLength!=n.byteLength||!G(new oo(i),new oo(n)));case Dt:case dt:case Kt:return Fn(+i,+n);case $t:return i.name==n.name&&i.message==n.message;case li:case Ni:return i==n+"";case St:var ce=lr;case gt:var _e=y&X;if(ce||(ce=rs),i.size!=n.size&&!_e)return!1;var Re=ne.get(i);if(Re)return Re==n;y|=K,ne.set(i,n);var Fe=uc(ce(i),ce(n),y,z,G,ne);return ne.delete(i),Fe;case ft:if(va)return va.call(i)==va.call(n)}return!1}function og(i,n,h,y,z,G){var ne=h&X,ce=el(i),_e=ce.length,Re=el(n),Fe=Re.length;if(_e!=Fe&&!ne)return!1;for(var qe=_e;qe--;){var st=ce[qe];if(!(ne?st in n:ai.call(n,st)))return!1}var vt=G.get(i),Pt=G.get(n);if(vt&&Pt)return vt==n&&Pt==i;var Wt=!0;G.set(i,n),G.set(n,i);for(var Lt=ne;++qe<_e;){st=ce[qe];var Zt=i[st],Xt=n[st];if(y)var wn=ne?y(Xt,Zt,st,n,i,G):y(Zt,Xt,st,i,n,G);if(!(wn===a?Zt===Xt||z(Zt,Xt,h,y,G):wn)){Wt=!1;break}Lt||(Lt=st=="constructor")}if(Wt&&!Lt){var sn=i.constructor,xn=n.constructor;sn!=xn&&"constructor"in i&&"constructor"in n&&!(typeof sn=="function"&&sn instanceof sn&&typeof xn=="function"&&xn instanceof xn)&&(Wt=!1)}return G.delete(i),G.delete(n),Wt}function vr(i){return ul(pc(i,a,Cc),i+"")}function el(i){return kh(i,Wi,rl)}function tl(i){return kh(i,fn,lc)}var il=po?function(i){return po.get(i)}:wl;function ko(i){for(var n=i.name+"",h=Bs[n],y=ai.call(Bs,n)?h.length:0;y--;){var z=h[y],G=z.func;if(G==null||G==i)return z.name}return n}function Vs(i){var n=ai.call(H,"placeholder")?H:i;return n.placeholder}function It(){var i=H.iteratee||bl;return i=i===bl?Lh:i,arguments.length?i(arguments[0],arguments[1]):i}function Io(i,n){var h=i.__data__;return gg(n)?h[typeof n=="string"?"string":"hash"]:h.map}function nl(i){for(var n=Wi(i),h=n.length;h--;){var y=n[h],z=i[y];n[h]=[y,z,fc(z)]}return n}function cs(i,n){var h=ha(i,n);return Ph(h)?h:a}function ug(i){var n=ai.call(i,as),h=i[as];try{i[as]=a;var y=!0}catch(G){}var z=so.call(i);return y&&(n?i[as]=h:delete i[as]),z}var rl=Lu?function(i){return i==null?[]:(i=et(i),Gn(Lu(i),function(n){return gh.call(i,n)}))}:xl,lc=Lu?function(i){for(var n=[];i;)$n(n,rl(i)),i=uo(i);return n}:xl,Ji=nn;(Nu&&Ji(new Nu(new ArrayBuffer(1)))!=r||pa&&Ji(new pa)!=St||Ou&&Ji(Ou.resolve())!=an||Rs&&Ji(new Rs)!=gt||ga&&Ji(new ga)!=Ue)&&(Ji=function(i){var n=nn(i),h=n==wi?i.constructor:a,y=h?fs(h):"";if(y)switch(y){case Wd:return r;case Gd:return St;case $d:return an;case Kd:return gt;case Zd:return Ue}return n});function lg(i,n,h){for(var y=-1,z=h.length;++y<z;){var G=h[y],ne=G.size;switch(G.type){case"drop":i+=ne;break;case"dropRight":n-=ne;break;case"take":n=Qi(n,i+ne);break;case"takeRight":i=Di(i,n-ne);break}}return{start:i,end:n}}function hg(i){var n=i.match(ue);return n?n[1].split(de):[]}function hc(i,n,h){n=Fr(n,i);for(var y=-1,z=n.length,G=!1;++y<z;){var ne=Xn(n[y]);if(!(G=i!=null&&h(i,ne)))break;i=i[ne]}return G||++y!=z?G:(z=i==null?0:i.length,!!z&&Bo(z)&&_r(ne,z)&&(Vt(i)||ds(i)))}function cg(i){var n=i.length,h=new i.constructor(n);return n&&typeof i[0]=="string"&&ai.call(i,"index")&&(h.index=i.index,h.input=i.input),h}function cc(i){return typeof i.constructor=="function"&&!Sa(i)?Fs(uo(i)):{}}function fg(i,n,h){var y=i.constructor;switch(n){case t:return Xu(i);case Dt:case dt:return new y(+i);case r:return Yp(i,h);case u:case l:case c:case m:case p:case _:case b:case E:case T:return Kh(i,h);case St:return new y;case Kt:case Ni:return new y(i);case li:return jp(i);case gt:return new y;case ft:return Xp(i)}}function dg(i,n){var h=n.length;if(!h)return i;var y=h-1;return n[y]=(h>1?"& ":"")+n[y],n=n.join(h>2?", ":" "),i.replace(se,`{
/* [wrapped with `+n+`] */
`)}function pg(i){return Vt(i)||ds(i)||!!(mh&&i&&i[mh])}function _r(i,n){var h=typeof i;return n=n==null?Me:n,!!n&&(h=="number"||h!="symbol"&&it.test(i))&&i>-1&&i%1==0&&i<n}function rn(i,n,h){if(!bi(h))return!1;var y=typeof n;return(y=="number"?cn(h)&&_r(n,h.length):y=="string"&&n in h)?Fn(h[n],i):!1}function sl(i,n){if(Vt(i))return!1;var h=typeof i;return h=="number"||h=="symbol"||h=="boolean"||i==null||yn(i)?!0:F.test(i)||!U.test(i)||n!=null&&i in et(n)}function gg(i){var n=typeof i;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?i!=="__proto__":i===null}function al(i){var n=ko(i),h=H[n];if(typeof h!="function"||!(n in jt.prototype))return!1;if(i===h)return!0;var y=il(h);return!!y&&i===y[0]}function mg(i){return!!fh&&fh in i}var vg=fr?br:Cl;function Sa(i){var n=i&&i.constructor,h=typeof n=="function"&&n.prototype||Zn;return i===h}function fc(i){return i===i&&!bi(i)}function dc(i,n){return function(h){return h==null?!1:h[i]===n&&(n!==a||i in et(h))}}function _g(i){var n=Mo(i,function(y){return h.size===oe&&h.clear(),y}),h=n.cache;return n}function bg(i,n){var h=i[1],y=n[1],z=h|y,G=z<(ie|fe|Pe),ne=y==Pe&&h==he||y==Pe&&h==Je&&i[7].length<=n[8]||y==(Pe|Je)&&n[7].length<=n[8]&&h==he;if(!(G||ne))return i;y&ie&&(i[2]=n[2],z|=h&ie?0:ve);var ce=n[3];if(ce){var _e=i[3];i[3]=_e?Yh(_e,ce,n[4]):ce,i[4]=_e?Rn(i[3],le):n[4]}return ce=n[5],ce&&(_e=i[5],i[5]=_e?jh(_e,ce,n[6]):ce,i[6]=_e?Rn(i[5],le):n[6]),ce=n[7],ce&&(i[7]=ce),y&Pe&&(i[8]=i[8]==null?n[8]:Qi(i[8],n[8])),i[9]==null&&(i[9]=n[9]),i[0]=n[0],i[1]=z,i}function yg(i){var n=[];if(i!=null)for(var h in et(i))n.push(h);return n}function wg(i){return so.call(i)}function pc(i,n,h){return n=Di(n===a?i.length-1:n,0),function(){for(var y=arguments,z=-1,G=Di(y.length-n,0),ne=Ce(G);++z<G;)ne[z]=y[n+z];z=-1;for(var ce=Ce(n+1);++z<n;)ce[z]=y[z];return ce[n]=h(ne),ti(i,this,ce)}}function gc(i,n){return n.length<2?i:hs(i,Tn(n,0,-1))}function xg(i,n){for(var h=i.length,y=Qi(n.length,h),z=hn(i);y--;){var G=n[y];i[y]=_r(G,h)?z[G]:a}return i}function ol(i,n){if(!(n==="constructor"&&typeof i[n]=="function")&&n!="__proto__")return i[n]}var mc=_c(zh),Ea=Fd||function(i,n){return Bi.setTimeout(i,n)},ul=_c(Gp);function vc(i,n,h){var y=n+"";return ul(i,dg(y,Cg(hg(y),h)))}function _c(i){var n=0,h=0;return function(){var y=Ud(),z=Qe-(y-h);if(h=y,z>0){if(++n>=Ge)return arguments[0]}else n=0;return i.apply(a,arguments)}}function Po(i,n){var h=-1,y=i.length,z=y-1;for(n=n===a?y:n;++h<n;){var G=Wu(h,z),ne=i[G];i[G]=i[h],i[h]=ne}return i.length=n,i}var bc=_g(function(i){var n=[];return i.charCodeAt(0)===46&&n.push(""),i.replace(W,function(h,y,z,G){n.push(z?G.replace(Be,"$1"):y||h)}),n});function Xn(i){if(typeof i=="string"||yn(i))return i;var n=i+"";return n=="0"&&1/i==-yt?"-0":n}function fs(i){if(i!=null){try{return Ms.call(i)}catch(n){}try{return i+""}catch(n){}}return""}function Cg(i,n){return ji(Nt,function(h){var y="_."+h[0];n&h[1]&&!Es(i,y)&&i.push(y)}),i.sort()}function yc(i){if(i instanceof jt)return i.clone();var n=new En(i.__wrapped__,i.__chain__);return n.__actions__=hn(i.__actions__),n.__index__=i.__index__,n.__values__=i.__values__,n}function Sg(i,n,h){(h?rn(i,n,h):n===a)?n=1:n=Di(Ut(n),0);var y=i==null?0:i.length;if(!y||n<1)return[];for(var z=0,G=0,ne=Ce(co(y/n));z<y;)ne[G++]=Tn(i,z,z+=n);return ne}function Eg(i){for(var n=-1,h=i==null?0:i.length,y=0,z=[];++n<h;){var G=i[n];G&&(z[y++]=G)}return z}function Ag(){var i=arguments.length;if(!i)return[];for(var n=Ce(i-1),h=arguments[0],y=i;y--;)n[y-1]=arguments[y];return $n(Vt(h)?hn(h):[h],Ki(n,1))}var Tg=Gt(function(i,n){return ki(i)?ba(i,Ki(n,1,ki,!0)):[]}),kg=Gt(function(i,n){var h=kn(n);return ki(h)&&(h=a),ki(i)?ba(i,Ki(n,1,ki,!0),It(h,2)):[]}),Ig=Gt(function(i,n){var h=kn(n);return ki(h)&&(h=a),ki(i)?ba(i,Ki(n,1,ki,!0),a,h):[]});function Pg(i,n,h){var y=i==null?0:i.length;return y?(n=h||n===a?1:Ut(n),Tn(i,n<0?0:n,y)):[]}function Lg(i,n,h){var y=i==null?0:i.length;return y?(n=h||n===a?1:Ut(n),n=y-n,Tn(i,0,n<0?0:n)):[]}function Ng(i,n){return i&&i.length?xo(i,It(n,3),!0,!0):[]}function Og(i,n){return i&&i.length?xo(i,It(n,3),!0):[]}function Mg(i,n,h,y){var z=i==null?0:i.length;return z?(h&&typeof h!="number"&&rn(i,n,h)&&(h=0,y=z),Ap(i,n,h,y)):[]}function wc(i,n,h){var y=i==null?0:i.length;if(!y)return-1;var z=h==null?0:Ut(h);return z<0&&(z=Di(y+z,0)),As(i,It(n,3),z)}function xc(i,n,h){var y=i==null?0:i.length;if(!y)return-1;var z=y-1;return h!==a&&(z=Ut(h),z=h<0?Di(y+z,0):Qi(z,y-1)),As(i,It(n,3),z,!0)}function Cc(i){var n=i==null?0:i.length;return n?Ki(i,1):[]}function Rg(i){var n=i==null?0:i.length;return n?Ki(i,yt):[]}function Bg(i,n){var h=i==null?0:i.length;return h?(n=n===a?1:Ut(n),Ki(i,n)):[]}function Fg(i){for(var n=-1,h=i==null?0:i.length,y={};++n<h;){var z=i[n];y[z[0]]=z[1]}return y}function Sc(i){return i&&i.length?i[0]:a}function Dg(i,n,h){var y=i==null?0:i.length;if(!y)return-1;var z=h==null?0:Ut(h);return z<0&&(z=Di(y+z,0)),or(i,n,z)}function zg(i){var n=i==null?0:i.length;return n?Tn(i,0,-1):[]}var Vg=Gt(function(i){var n=di(i,Yu);return n.length&&n[0]===i[0]?zu(n):[]}),Ug=Gt(function(i){var n=kn(i),h=di(i,Yu);return n===kn(h)?n=a:h.pop(),h.length&&h[0]===i[0]?zu(h,It(n,2)):[]}),qg=Gt(function(i){var n=kn(i),h=di(i,Yu);return n=typeof n=="function"?n:a,n&&h.pop(),h.length&&h[0]===i[0]?zu(h,a,n):[]});function Hg(i,n){return i==null?"":zd.call(i,n)}function kn(i){var n=i==null?0:i.length;return n?i[n-1]:a}function Wg(i,n,h){var y=i==null?0:i.length;if(!y)return-1;var z=y;return h!==a&&(z=Ut(h),z=z<0?Di(y+z,0):Qi(z,y-1)),n===n?Tu(i,n,z):As(i,es,z,!0)}function Gg(i,n){return i&&i.length?Rh(i,Ut(n)):a}var $g=Gt(Ec);function Ec(i,n){return i&&i.length&&n&&n.length?Hu(i,n):i}function Kg(i,n,h){return i&&i.length&&n&&n.length?Hu(i,n,It(h,2)):i}function Zg(i,n,h){return i&&i.length&&n&&n.length?Hu(i,n,a,h):i}var Yg=vr(function(i,n){var h=i==null?0:i.length,y=Ru(i,n);return Dh(i,di(n,function(z){return _r(z,h)?+z:z}).sort(Zh)),y});function jg(i,n){var h=[];if(!(i&&i.length))return h;var y=-1,z=[],G=i.length;for(n=It(n,3);++y<G;){var ne=i[y];n(ne,y,i)&&(h.push(ne),z.push(y))}return Dh(i,z),h}function ll(i){return i==null?i:Hd.call(i)}function Xg(i,n,h){var y=i==null?0:i.length;return y?(h&&typeof h!="number"&&rn(i,n,h)?(n=0,h=y):(n=n==null?0:Ut(n),h=h===a?y:Ut(h)),Tn(i,n,h)):[]}function Qg(i,n){return wo(i,n)}function Jg(i,n,h){return $u(i,n,It(h,2))}function em(i,n){var h=i==null?0:i.length;if(h){var y=wo(i,n);if(y<h&&Fn(i[y],n))return y}return-1}function tm(i,n){return wo(i,n,!0)}function im(i,n,h){return $u(i,n,It(h,2),!0)}function nm(i,n){var h=i==null?0:i.length;if(h){var y=wo(i,n,!0)-1;if(Fn(i[y],n))return y}return-1}function rm(i){return i&&i.length?Vh(i):[]}function sm(i,n){return i&&i.length?Vh(i,It(n,2)):[]}function am(i){var n=i==null?0:i.length;return n?Tn(i,1,n):[]}function om(i,n,h){return i&&i.length?(n=h||n===a?1:Ut(n),Tn(i,0,n<0?0:n)):[]}function um(i,n,h){var y=i==null?0:i.length;return y?(n=h||n===a?1:Ut(n),n=y-n,Tn(i,n<0?0:n,y)):[]}function lm(i,n){return i&&i.length?xo(i,It(n,3),!1,!0):[]}function hm(i,n){return i&&i.length?xo(i,It(n,3)):[]}var cm=Gt(function(i){return Br(Ki(i,1,ki,!0))}),fm=Gt(function(i){var n=kn(i);return ki(n)&&(n=a),Br(Ki(i,1,ki,!0),It(n,2))}),dm=Gt(function(i){var n=kn(i);return n=typeof n=="function"?n:a,Br(Ki(i,1,ki,!0),a,n)});function pm(i){return i&&i.length?Br(i):[]}function gm(i,n){return i&&i.length?Br(i,It(n,2)):[]}function mm(i,n){return n=typeof n=="function"?n:a,i&&i.length?Br(i,a,n):[]}function hl(i){if(!(i&&i.length))return[];var n=0;return i=Gn(i,function(h){if(ki(h))return n=Di(h.length,n),!0}),Ps(n,function(h){return di(i,Ts(h))})}function Ac(i,n){if(!(i&&i.length))return[];var h=hl(i);return n==null?h:di(h,function(y){return ti(n,a,y)})}var vm=Gt(function(i,n){return ki(i)?ba(i,n):[]}),_m=Gt(function(i){return Zu(Gn(i,ki))}),bm=Gt(function(i){var n=kn(i);return ki(n)&&(n=a),Zu(Gn(i,ki),It(n,2))}),ym=Gt(function(i){var n=kn(i);return n=typeof n=="function"?n:a,Zu(Gn(i,ki),a,n)}),wm=Gt(hl);function xm(i,n){return Wh(i||[],n||[],_a)}function Cm(i,n){return Wh(i||[],n||[],xa)}var Sm=Gt(function(i){var n=i.length,h=n>1?i[n-1]:a;return h=typeof h=="function"?(i.pop(),h):a,Ac(i,h)});function Tc(i){var n=H(i);return n.__chain__=!0,n}function Em(i,n){return n(i),i}function Lo(i,n){return n(i)}var Am=vr(function(i){var n=i.length,h=n?i[0]:0,y=this.__wrapped__,z=function(G){return Ru(G,i)};return n>1||this.__actions__.length||!(y instanceof jt)||!_r(h)?this.thru(z):(y=y.slice(h,+h+(n?1:0)),y.__actions__.push({func:Lo,args:[z],thisArg:a}),new En(y,this.__chain__).thru(function(G){return n&&!G.length&&G.push(a),G}))});function Tm(){return Tc(this)}function km(){return new En(this.value(),this.__chain__)}function Im(){this.__values__===a&&(this.__values__=Uc(this.value()));var i=this.__index__>=this.__values__.length,n=i?a:this.__values__[this.__index__++];return{done:i,value:n}}function Pm(){return this}function Lm(i){for(var n,h=this;h instanceof mo;){var y=yc(h);y.__index__=0,y.__values__=a,n?z.__wrapped__=y:n=y;var z=y;h=h.__wrapped__}return z.__wrapped__=i,n}function Nm(){var i=this.__wrapped__;if(i instanceof jt){var n=i;return this.__actions__.length&&(n=new jt(this)),n=n.reverse(),n.__actions__.push({func:Lo,args:[ll],thisArg:a}),new En(n,this.__chain__)}return this.thru(ll)}function Om(){return Hh(this.__wrapped__,this.__actions__)}var Mm=Co(function(i,n,h){ai.call(i,h)?++i[h]:gr(i,h,1)});function Rm(i,n,h){var y=Vt(i)?no:Ep;return h&&rn(i,n,h)&&(n=a),y(i,It(n,3))}function Bm(i,n){var h=Vt(i)?Gn:Ah;return h(i,It(n,3))}var Fm=ec(wc),Dm=ec(xc);function zm(i,n){return Ki(No(i,n),1)}function Vm(i,n){return Ki(No(i,n),yt)}function Um(i,n,h){return h=h===a?1:Ut(h),Ki(No(i,n),h)}function kc(i,n){var h=Vt(i)?ji:Rr;return h(i,It(n,3))}function Ic(i,n){var h=Vt(i)?Pr:Eh;return h(i,It(n,3))}var qm=Co(function(i,n,h){ai.call(i,h)?i[h].push(n):gr(i,h,[n])});function Hm(i,n,h,y){i=cn(i)?i:qs(i),h=h&&!y?Ut(h):0;var z=i.length;return h<0&&(h=Di(z+h,0)),Fo(i)?h<=z&&i.indexOf(n,h)>-1:!!z&&or(i,n,h)>-1}var Wm=Gt(function(i,n,h){var y=-1,z=typeof n=="function",G=cn(i)?Ce(i.length):[];return Rr(i,function(ne){G[++y]=z?ti(n,ne,h):ya(ne,n,h)}),G}),Gm=Co(function(i,n,h){gr(i,h,n)});function No(i,n){var h=Vt(i)?di:Nh;return h(i,It(n,3))}function $m(i,n,h,y){return i==null?[]:(Vt(n)||(n=n==null?[]:[n]),h=y?a:h,Vt(h)||(h=h==null?[]:[h]),Bh(i,n,h))}var Km=Co(function(i,n,h){i[h?0:1].push(n)},function(){return[[],[]]});function Zm(i,n,h){var y=Vt(i)?oa:Yt,z=arguments.length<3;return y(i,It(n,4),h,z,Rr)}function Ym(i,n,h){var y=Vt(i)?Su:Yt,z=arguments.length<3;return y(i,It(n,4),h,z,Eh)}function jm(i,n){var h=Vt(i)?Gn:Ah;return h(i,Ro(It(n,3)))}function Xm(i){var n=Vt(i)?wh:Hp;return n(i)}function Qm(i,n,h){(h?rn(i,n,h):n===a)?n=1:n=Ut(n);var y=Vt(i)?yp:Wp;return y(i,n)}function Jm(i){var n=Vt(i)?wp:$p;return n(i)}function e0(i){if(i==null)return 0;if(cn(i))return Fo(i)?Or(i):i.length;var n=Ji(i);return n==St||n==gt?i.size:Uu(i).length}function t0(i,n,h){var y=Vt(i)?ua:Kp;return h&&rn(i,n,h)&&(n=a),y(i,It(n,3))}var i0=Gt(function(i,n){if(i==null)return[];var h=n.length;return h>1&&rn(i,n[0],n[1])?n=[]:h>2&&rn(n[0],n[1],n[2])&&(n=[n[0]]),Bh(i,Ki(n,1),[])}),Oo=Bd||function(){return Bi.Date.now()};function n0(i,n){if(typeof n!="function")throw new zt(P);return i=Ut(i),function(){if(--i<1)return n.apply(this,arguments)}}function Pc(i,n,h){return n=h?a:n,n=i&&n==null?i.length:n,mr(i,Pe,a,a,a,a,n)}function Lc(i,n){var h;if(typeof n!="function")throw new zt(P);return i=Ut(i),function(){return--i>0&&(h=n.apply(this,arguments)),i<=1&&(n=a),h}}var cl=Gt(function(i,n,h){var y=ie;if(h.length){var z=Rn(h,Vs(cl));y|=Ee}return mr(i,y,n,h,z)}),Nc=Gt(function(i,n,h){var y=ie|fe;if(h.length){var z=Rn(h,Vs(Nc));y|=Ee}return mr(n,y,i,h,z)});function Oc(i,n,h){n=h?a:n;var y=mr(i,he,a,a,a,a,a,n);return y.placeholder=Oc.placeholder,y}function Mc(i,n,h){n=h?a:n;var y=mr(i,Ae,a,a,a,a,a,n);return y.placeholder=Mc.placeholder,y}function Rc(i,n,h){var y,z,G,ne,ce,_e,Re=0,Fe=!1,qe=!1,st=!0;if(typeof i!="function")throw new zt(P);n=In(n)||0,bi(h)&&(Fe=!!h.leading,qe="maxWait"in h,G=qe?Di(In(h.maxWait)||0,n):G,st="trailing"in h?!!h.trailing:st);function vt(Ii){var Dn=y,wr=z;return y=z=a,Re=Ii,ne=i.apply(wr,Dn),ne}function Pt(Ii){return Re=Ii,ce=Ea(Zt,n),Fe?vt(Ii):ne}function Wt(Ii){var Dn=Ii-_e,wr=Ii-Re,ef=n-Dn;return qe?Qi(ef,G-wr):ef}function Lt(Ii){var Dn=Ii-_e,wr=Ii-Re;return _e===a||Dn>=n||Dn<0||qe&&wr>=G}function Zt(){var Ii=Oo();if(Lt(Ii))return Xt(Ii);ce=Ea(Zt,Wt(Ii))}function Xt(Ii){return ce=a,st&&y?vt(Ii):(y=z=a,ne)}function wn(){ce!==a&&Gh(ce),Re=0,y=_e=z=ce=a}function sn(){return ce===a?ne:Xt(Oo())}function xn(){var Ii=Oo(),Dn=Lt(Ii);if(y=arguments,z=this,_e=Ii,Dn){if(ce===a)return Pt(_e);if(qe)return Gh(ce),ce=Ea(Zt,n),vt(_e)}return ce===a&&(ce=Ea(Zt,n)),ne}return xn.cancel=wn,xn.flush=sn,xn}var r0=Gt(function(i,n){return Sh(i,1,n)}),s0=Gt(function(i,n,h){return Sh(i,In(n)||0,h)});function a0(i){return mr(i,Xe)}function Mo(i,n){if(typeof i!="function"||n!=null&&typeof n!="function")throw new zt(P);var h=function(){var y=arguments,z=n?n.apply(this,y):y[0],G=h.cache;if(G.has(z))return G.get(z);var ne=i.apply(this,y);return h.cache=G.set(z,ne)||G,ne};return h.cache=new(Mo.Cache||pr),h}Mo.Cache=pr;function Ro(i){if(typeof i!="function")throw new zt(P);return function(){var n=arguments;switch(n.length){case 0:return!i.call(this);case 1:return!i.call(this,n[0]);case 2:return!i.call(this,n[0],n[1]);case 3:return!i.call(this,n[0],n[1],n[2])}return!i.apply(this,n)}}function o0(i){return Lc(2,i)}var u0=Zp(function(i,n){n=n.length==1&&Vt(n[0])?di(n[0],wt(It())):di(Ki(n,1),wt(It()));var h=n.length;return Gt(function(y){for(var z=-1,G=Qi(y.length,h);++z<G;)y[z]=n[z].call(this,y[z]);return ti(i,this,y)})}),fl=Gt(function(i,n){var h=Rn(n,Vs(fl));return mr(i,Ee,a,n,h)}),Bc=Gt(function(i,n){var h=Rn(n,Vs(Bc));return mr(i,O,a,n,h)}),l0=vr(function(i,n){return mr(i,Je,a,a,a,n)});function h0(i,n){if(typeof i!="function")throw new zt(P);return n=n===a?n:Ut(n),Gt(i,n)}function c0(i,n){if(typeof i!="function")throw new zt(P);return n=n==null?0:Di(Ut(n),0),Gt(function(h){var y=h[n],z=Dr(h,0,n);return y&&$n(z,y),ti(i,this,z)})}function f0(i,n,h){var y=!0,z=!0;if(typeof i!="function")throw new zt(P);return bi(h)&&(y="leading"in h?!!h.leading:y,z="trailing"in h?!!h.trailing:z),Rc(i,n,{leading:y,maxWait:n,trailing:z})}function d0(i){return Pc(i,1)}function p0(i,n){return fl(ju(n),i)}function g0(){if(!arguments.length)return[];var i=arguments[0];return Vt(i)?i:[i]}function m0(i){return An(i,D)}function v0(i,n){return n=typeof n=="function"?n:a,An(i,D,n)}function _0(i){return An(i,ge|D)}function b0(i,n){return n=typeof n=="function"?n:a,An(i,ge|D,n)}function y0(i,n){return n==null||Ch(i,n,Wi(n))}function Fn(i,n){return i===n||i!==i&&n!==n}var w0=To(Du),x0=To(function(i,n){return i>=n}),ds=Ih(function(){return arguments}())?Ih:function(i){return Si(i)&&ai.call(i,"callee")&&!gh.call(i,"callee")},Vt=Ce.isArray,C0=Qr?wt(Qr):Lp;function cn(i){return i!=null&&Bo(i.length)&&!br(i)}function ki(i){return Si(i)&&cn(i)}function S0(i){return i===!0||i===!1||Si(i)&&nn(i)==Dt}var zr=Dd||Cl,E0=sr?wt(sr):Np;function A0(i){return Si(i)&&i.nodeType===1&&!Aa(i)}function T0(i){if(i==null)return!0;if(cn(i)&&(Vt(i)||typeof i=="string"||typeof i.splice=="function"||zr(i)||Us(i)||ds(i)))return!i.length;var n=Ji(i);if(n==St||n==gt)return!i.size;if(Sa(i))return!Uu(i).length;for(var h in i)if(ai.call(i,h))return!1;return!0}function k0(i,n){return wa(i,n)}function I0(i,n,h){h=typeof h=="function"?h:a;var y=h?h(i,n):a;return y===a?wa(i,n,a,h):!!y}function dl(i){if(!Si(i))return!1;var n=nn(i);return n==$t||n==Mt||typeof i.message=="string"&&typeof i.name=="string"&&!Aa(i)}function P0(i){return typeof i=="number"&&vh(i)}function br(i){if(!bi(i))return!1;var n=nn(i);return n==Li||n==ot||n==Ct||n==mn}function Fc(i){return typeof i=="number"&&i==Ut(i)}function Bo(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=Me}function bi(i){var n=typeof i;return i!=null&&(n=="object"||n=="function")}function Si(i){return i!=null&&typeof i=="object"}var Dc=Jr?wt(Jr):Mp;function L0(i,n){return i===n||Vu(i,n,nl(n))}function N0(i,n,h){return h=typeof h=="function"?h:a,Vu(i,n,nl(n),h)}function O0(i){return zc(i)&&i!=+i}function M0(i){if(vg(i))throw new te(v);return Ph(i)}function R0(i){return i===null}function B0(i){return i==null}function zc(i){return typeof i=="number"||Si(i)&&nn(i)==Kt}function Aa(i){if(!Si(i)||nn(i)!=wi)return!1;var n=uo(i);if(n===null)return!0;var h=ai.call(n,"constructor")&&n.constructor;return typeof h=="function"&&h instanceof h&&Ms.call(h)==Nd}var pl=ra?wt(ra):Rp;function F0(i){return Fc(i)&&i>=-Me&&i<=Me}var Vc=Wn?wt(Wn):Bp;function Fo(i){return typeof i=="string"||!Vt(i)&&Si(i)&&nn(i)==Ni}function yn(i){return typeof i=="symbol"||Si(i)&&nn(i)==ft}var Us=sa?wt(sa):Fp;function D0(i){return i===a}function z0(i){return Si(i)&&Ji(i)==Ue}function V0(i){return Si(i)&&nn(i)==e}var U0=To(qu),q0=To(function(i,n){return i<=n});function Uc(i){if(!i)return[];if(cn(i))return Fo(i)?tn(i):hn(i);if(da&&i[da])return ns(i[da]());var n=Ji(i),h=n==St?lr:n==gt?rs:qs;return h(i)}function yr(i){if(!i)return i===0?i:0;if(i=In(i),i===yt||i===-yt){var n=i<0?-1:1;return n*xe}return i===i?i:0}function Ut(i){var n=yr(i),h=n%1;return n===n?h?n-h:n:0}function qc(i){return i?ls(Ut(i),0,Ke):0}function In(i){if(typeof i=="number")return i;if(yn(i))return Ie;if(bi(i)){var n=typeof i.valueOf=="function"?i.valueOf():i;i=bi(n)?n+"":n}if(typeof i!="string")return i===0?i:+i;i=On(i);var h=ke.test(i);return h||Ye.test(i)?xu(i.slice(2),h?2:8):tt.test(i)?Ie:+i}function Hc(i){return jn(i,fn(i))}function H0(i){return i?ls(Ut(i),-Me,Me):i===0?i:0}function ni(i){return i==null?"":bn(i)}var W0=Ds(function(i,n){if(Sa(n)||cn(n)){jn(n,Wi(n),i);return}for(var h in n)ai.call(n,h)&&_a(i,h,n[h])}),Wc=Ds(function(i,n){jn(n,fn(n),i)}),Do=Ds(function(i,n,h,y){jn(n,fn(n),i,y)}),G0=Ds(function(i,n,h,y){jn(n,Wi(n),i,y)}),$0=vr(Ru);function K0(i,n){var h=Fs(i);return n==null?h:xh(h,n)}var Z0=Gt(function(i,n){i=et(i);var h=-1,y=n.length,z=y>2?n[2]:a;for(z&&rn(n[0],n[1],z)&&(y=1);++h<y;)for(var G=n[h],ne=fn(G),ce=-1,_e=ne.length;++ce<_e;){var Re=ne[ce],Fe=i[Re];(Fe===a||Fn(Fe,Zn[Re])&&!ai.call(i,Re))&&(i[Re]=G[Re])}return i}),Y0=Gt(function(i){return i.push(a,oc),ti(Gc,a,i)});function j0(i,n){return Lr(i,It(n,3),Yn)}function X0(i,n){return Lr(i,It(n,3),Fu)}function Q0(i,n){return i==null?i:Bu(i,It(n,3),fn)}function J0(i,n){return i==null?i:Th(i,It(n,3),fn)}function ev(i,n){return i&&Yn(i,It(n,3))}function tv(i,n){return i&&Fu(i,It(n,3))}function iv(i){return i==null?[]:bo(i,Wi(i))}function nv(i){return i==null?[]:bo(i,fn(i))}function gl(i,n,h){var y=i==null?a:hs(i,n);return y===a?h:y}function rv(i,n){return i!=null&&hc(i,n,Tp)}function ml(i,n){return i!=null&&hc(i,n,kp)}var sv=ic(function(i,n,h){n!=null&&typeof n.toString!="function"&&(n=so.call(n)),i[n]=h},_l(dn)),av=ic(function(i,n,h){n!=null&&typeof n.toString!="function"&&(n=so.call(n)),ai.call(i,n)?i[n].push(h):i[n]=[h]},It),ov=Gt(ya);function Wi(i){return cn(i)?yh(i):Uu(i)}function fn(i){return cn(i)?yh(i,!0):Dp(i)}function uv(i,n){var h={};return n=It(n,3),Yn(i,function(y,z,G){gr(h,n(y,z,G),y)}),h}function lv(i,n){var h={};return n=It(n,3),Yn(i,function(y,z,G){gr(h,z,n(y,z,G))}),h}var hv=Ds(function(i,n,h){yo(i,n,h)}),Gc=Ds(function(i,n,h,y){yo(i,n,h,y)}),cv=vr(function(i,n){var h={};if(i==null)return h;var y=!1;n=di(n,function(G){return G=Fr(G,i),y||(y=G.length>1),G}),jn(i,tl(i),h),y&&(h=An(h,ge|Z|D,sg));for(var z=n.length;z--;)Ku(h,n[z]);return h});function fv(i,n){return $c(i,Ro(It(n)))}var dv=vr(function(i,n){return i==null?{}:Vp(i,n)});function $c(i,n){if(i==null)return{};var h=di(tl(i),function(y){return[y]});return n=It(n),Fh(i,h,function(y,z){return n(y,z[0])})}function pv(i,n,h){n=Fr(n,i);var y=-1,z=n.length;for(z||(z=1,i=a);++y<z;){var G=i==null?a:i[Xn(n[y])];G===a&&(y=z,G=h),i=br(G)?G.call(i):G}return i}function gv(i,n,h){return i==null?i:xa(i,n,h)}function mv(i,n,h,y){return y=typeof y=="function"?y:a,i==null?i:xa(i,n,h,y)}var Kc=sc(Wi),Zc=sc(fn);function vv(i,n,h){var y=Vt(i),z=y||zr(i)||Us(i);if(n=It(n,4),h==null){var G=i&&i.constructor;z?h=y?new G:[]:bi(i)?h=br(G)?Fs(uo(i)):{}:h={}}return(z?ji:Yn)(i,function(ne,ce,_e){return n(h,ne,ce,_e)}),h}function _v(i,n){return i==null?!0:Ku(i,n)}function bv(i,n,h){return i==null?i:qh(i,n,ju(h))}function yv(i,n,h,y){return y=typeof y=="function"?y:a,i==null?i:qh(i,n,ju(h),y)}function qs(i){return i==null?[]:ts(i,Wi(i))}function wv(i){return i==null?[]:ts(i,fn(i))}function xv(i,n,h){return h===a&&(h=n,n=a),h!==a&&(h=In(h),h=h===h?h:0),n!==a&&(n=In(n),n=n===n?n:0),ls(In(i),n,h)}function Cv(i,n,h){return n=yr(n),h===a?(h=n,n=0):h=yr(h),i=In(i),Ip(i,n,h)}function Sv(i,n,h){if(h&&typeof h!="boolean"&&rn(i,n,h)&&(n=h=a),h===a&&(typeof n=="boolean"?(h=n,n=a):typeof i=="boolean"&&(h=i,i=a)),i===a&&n===a?(i=0,n=1):(i=yr(i),n===a?(n=i,i=0):n=yr(n)),i>n){var y=i;i=n,n=y}if(h||i%1||n%1){var z=_h();return Qi(i+z*(n-i+wu("1e-"+((z+"").length-1))),n)}return Wu(i,n)}var Ev=zs(function(i,n,h){return n=n.toLowerCase(),i+(h?Yc(n):n)});function Yc(i){return vl(ni(i).toLowerCase())}function jc(i){return i=ni(i),i&&i.replace(nt,Mn).replace(Ja,"")}function Av(i,n,h){i=ni(i),n=bn(n);var y=i.length;h=h===a?y:ls(Ut(h),0,y);var z=h;return h-=n.length,h>=0&&i.slice(h,z)==n}function Tv(i){return i=ni(i),i&&N.test(i)?i.replace(R,Ls):i}function kv(i){return i=ni(i),i&&J.test(i)?i.replace(j,"\\$&"):i}var Iv=zs(function(i,n,h){return i+(h?"-":"")+n.toLowerCase()}),Pv=zs(function(i,n,h){return i+(h?" ":"")+n.toLowerCase()}),Lv=Jh("toLowerCase");function Nv(i,n,h){i=ni(i),n=Ut(n);var y=n?Or(i):0;if(!n||y>=n)return i;var z=(n-y)/2;return Ao(fo(z),h)+i+Ao(co(z),h)}function Ov(i,n,h){i=ni(i),n=Ut(n);var y=n?Or(i):0;return n&&y<n?i+Ao(n-y,h):i}function Mv(i,n,h){i=ni(i),n=Ut(n);var y=n?Or(i):0;return n&&y<n?Ao(n-y,h)+i:i}function Rv(i,n,h){return h||n==null?n=0:n&&(n=+n),qd(ni(i).replace(re,""),n||0)}function Bv(i,n,h){return(h?rn(i,n,h):n===a)?n=1:n=Ut(n),Gu(ni(i),n)}function Fv(){var i=arguments,n=ni(i[0]);return i.length<3?n:n.replace(i[1],i[2])}var Dv=zs(function(i,n,h){return i+(h?"_":"")+n.toLowerCase()});function zv(i,n,h){return h&&typeof h!="number"&&rn(i,n,h)&&(n=h=a),h=h===a?Ke:h>>>0,h?(i=ni(i),i&&(typeof n=="string"||n!=null&&!pl(n))&&(n=bn(n),!n&&Nr(i))?Dr(tn(i),0,h):i.split(n,h)):[]}var Vv=zs(function(i,n,h){return i+(h?" ":"")+vl(n)});function Uv(i,n,h){return i=ni(i),h=h==null?0:ls(Ut(h),0,i.length),n=bn(n),i.slice(h,h+n.length)==n}function qv(i,n,h){var y=H.templateSettings;h&&rn(i,n,h)&&(n=a),i=ni(i),n=Do({},n,y,ac);var z=Do({},n.imports,y.imports,ac),G=Wi(z),ne=ts(z,G),ce,_e,Re=0,Fe=n.interpolate||_t,qe="__p += '",st=Tt((n.escape||_t).source+"|"+Fe.source+"|"+(Fe===B?$e:_t).source+"|"+(n.evaluate||_t).source+"|$","g"),vt="//# sourceURL="+(ai.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++_u+"]")+`
`;i.replace(st,function(Lt,Zt,Xt,wn,sn,xn){return Xt||(Xt=wn),qe+=i.slice(Re,xn).replace(ze,Au),Zt&&(ce=!0,qe+=`' +
__e(`+Zt+`) +
'`),sn&&(_e=!0,qe+=`';
`+sn+`;
__p += '`),Xt&&(qe+=`' +
((__t = (`+Xt+`)) == null ? '' : __t) +
'`),Re=xn+Lt.length,Lt}),qe+=`';
`;var Pt=ai.call(n,"variable")&&n.variable;if(!Pt)qe=`with (obj) {
`+qe+`
}
`;else if(we.test(Pt))throw new te(q);qe=(_e?qe.replace(S,""):qe).replace(x,"$1").replace(M,"$1;"),qe="function("+(Pt||"obj")+`) {
`+(Pt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ce?", __e = _.escape":"")+(_e?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+qe+`return __p
}`;var Wt=Qc(function(){return be(G,vt+"return "+qe).apply(a,ne)});if(Wt.source=qe,dl(Wt))throw Wt;return Wt}function Hv(i){return ni(i).toLowerCase()}function Wv(i){return ni(i).toUpperCase()}function Gv(i,n,h){if(i=ni(i),i&&(h||n===a))return On(i);if(!i||!(n=bn(n)))return i;var y=tn(i),z=tn(n),G=is(y,z),ne=Kn(y,z)+1;return Dr(y,G,ne).join("")}function $v(i,n,h){if(i=ni(i),i&&(h||n===a))return i.slice(0,Os(i)+1);if(!i||!(n=bn(n)))return i;var y=tn(i),z=Kn(y,tn(n))+1;return Dr(y,0,z).join("")}function Kv(i,n,h){if(i=ni(i),i&&(h||n===a))return i.replace(re,"");if(!i||!(n=bn(n)))return i;var y=tn(i),z=is(y,tn(n));return Dr(y,z).join("")}function Zv(i,n){var h=ht,y=We;if(bi(n)){var z="separator"in n?n.separator:z;h="length"in n?Ut(n.length):h,y="omission"in n?bn(n.omission):y}i=ni(i);var G=i.length;if(Nr(i)){var ne=tn(i);G=ne.length}if(h>=G)return i;var ce=h-Or(y);if(ce<1)return y;var _e=ne?Dr(ne,0,ce).join(""):i.slice(0,ce);if(z===a)return _e+y;if(ne&&(ce+=_e.length-ce),pl(z)){if(i.slice(ce).search(z)){var Re,Fe=_e;for(z.global||(z=Tt(z.source,ni(Ze.exec(z))+"g")),z.lastIndex=0;Re=z.exec(Fe);)var qe=Re.index;_e=_e.slice(0,qe===a?ce:qe)}}else if(i.indexOf(bn(z),ce)!=ce){var st=_e.lastIndexOf(z);st>-1&&(_e=_e.slice(0,st))}return _e+y}function Yv(i){return i=ni(i),i&&C.test(i)?i.replace(k,ku):i}var jv=zs(function(i,n,h){return i+(h?" ":"")+n.toUpperCase()}),vl=Jh("toUpperCase");function Xc(i,n,h){return i=ni(i),n=h?a:n,n===a?_n(i)?Iu(i):ro(i):i.match(n)||[]}var Qc=Gt(function(i,n){try{return ti(i,a,n)}catch(h){return dl(h)?h:new te(h)}}),Xv=vr(function(i,n){return ji(n,function(h){h=Xn(h),gr(i,h,cl(i[h],i))}),i});function Qv(i){var n=i==null?0:i.length,h=It();return i=n?di(i,function(y){if(typeof y[1]!="function")throw new zt(P);return[h(y[0]),y[1]]}):[],Gt(function(y){for(var z=-1;++z<n;){var G=i[z];if(ti(G[0],this,y))return ti(G[1],this,y)}})}function Jv(i){return Sp(An(i,ge))}function _l(i){return function(){return i}}function e_(i,n){return i==null||i!==i?n:i}var t_=tc(),i_=tc(!0);function dn(i){return i}function bl(i){return Lh(typeof i=="function"?i:An(i,ge))}function n_(i){return Oh(An(i,ge))}function r_(i,n){return Mh(i,An(n,ge))}var s_=Gt(function(i,n){return function(h){return ya(h,i,n)}}),a_=Gt(function(i,n){return function(h){return ya(i,h,n)}});function yl(i,n,h){var y=Wi(n),z=bo(n,y);h==null&&!(bi(n)&&(z.length||!y.length))&&(h=n,n=i,i=this,z=bo(n,Wi(n)));var G=!(bi(h)&&"chain"in h)||!!h.chain,ne=br(i);return ji(z,function(ce){var _e=n[ce];i[ce]=_e,ne&&(i.prototype[ce]=function(){var Re=this.__chain__;if(G||Re){var Fe=i(this.__wrapped__),qe=Fe.__actions__=hn(this.__actions__);return qe.push({func:_e,args:arguments,thisArg:i}),Fe.__chain__=Re,Fe}return _e.apply(i,$n([this.value()],arguments))})}),i}function o_(){return Bi._===this&&(Bi._=Od),this}function wl(){}function u_(i){return i=Ut(i),Gt(function(n){return Rh(n,i)})}var l_=Qu(di),h_=Qu(no),c_=Qu(ua);function Jc(i){return sl(i)?Ts(Xn(i)):Up(i)}function f_(i){return function(n){return i==null?a:hs(i,n)}}var d_=nc(),p_=nc(!0);function xl(){return[]}function Cl(){return!1}function g_(){return{}}function m_(){return""}function v_(){return!0}function __(i,n){if(i=Ut(i),i<1||i>Me)return[];var h=Ke,y=Qi(i,Ke);n=It(n),i-=Ke;for(var z=Ps(y,n);++h<i;)n(h);return z}function b_(i){return Vt(i)?di(i,Xn):yn(i)?[i]:hn(bc(ni(i)))}function y_(i){var n=++Ld;return ni(i)+n}var w_=Eo(function(i,n){return i+n},0),x_=Ju("ceil"),C_=Eo(function(i,n){return i/n},1),S_=Ju("floor");function E_(i){return i&&i.length?_o(i,dn,Du):a}function A_(i,n){return i&&i.length?_o(i,It(n,2),Du):a}function T_(i){return ur(i,dn)}function k_(i,n){return ur(i,It(n,2))}function I_(i){return i&&i.length?_o(i,dn,qu):a}function P_(i,n){return i&&i.length?_o(i,It(n,2),qu):a}var L_=Eo(function(i,n){return i*n},1),N_=Ju("round"),O_=Eo(function(i,n){return i-n},0);function M_(i){return i&&i.length?Is(i,dn):0}function R_(i,n){return i&&i.length?Is(i,It(n,2)):0}return H.after=n0,H.ary=Pc,H.assign=W0,H.assignIn=Wc,H.assignInWith=Do,H.assignWith=G0,H.at=$0,H.before=Lc,H.bind=cl,H.bindAll=Xv,H.bindKey=Nc,H.castArray=g0,H.chain=Tc,H.chunk=Sg,H.compact=Eg,H.concat=Ag,H.cond=Qv,H.conforms=Jv,H.constant=_l,H.countBy=Mm,H.create=K0,H.curry=Oc,H.curryRight=Mc,H.debounce=Rc,H.defaults=Z0,H.defaultsDeep=Y0,H.defer=r0,H.delay=s0,H.difference=Tg,H.differenceBy=kg,H.differenceWith=Ig,H.drop=Pg,H.dropRight=Lg,H.dropRightWhile=Ng,H.dropWhile=Og,H.fill=Mg,H.filter=Bm,H.flatMap=zm,H.flatMapDeep=Vm,H.flatMapDepth=Um,H.flatten=Cc,H.flattenDeep=Rg,H.flattenDepth=Bg,H.flip=a0,H.flow=t_,H.flowRight=i_,H.fromPairs=Fg,H.functions=iv,H.functionsIn=nv,H.groupBy=qm,H.initial=zg,H.intersection=Vg,H.intersectionBy=Ug,H.intersectionWith=qg,H.invert=sv,H.invertBy=av,H.invokeMap=Wm,H.iteratee=bl,H.keyBy=Gm,H.keys=Wi,H.keysIn=fn,H.map=No,H.mapKeys=uv,H.mapValues=lv,H.matches=n_,H.matchesProperty=r_,H.memoize=Mo,H.merge=hv,H.mergeWith=Gc,H.method=s_,H.methodOf=a_,H.mixin=yl,H.negate=Ro,H.nthArg=u_,H.omit=cv,H.omitBy=fv,H.once=o0,H.orderBy=$m,H.over=l_,H.overArgs=u0,H.overEvery=h_,H.overSome=c_,H.partial=fl,H.partialRight=Bc,H.partition=Km,H.pick=dv,H.pickBy=$c,H.property=Jc,H.propertyOf=f_,H.pull=$g,H.pullAll=Ec,H.pullAllBy=Kg,H.pullAllWith=Zg,H.pullAt=Yg,H.range=d_,H.rangeRight=p_,H.rearg=l0,H.reject=jm,H.remove=jg,H.rest=h0,H.reverse=ll,H.sampleSize=Qm,H.set=gv,H.setWith=mv,H.shuffle=Jm,H.slice=Xg,H.sortBy=i0,H.sortedUniq=rm,H.sortedUniqBy=sm,H.split=zv,H.spread=c0,H.tail=am,H.take=om,H.takeRight=um,H.takeRightWhile=lm,H.takeWhile=hm,H.tap=Em,H.throttle=f0,H.thru=Lo,H.toArray=Uc,H.toPairs=Kc,H.toPairsIn=Zc,H.toPath=b_,H.toPlainObject=Hc,H.transform=vv,H.unary=d0,H.union=cm,H.unionBy=fm,H.unionWith=dm,H.uniq=pm,H.uniqBy=gm,H.uniqWith=mm,H.unset=_v,H.unzip=hl,H.unzipWith=Ac,H.update=bv,H.updateWith=yv,H.values=qs,H.valuesIn=wv,H.without=vm,H.words=Xc,H.wrap=p0,H.xor=_m,H.xorBy=bm,H.xorWith=ym,H.zip=wm,H.zipObject=xm,H.zipObjectDeep=Cm,H.zipWith=Sm,H.entries=Kc,H.entriesIn=Zc,H.extend=Wc,H.extendWith=Do,yl(H,H),H.add=w_,H.attempt=Qc,H.camelCase=Ev,H.capitalize=Yc,H.ceil=x_,H.clamp=xv,H.clone=m0,H.cloneDeep=_0,H.cloneDeepWith=b0,H.cloneWith=v0,H.conformsTo=y0,H.deburr=jc,H.defaultTo=e_,H.divide=C_,H.endsWith=Av,H.eq=Fn,H.escape=Tv,H.escapeRegExp=kv,H.every=Rm,H.find=Fm,H.findIndex=wc,H.findKey=j0,H.findLast=Dm,H.findLastIndex=xc,H.findLastKey=X0,H.floor=S_,H.forEach=kc,H.forEachRight=Ic,H.forIn=Q0,H.forInRight=J0,H.forOwn=ev,H.forOwnRight=tv,H.get=gl,H.gt=w0,H.gte=x0,H.has=rv,H.hasIn=ml,H.head=Sc,H.identity=dn,H.includes=Hm,H.indexOf=Dg,H.inRange=Cv,H.invoke=ov,H.isArguments=ds,H.isArray=Vt,H.isArrayBuffer=C0,H.isArrayLike=cn,H.isArrayLikeObject=ki,H.isBoolean=S0,H.isBuffer=zr,H.isDate=E0,H.isElement=A0,H.isEmpty=T0,H.isEqual=k0,H.isEqualWith=I0,H.isError=dl,H.isFinite=P0,H.isFunction=br,H.isInteger=Fc,H.isLength=Bo,H.isMap=Dc,H.isMatch=L0,H.isMatchWith=N0,H.isNaN=O0,H.isNative=M0,H.isNil=B0,H.isNull=R0,H.isNumber=zc,H.isObject=bi,H.isObjectLike=Si,H.isPlainObject=Aa,H.isRegExp=pl,H.isSafeInteger=F0,H.isSet=Vc,H.isString=Fo,H.isSymbol=yn,H.isTypedArray=Us,H.isUndefined=D0,H.isWeakMap=z0,H.isWeakSet=V0,H.join=Hg,H.kebabCase=Iv,H.last=kn,H.lastIndexOf=Wg,H.lowerCase=Pv,H.lowerFirst=Lv,H.lt=U0,H.lte=q0,H.max=E_,H.maxBy=A_,H.mean=T_,H.meanBy=k_,H.min=I_,H.minBy=P_,H.stubArray=xl,H.stubFalse=Cl,H.stubObject=g_,H.stubString=m_,H.stubTrue=v_,H.multiply=L_,H.nth=Gg,H.noConflict=o_,H.noop=wl,H.now=Oo,H.pad=Nv,H.padEnd=Ov,H.padStart=Mv,H.parseInt=Rv,H.random=Sv,H.reduce=Zm,H.reduceRight=Ym,H.repeat=Bv,H.replace=Fv,H.result=pv,H.round=N_,H.runInContext=me,H.sample=Xm,H.size=e0,H.snakeCase=Dv,H.some=t0,H.sortedIndex=Qg,H.sortedIndexBy=Jg,H.sortedIndexOf=em,H.sortedLastIndex=tm,H.sortedLastIndexBy=im,H.sortedLastIndexOf=nm,H.startCase=Vv,H.startsWith=Uv,H.subtract=O_,H.sum=M_,H.sumBy=R_,H.template=qv,H.times=__,H.toFinite=yr,H.toInteger=Ut,H.toLength=qc,H.toLower=Hv,H.toNumber=In,H.toSafeInteger=H0,H.toString=ni,H.toUpper=Wv,H.trim=Gv,H.trimEnd=$v,H.trimStart=Kv,H.truncate=Zv,H.unescape=Yv,H.uniqueId=y_,H.upperCase=jv,H.upperFirst=vl,H.each=kc,H.eachRight=Ic,H.first=Sc,yl(H,function(){var i={};return Yn(H,function(n,h){ai.call(H.prototype,h)||(i[h]=n)}),i}(),{chain:!1}),H.VERSION=f,ji(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){H[i].placeholder=H}),ji(["drop","take"],function(i,n){jt.prototype[i]=function(h){h=h===a?1:Di(Ut(h),0);var y=this.__filtered__&&!n?new jt(this):this.clone();return y.__filtered__?y.__takeCount__=Qi(h,y.__takeCount__):y.__views__.push({size:Qi(h,Ke),type:i+(y.__dir__<0?"Right":"")}),y},jt.prototype[i+"Right"]=function(h){return this.reverse()[i](h).reverse()}}),ji(["filter","map","takeWhile"],function(i,n){var h=n+1,y=h==Ve||h==Oe;jt.prototype[i]=function(z){var G=this.clone();return G.__iteratees__.push({iteratee:It(z,3),type:h}),G.__filtered__=G.__filtered__||y,G}}),ji(["head","last"],function(i,n){var h="take"+(n?"Right":"");jt.prototype[i]=function(){return this[h](1).value()[0]}}),ji(["initial","tail"],function(i,n){var h="drop"+(n?"":"Right");jt.prototype[i]=function(){return this.__filtered__?new jt(this):this[h](1)}}),jt.prototype.compact=function(){return this.filter(dn)},jt.prototype.find=function(i){return this.filter(i).head()},jt.prototype.findLast=function(i){return this.reverse().find(i)},jt.prototype.invokeMap=Gt(function(i,n){return typeof i=="function"?new jt(this):this.map(function(h){return ya(h,i,n)})}),jt.prototype.reject=function(i){return this.filter(Ro(It(i)))},jt.prototype.slice=function(i,n){i=Ut(i);var h=this;return h.__filtered__&&(i>0||n<0)?new jt(h):(i<0?h=h.takeRight(-i):i&&(h=h.drop(i)),n!==a&&(n=Ut(n),h=n<0?h.dropRight(-n):h.take(n-i)),h)},jt.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},jt.prototype.toArray=function(){return this.take(Ke)},Yn(jt.prototype,function(i,n){var h=/^(?:filter|find|map|reject)|While$/.test(n),y=/^(?:head|last)$/.test(n),z=H[y?"take"+(n=="last"?"Right":""):n],G=y||/^find/.test(n);!z||(H.prototype[n]=function(){var ne=this.__wrapped__,ce=y?[1]:arguments,_e=ne instanceof jt,Re=ce[0],Fe=_e||Vt(ne),qe=function(Zt){var Xt=z.apply(H,$n([Zt],ce));return y&&st?Xt[0]:Xt};Fe&&h&&typeof Re=="function"&&Re.length!=1&&(_e=Fe=!1);var st=this.__chain__,vt=!!this.__actions__.length,Pt=G&&!st,Wt=_e&&!vt;if(!G&&Fe){ne=Wt?ne:new jt(this);var Lt=i.apply(ne,ce);return Lt.__actions__.push({func:Lo,args:[qe],thisArg:a}),new En(Lt,st)}return Pt&&Wt?i.apply(this,ce):(Lt=this.thru(qe),Pt?y?Lt.value()[0]:Lt.value():Lt)})}),ji(["pop","push","shift","sort","splice","unshift"],function(i){var n=Xi[i],h=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",y=/^(?:pop|shift)$/.test(i);H.prototype[i]=function(){var z=arguments;if(y&&!this.__chain__){var G=this.value();return n.apply(Vt(G)?G:[],z)}return this[h](function(ne){return n.apply(Vt(ne)?ne:[],z)})}}),Yn(jt.prototype,function(i,n){var h=H[n];if(h){var y=h.name+"";ai.call(Bs,y)||(Bs[y]=[]),Bs[y].push({name:n,func:h})}}),Bs[So(a,fe).name]=[{name:"wrapper",func:a}],jt.prototype.clone=Yd,jt.prototype.reverse=jd,jt.prototype.value=Xd,H.prototype.at=Am,H.prototype.chain=Tm,H.prototype.commit=km,H.prototype.next=Im,H.prototype.plant=Lm,H.prototype.reverse=Nm,H.prototype.toJSON=H.prototype.valueOf=H.prototype.value=Om,H.prototype.first=H.prototype.head,da&&(H.prototype[da]=Pm),H},hr=Pu();Hn?((Hn.exports=hr)._=hr,na._=hr):Bi._=hr}).call(Vr)})($l,$l.exports);document.addEventListener("DOMContentLoaded",function(){class o{constructor(){if(o._instance)return o._instance;o._instance=this,this.elements={header:document.getElementById("hw_header"),logo:document.getElementById("hw_logo"),languageSelector:document.getElementById("hodworks_language_selector"),menu:document.getElementById("hodworks_menu"),menuButton:document.getElementById("hodworks_menu_button"),main:document.getElementById("hw_main"),piecesCurrentContainer:document.getElementById("hw_pieces_current_container"),piecesCurrentImageContainer:document.getElementById("hw_pieces_current_image_container"),piecesCurrentTitle:document.getElementById("hw_pieces_current_title"),piecesPastContainer:document.getElementById("hw_pieces_past_container"),piecesPastImageContainer:document.getElementById("hw_pieces_past_image_container"),piecesPastTitle:document.getElementById("hw_pieces_past_title"),companyYearList:document.getElementById("hw_company_list"),companyTextContainer:document.getElementById("hw_company_text_container"),companyTextContainerAlt:document.getElementById("hw_company_text_container_alt"),calendarYearsList:document.getElementById("hw_calendar_years"),calendarTablesContainer:document.getElementById("hw_calendar_tables"),headerCanvasContainer:document.getElementById("hw_canvas_container"),headerCanvas:document.getElementById("hw_canvas"),singlePieceGalleriesContainer:document.getElementById("hw_single_piece_galleries_container"),singlePieceGallery:document.getElementById("hw_single_piece_gallery"),singlePieceGalleryList:document.getElementById("hw_single_piece_gallery_list"),singlePieceThumbnailGallery:document.getElementById("hw_single_piece_thumbnail_gallery"),singlePieceThumbnailGalleryList:document.getElementById("hw_single_piece_thumbnail_gallery_list"),singlePieceVideosContainer:document.getElementById("hw_single_piece_videos_container"),singlePieceInfoContainer:document.getElementById("hw_background_info_container"),singlePieceSubContents:document.querySelectorAll(".c-piece__sub-content"),singlePieceVideoButton:document.getElementById("hw_single_piece_video_button"),singlePieceGalleryButton:document.getElementById("hw_single_piece_gallery_button"),singlePieceInfoButton:document.getElementById("hw_single_piece_background_info_button"),splashScreenContainer:document.getElementById("hw_splash_screen"),splashScreenVideo:document.getElementById("hw_splash_screen_video"),splashScreenCanvas:document.getElementById("hw_splash_screen_canvas"),hodPageCvButton:document.getElementById("hw_hod_cv_button"),hodPageWorksButton:document.getElementById("hw_hod_works_button"),hodPageContent:document.getElementById("hw_hod_content"),hodPageCv:document.getElementById("hw_hod_cv"),hodPageWorks:document.getElementById("hw_hod_works"),newsVideoContainer:document.getElementById("hw_news_videos_container")},this.state={isHeaderCompact:!0,sizes:{}},this.canvasPoints={a:{x:100,y:200},b:{x:200,y:100},c:{x:300,y:200}},this.userAgent={},this.widgets={hodPageState:{activeScreen:"base"}},this.bindEvents(),this.setSizes(),this.initWidgets(),this.initStuff()}setSizes(){this.elements.logo&&(this.state.sizes.logo=this.elements.logo.offsetHeight),this.elements.canvas&&(this.state.sizes.canvas=this.elements.canvas.getBoundingClientRect()),this.elements.header&&this.setMainMargin()}initStuff(){this.userAgent=this.widgets.UAParser.getResult(),sessionStorage.getItem("hodworks_splash_screen_closed")==="true"&&(this.widgets.splashScreenVideoPlayer.pause(),this.elements.splashScreenContainer.remove())}bindEvents(){const f=()=>{Math.round(document.documentElement.scrollTop)>100?(this.state.isHeaderCompact||this.elements.header.classList.add("c-header--compact"),this.state.isHeaderCompact=!0):(this.elements.menu&&this.elements.header&&(this.elements.header.classList.remove("c-header--compact"),this.elements.main.style.paddingTop=this.state.sizes.header+"px"),this.state.isHeaderCompact=!1),Math.round(document.documentElement.scrollTop)};if(window.addEventListener("scroll",$l.exports.throttle(()=>f(),250)),this.elements.menuButton&&this.elements.menu&&this.elements.menuButton.addEventListener("click",A=>{A.currentTarget.classList.toggle("is-active"),this.elements.menu.classList.toggle("c-main-navigation--open"),this.elements.header.classList.toggle("c-header--open")}),this.elements.piecesCurrentContainer&&this.elements.piecesCurrentTitle&&(this.elements.piecesCurrentTitle.addEventListener("click",A=>{this.elements.piecesPastTitle.classList.toggle("c-pieces__title-container--hidden")}),this.elements.piecesCurrentContainer.querySelectorAll(".c-pieces__link").forEach(A=>{A.addEventListener("mouseenter",v=>{!v.target.dataset.image||(this.elements.piecesPastImageContainer.classList.add("c-pieces__image-container--visible"),this.elements.piecesPastImageContainer.querySelector("img").src=v.target.dataset.image)}),A.addEventListener("mouseleave",v=>{this.elements.piecesPastImageContainer.classList.remove("c-pieces__image-container--visible"),this.elements.piecesPastImageContainer.querySelector("img").src=null})})),this.elements.piecesPastContainer&&this.elements.piecesPastTitle&&(this.elements.piecesPastTitle.addEventListener("click",A=>{this.elements.piecesCurrentTitle.classList.toggle("c-pieces__title-container--hidden")}),this.elements.piecesPastContainer.querySelectorAll(".c-pieces__link").forEach(A=>{A.addEventListener("mouseenter",v=>{!v.target.dataset.image||(this.elements.piecesCurrentImageContainer.classList.add("c-pieces__image-container--visible"),this.elements.piecesCurrentImageContainer.querySelector("img").src=v.target.dataset.image)}),A.addEventListener("mouseleave",v=>{this.elements.piecesCurrentImageContainer.classList.remove("c-pieces__image-container--visible"),this.elements.piecesCurrentImageContainer.querySelector("img").src=null})})),this.elements.companyYearList&&this.elements.companyYearList.querySelectorAll("h3").forEach(A=>{A.addEventListener("click",v=>{this.elements.companyYearList.querySelectorAll("h3").forEach(P=>{P.classList.remove("c-company__year--active")}),v.target.classList.toggle("c-company__year--active"),this.elements.companyYearList.querySelectorAll("div").forEach(P=>{P.classList.remove("c-company__year-description--open")}),window.innerWidth<=768?(this.elements.companyTextContainerAlt.classList.add("c-company__text-container-alt--visible"),this.elements.companyTextContainer.classList.add("c-company__text-container--hidden"),this.elements.companyTextContainerAlt.innerHTML=v.target.nextElementSibling.innerHTML):window.innerWidth>768&&v.target.nextElementSibling.classList.toggle("c-company__year-description--open")})}),this.elements.calendarYearsList){const A=this.elements.calendarYearsList.querySelectorAll("li");A.forEach(v=>{v.addEventListener("click",P=>{A.forEach(q=>{q.classList.remove("c-calendar__year--active")}),this.elements.calendarTablesContainer.querySelectorAll(".c-calendar__table").forEach(q=>{q.classList.remove("c-calendar__table--visible")}),v.classList.add("c-calendar__year--active"),document.getElementById(`hw_calendar_table_${v.dataset.year}`).classList.add("c-calendar__table--visible")})})}if(this.elements.canvas&&this.elements.canvas.addEventListener("mousemove",function(A){handleMouseMove(this.canvasPoints.a,A),handleMouseMove(this.canvasPoints.b,A),handleMouseMove(this.canvasPoints.c,A)}),window.addEventListener("resize",()=>this.initResize()),this.elements.singlePieceSubContents.length>0){const A=()=>{this.elements.singlePieceSubContents.forEach(v=>{v.classList.remove("c-piece__sub-content--active")})};this.elements.singlePieceGalleriesContainer&&this.elements.singlePieceGalleryButton&&this.elements.singlePieceGalleryButton.addEventListener("click",v=>{console.log(v),A(),this.elements.singlePieceGalleriesContainer.classList.add("c-piece__sub-content--active")}),this.elements.singlePieceVideosContainer&&this.elements.singlePieceVideoButton&&this.elements.singlePieceVideoButton.addEventListener("click",v=>{console.log(v),A(),this.elements.singlePieceVideosContainer.classList.add("c-piece__sub-content--active")}),this.elements.singlePieceInfoContainer&&this.elements.singlePieceInfoButton&&this.elements.singlePieceInfoButton.addEventListener("click",v=>{console.log(v),A(),this.elements.singlePieceInfoContainer.classList.add("c-piece__sub-content--active")})}this.elements.hodPageCvButton&&this.elements.hodPageCv&&this.elements.hodPageContent&&this.elements.hodPageWorks&&(this.elements.hodPageCvButton.addEventListener("click",A=>{this.widgets.hodPageState.activeScreen=="cv"?(A.currentTarget.classList.remove("c-hod__button--active"),this.elements.hodPageContent.classList.add("c-hod__content--active"),this.elements.hodPageCv.classList.remove("c-hod__content--active")):(A.currentTarget.classList.add("c-hod__button--active"),this.elements.hodPageWorksButton.classList.remove("c-hod__button--active"),this.widgets.hodPageState.activeScreen="cv",this.elements.hodPageContent.classList.remove("c-hod__content--active"),this.elements.hodPageWorks.classList.remove("c-hod__content--active"),this.elements.hodPageCv.classList.add("c-hod__content--active"))}),this.elements.hodPageWorksButton.addEventListener("click",A=>{this.widgets.hodPageState.activeScreen=="works"?(A.currentTarget.classList.remove("c-hod__button--active"),this.elements.hodPageContent.classList.add("c-hod__content--active"),this.elements.hodPageWorks.classList.remove("c-hod__content--active")):(A.currentTarget.classList.add("c-hod__button--active"),this.elements.hodPageCvButton.classList.remove("c-hod__button--active"),this.widgets.hodPageState.activeScreen="works",this.elements.hodPageContent.classList.remove("c-hod__content--active"),this.elements.hodPageCv.classList.remove("c-hod__content--active"),this.elements.hodPageWorks.classList.add("c-hod__content--active"))}))}initWidgets(){if(this.widgets.UAParser=new Gl.exports.UAParser,this.elements.singlePieceGallery&&this.elements.singlePieceGalleryList&&this.elements.singlePieceThumbnailGallery&&this.elements.singlePieceThumbnailGalleryList&&(this.widgets.singlePieceGallery=new tu(this.elements.singlePieceGallery,{type:"fade",rewind:!0,pagination:!1}),this.widgets.singlePieceThumbnailGallery=new tu(this.elements.singlePieceThumbnailGallery,{fixedWidth:100,gap:0,rewind:!0,pagination:!1,arrows:!1}),this.widgets.singlePieceGallery.sync(this.widgets.singlePieceThumbnailGallery),this.widgets.singlePieceGallery.mount(),this.widgets.singlePieceThumbnailGallery.mount()),this.elements.singlePieceVideosContainer&&this.elements.singlePieceVideosContainer.querySelectorAll(".c-vimeo-player").forEach(f=>{this.widgets[`singlePieceVimeoPlayer${f.dataset.code}`]=new vs(f)}),this.elements.newsVideoContainer&&this.elements.newsVideoContainer.querySelectorAll(".c-vimeo-player").forEach(f=>{this.widgets[`newsVimeoPlayer${f.dataset.code}`]=new vs(f,{volume:0,autoplay:!0,muted:!0,controls:!1,loop:{active:!0}})}),this.elements.splashScreenVideo&&(this.widgets.splashScreenVideoPlayer=new vs(this.elements.splashScreenVideo,{volume:0,autoplay:!0,muted:!0,controls:!1})),this.elements.splashScreenCanvas){ut.exports.setup(this.elements.splashScreenCanvas);const f=new ut.exports.Path({segments:[[0,ut.exports.view.viewSize.height/2],[ut.exports.view.viewSize.width/4,ut.exports.view.viewSize.height/2],[ut.exports.view.viewSize.width/4*2,ut.exports.view.viewSize.height/2],[ut.exports.view.viewSize.width/4*3,ut.exports.view.viewSize.height/2],[ut.exports.view.viewSize.width,ut.exports.view.viewSize.height/2]],strokeColor:"#ffffff",strokeWidth:10}),A=new ut.exports.Path({segments:[[5,ut.exports.view.viewSize.height],[5,ut.exports.view.viewSize.height]],strokeColor:"#ffffff",strokeWidth:10}),v=new ut.exports.Path({segments:[[ut.exports.view.viewSize.width-5,0],[ut.exports.view.viewSize.width-5,0]],strokeColor:"#ffffff",strokeWidth:10});this.widgets.splashScreenVideoPlayer.on("playing",P=>{P.detail.plyr,console.log(P.detail),f.tween({"segments[0].point.y":ut.exports.view.viewSize.height/3,"segments[1].point.y":ut.exports.view.viewSize.height/3*2,"segments[2].point.y":ut.exports.view.viewSize.height/3,"segments[3].point.y":ut.exports.view.viewSize.height/3*2,"segments[4].point.y":ut.exports.view.viewSize.height/3},{easing:"easeInOutCubic",duration:2e3}),A.tween({"segments[0].point.y":0},{easing:"easeInOutCubic",duration:2e3}),v.tween({"segments[1].point.y":ut.exports.view.viewSize.height},{easing:"easeInOutCubic",duration:2e3})}),ut.exports.view.onMouseMove=function(P){const q=f.getNearestLocation(P.point);q.distance<=30&&q.segment.index!==0&&q.segment.index!==4&&(f.segments[q.segment.index].point.y-P.point.y<0&&P.delta.y<0?f.segments[q.segment.index].point.y+P.delta.y>10&&f.segments[q.segment.index].point.y+P.delta.y<ut.exports.view.bounds.height-10&&(f.segments[q.segment.index].point.y=f.segments[q.segment.index].point.y+P.delta.y):f.segments[q.segment.index].point.y-P.point.y>=0&&P.delta.y>0&&f.segments[q.segment.index].point.y+P.delta.y>10&&f.segments[q.segment.index].point.y+P.delta.y<ut.exports.view.bounds.height-10&&(f.segments[q.segment.index].point.y=f.segments[q.segment.index].point.y+P.delta.y),f.segments[q.segment.index].point.x-P.point.x<0&&P.delta.x<0?f.segments[q.segment.index].point.x+P.delta.x>10&&f.segments[q.segment.index].point.x+P.delta.x<ut.exports.view.bounds.width-10&&(f.segments[q.segment.index].point.x=f.segments[q.segment.index].point.x+P.delta.x):f.segments[q.segment.index].point.x-P.point.x>=0&&P.delta.x>0&&f.segments[q.segment.index].point.x+P.delta.x>10&&f.segments[q.segment.index].point.x+P.delta.x<ut.exports.view.bounds.width-10&&(f.segments[q.segment.index].point.x=f.segments[q.segment.index].point.x+P.delta.x))},ut.exports.view.onResize=function(P){f.segments[0].point.y=ut.exports.view.viewSize.height/3,f.segments[1].point.y=f.segments[1].point.y+P.delta.height,f.segments[2].point.y=f.segments[2].point.y+P.delta.height,f.segments[3].point.y=f.segments[3].point.y+P.delta.height,f.segments[4].point.y=ut.exports.view.viewSize.height/3,f.segments[0].point.x=0,f.segments[1].point.x=f.segments[1].point.x+P.delta.width,f.segments[2].point.x=f.segments[2].point.x+P.delta.width,f.segments[3].point.x=f.segments[3].point.x+P.delta.width,f.segments[4].point.x=ut.exports.view.viewSize.width,v.segments[0].point.y=0,v.segments[1].point.y=ut.exports.view.viewSize.height,A.segments[0].point.y=0,A.segments[1].point.y=ut.exports.view.viewSize.height,v.segments[0].point.x=ut.exports.view.viewSize.width-5,v.segments[1].point.x=ut.exports.view.viewSize.width-5,A.segments[0].point.x=5,A.segments[1].point.x=5},ut.exports.view.onClick=P=>{f.tween({"segments[0].point.y":ut.exports.view.center.y,"segments[1].point.y":ut.exports.view.center.y,"segments[2].point.y":ut.exports.view.center.y,"segments[3].point.y":ut.exports.view.center.y,"segments[4].point.y":ut.exports.view.center.y},{easing:"easeOutCubic",duration:1e3}).then(()=>{this.elements.splashScreenContainer.classList.add("c-splash-screen--faded"),this.widgets.splashScreenVideoPlayer.pause(),setTimeout(()=>{this.elements.splashScreenContainer.remove()},1e3)}),A.tween({"segments[0].point.y":ut.exports.view.viewSize.height},{easing:"easeInOutCubic",duration:1e3}),v.tween({"segments[1].point.y":0},{easing:"easeInOutCubic",duration:1e3})}}if(this.elements.headerCanvas){ut.exports.setup(this.elements.headerCanvas);const f=new ut.exports.Path({segments:[[3,ut.exports.view.viewSize.height/2],[ut.exports.view.viewSize.width/4,ut.exports.view.viewSize.height/3*2],[ut.exports.view.viewSize.width/4*2,ut.exports.view.viewSize.height/3],[ut.exports.view.viewSize.width/4*3,ut.exports.view.viewSize.height/3*2],[ut.exports.view.viewSize.width-3,ut.exports.view.viewSize.height/2]],strokeColor:"#000000",strokeWidth:5}),A=new ut.exports.Path({segments:[[5,ut.exports.view.viewSize.height],[5,0]],strokeColor:"#000000",strokeWidth:5}),v=new ut.exports.Path({segments:[[ut.exports.view.viewSize.width-5,ut.exports.view.viewSize.height],[ut.exports.view.viewSize.width-5,0]],strokeColor:"#000000",strokeWidth:5});ut.exports.view.onResize=function(P){f.segments[0].point.x=3,f.segments[0].point.y=ut.exports.view.viewSize.height/2,f.segments[1].point.x=ut.exports.view.viewSize.width/4,f.segments[1].point.y=ut.exports.view.viewSize.height/3*2,f.segments[2].point.x=ut.exports.view.viewSize.width/4*2,f.segments[2].point.y=ut.exports.view.viewSize.height/3,f.segments[3].point.x=ut.exports.view.viewSize.width/4*3,f.segments[3].point.y=ut.exports.view.viewSize.height/3*2,f.segments[4].point.x=ut.exports.view.viewSize.width-3,f.segments[4].point.y=ut.exports.view.viewSize.height/2,A.segments[0].point.x=5,A.segments[1].point.x=5,v.segments[0].point.x=ut.exports.view.viewSize.width-5,v.segments[1].point.x=ut.exports.view.viewSize.width-5,ut.exports.view.red}}}setMainMargin(){this.elements.header&&this.elements.main&&(this.widgets.elementResizeObserver=new ResizeObserver(f=>{this.elements.main.style.marginTop=`${this.elements.header.offsetHeight}px`}),this.widgets.elementResizeObserver.observe(this.elements.header))}initResize(){this.setMainMargin}}const d=new o;console.log(d)});console.log("main.js");
